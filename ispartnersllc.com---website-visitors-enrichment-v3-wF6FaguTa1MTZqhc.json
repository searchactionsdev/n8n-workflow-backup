{"createdAt":"2025-02-26T20:45:24.469Z","updatedAt":"2025-02-28T20:18:25.000Z","id":"wF6FaguTa1MTZqhc","name":"ispartnersllc.com - Website Visitors Enrichment V3","active":true,"nodes":[{"parameters":{"content":"","height":710,"width":33427,"color":5},"id":"41fd8a43-5344-4740-8c07-ade399b896fb","name":"Sticky Note18","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-2140,360]},{"parameters":{"content":"# Email","height":657.5396701276555,"width":1638.5456474464108},"id":"16910658-4c36-43c1-9955-4ee8a9fb0d56","name":"Sticky Note19","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-340,380]},{"parameters":{"content":"# Profile Search\n","height":662.0009562366216,"width":474.6057449096941},"id":"acb96ebb-a774-44ac-ae59-44ac1611de4b","name":"Sticky Note20","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[3280,380]},{"parameters":{"content":"# Mobile Finder\n","height":668.0153059386458,"width":531.407552793027},"id":"90bca186-4e85-4150-b52e-cdd87e376aaa","name":"Sticky Note21","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[3780,380]},{"parameters":{"content":"# Company Search","height":665.6974451120005,"width":616.2127612181199},"id":"0e9e70aa-9f6d-40c7-bd38-03b262bdd35e","name":"Sticky Note22","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[4340,380]},{"parameters":{"content":"# Finding Linked In","height":662.0009562366216,"width":744.3058102443995},"id":"48ecbca7-28f8-4a49-8b44-e30b64680443","name":"Sticky Note23","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[2520,380]},{"parameters":{"content":"# Combining enriched data","height":666.3611607590979,"width":1104.1482358361466},"id":"d51b8088-91c4-4d6e-8994-bc0552731c1e","name":"Sticky Note24","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[4980,380]},{"parameters":{"content":"# Finding most probable data","height":666,"width":846},"id":"45e1c476-b746-4776-aa8d-7d347262a895","name":"Sticky Note25","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[6100,380]},{"parameters":{"model":"claude-3-5-sonnet-20241022","options":{}},"id":"87da7f0d-75d9-4a1e-a837-f3a53ef840ec","name":"Anthropic Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.2,"position":[-980,880],"credentials":{"anthropicApi":{"id":"h0MMyf5nQ4cycwwR","name":"searchactions.com: ispartnersllc.com - Visitor Enrichment"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const input = $('Summarizing').first().json\n\nconst message = `\n${JSON.stringify(input)}\n-- YOUR TASK --\nFill out missing information about the company and the user\n(User that visited Client's website and their Company).\nUse the data that exists to help you out in your task.\n\nThe most important data that we need are:\n- Users First Name and Last Name\n- Users Primary Email (This is important to find)\n- Users Linked IN profile URL \n- Company Linked IN profile URL\n- Company Name and Domain\n- Users Profile Picture URL (Find on Linked in or Scraping the Web)\n\n-- TASK EXAMPLE -- \nIf there is for example Company name provided, use that to search \nadditional information about that Company on the internet (Size, Revenue, Domain, etc.).\nCompany domain can be also helpful: ${input.company_info.domain}.\n\n\n-- INFORMATION ABOUT PROVIDED OBJECT KEY'S --- \n- User info Object\nfirst_name (First Name of the User)\nlast_name (Last Name of the User) \nrole (Users role / title in the Company)\nprimary_email (Users primary email) \npersonal_emails (Array of users personal emails)\nwork_emails (Array of users work emails)\nphone_numbers (Array of Users phone numbers )\nsocial_urls (Object providing Social URL's of the User)\nlocation (Object providing users Location)\n- Company Info Object\nname (Name of the Company)\nsize (Company's number of employees)\nrevenue (Company's revenue)\ndomain (Domain of companies Website)\nindustry (The industry that the Company is in)\nsocial_urls (Object of Company's social URL's )\nphone_numbers (Array of Company's phone numbers)\nlocation (Object providing Company's location)\n\n\n--- RULES ---\na) IMPORTANT! Do not fill any information about technical_data and upcoming_meeting_data but include them in your response.\nb) Try to have as little empty values for the key's inside the object.\n`\n\n\nreturn {message:message};\n//.replace(/\\s/g, '')"},"id":"1691d827-7302-4c1d-9db6-e093dab5a9df","name":"Anhtropic Query","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1180,640]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const formatted = {\n  \"user_info\":{\n    \"first_name\": \"Cameron\" ,\n    \"last_name\": \"Fulton\",\n    \"role\":\"\",\n    \"primary_email\": \"\",\n    \"personal_emails\":  [],\n    \"work_emails\": [],\n    \"phone_numbers\":[],\n    \"social_urls\":{\n     \"linked_in\": \"\",\n    },\n    \"location\":{\n      \"city\": \"\" ,\n      \"state\":\"\",\n      \"zip\":\"\"\n    },\n  },\n  \"company_info\":{\n    name: \"Search Actions\",\n    size: \"\",\n    revenue: \"\",\n    domain: \"https://www.searchactions.com/\",\n    industry: \"\",\n    social_urls:{\n     linked_in: \"https://www.linkedin.com/company/searchactions\",\n     facebook: \"\",\n     twitter: \"\",\n     instagram: \"\",\n    },\n    phone_numbers:[],\n    \"location\":{\n      \"city\":\"\",\n      \"state\":\"\",\n      \"country\":\"\",\n      \"address\":\"\",\n      \"zip\":\"\",\n    }\n  },\n   technical_data:{\n    \"page_visited_url\": \"https://example.com/home\" || \"\",\n    \"utmCampaign\": \"Winter Campaign\" || \"\",\n    \"utmContent\": \"product_launch\" || \"\",\n    \"utmMedium\": \"email\" || \"\",\n    \"utmSource\": \"newsletter\" || \"\",\n    \"utmTerm\": \"new_product\" || \"\",\n    \"vvid\": \"1234abcd\" || \"\",\n    \"hem\": \"heme123\"\n  }\n}\nreturn formatted\n"},"id":"763f6b83-2248-4851-984c-bbe95f9d2eba","name":"Mockup Data","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1800,400]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst input = $input.item.json;\n\nconst user_info = input.user_info\nconst company_info = input.company_info\nconst technical_data = input.technical_data\nconst upcoming_meeting_data = input?.upcoming_meeting_data \nconst formatted_data = {\n prospect_source: $json?.prospect_source || \"\",\n user_info:{\n    \"first_name\" : user_info.first_name || \"\",\n    \"last_name\" : user_info.last_name || \"\" ,\n    \"role\": user_info.role || \"\",\n    \"primary_email\" : user_info.primary_email || \"\",\n    \"personal_emails\" : user_info.personal_emails || [],\n    \"work_emails\" : user_info.work_emails || [],\n    \"phone_numbers\": user_info.phone_numbers || [],\n    \"social_urls\":{\n      \"linked_in\" :user_info.social_urls.linked_in || \"\",\n      \"facebook\": user_info.social_urls.facebook || \"\",\n      \"twitter\" : user_info.social_urls.twitter || \"\",\n      \"git_hub\": user_info.social_urls.git_hub || \"\",\n      \"blog\": user_info.social_urls.blog || \"\",\n      \"stackoverflow\": user_info.social_urls.stackoverflow || \"\",\n      \"pitchbook\": user_info.social_urls.pitchbook || \"\",\n      \"monster\": user_info.social_urls.monster || \"\",\n      \"crunchbase\": user_info.social_urls.crunchbase || \"\",\n      \"angellist\": user_info.social_urls.angellist || \"\",\n      \"indeed\": user_info.social_urls.indeed || \"\",\n      \"glassdoor\": user_info.social_urls.glassdoor || \"\",\n    },\n    \"location\":{\n      \"city\": user_info.location.city || \"\",\n      \"state\": user_info.location.state || \"\",\n      \"country\": user_info.location.country || \"\",\n      \"address\": user_info.location.address || \"\",\n      \"zip\": user_info.location.zip || \"\"\n    },\n },\n company_info:{\n   \"name\": company_info.name || \"\",\n   \"size\": company_info.size || \"\",\n   \"revenue\": company_info.revenue || \"\",\n   \"domain\": company_info.domain || \"\",\n   \"industry\": company_info.industry || \"\",\n   \"specialities\": [],\n   \"social_urls\":{\n     \"linked_in\": company_info.social_urls.linked_in || \"\",\n     \"facebook\" : company_info.social_urls.facebook || \"\",\n     \"twitter\": company_info.social_urls.twitter || \"\",\n     \"instagram\": company_info.social_urls.instagram || \"\",\n     \"blog\": company_info.social_urls.blog || \"\",\n     \"stackoverflow\": company_info.social_urls.stackoverflow || \"\",\n     \"pitchbook\": company_info.social_urls.pitchbook || \"\",\n     \"monster\": company_info.social_urls.monster || \"\",\n     \"crunchbase\": company_info.social_urls.crunchbase || \"\",\n     \"angellist\": company_info.social_urls.angellist || \"\",\n     \"indeed\": company_info.social_urls.indeed || \"\",\n     \"glassdoor\": company_info.social_urls.glassdoor || \"\",\n   },\n   \"phone_numbers\": company_info.phone_numbers || [],\n   \"location\":{\n     \"city\" : company_info.location.city || \"\",\n     \"state\": company_info.location.state || \"\",\n     \"country\": company_info.location.country || \"\",\n     \"address\": company_info.location.address || \"\",\n     \"zip\": company_info.location.zip || \"\",\n    }\n },\n technical_data:{\n    \"company_id\":$json.technical_data.company_id || \"\",\n    \"page_visited_title\": technical_data.page_visited_title || \"\",\n    \"page_visited_url\": technical_data.page_visited_url || \"\",\n    \"utmCampaign\":technical_data.utmCampaign || \"\",\n    \"utmContent\": technical_data.utmContent || \"\",\n    \"utmMedium\": technical_data.utmMedium || \"\",\n    \"utmSource\": technical_data.utmSource || \"\",\n    \"utmTerm\":technical_data.utmTerm || \"\",\n    \"vvid\": technical_data.vvid || \"\",\n    \"hem\": technical_data.hem || \"\"\n  },\n upcoming_meeting_data: upcoming_meeting_data || {\n    meeting_with: \"\",\n    meeting_time:  \"\",\n    lifecycle_stage:  \"\",\n    form_message: \"\",\n    hubspot_id: \"\"\n  }\n}\nreturn formatted_data;"},"id":"70ea0b3a-ec6c-43ff-b227-1b5e92433ea2","name":"Summarizing","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1420,640]},{"parameters":{"content":"# Finding Missing data using AI","height":660,"width":921},"id":"7b2a02e9-4dff-4013-a703-ee5d320ce0f2","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-1280,380]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const user_info = $json?.output?.user_info  || null\nconst company_info = $json?.output?.company_info  || null\nconst technical_data = $json?.output?.technical_data  || null\nconst fallback = $('Summarizing').first().json\n\nlet prospect = {}\n\n\n\nif(user_info && company_info && technical_data){\n  prospect =  {\n  user_info:user_info,\n  company_info:company_info,\n  technical_data: technical_data\n}\n}else{\n  prospect = {\n  user_info:fallback.user_info,\n  company_info:fallback.company_info,\n  technical_data:fallback.technical_data\n }\n}\n\n\nreturn prospect\n\n"},"id":"00a0a3a7-2547-4549-9f64-d029721a0a14","name":"Anthropic Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[-640,640]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const formatted = {\n  email: $json?.email || \"\",\n  status: $json?.status || \"\",\n  is_domain_catch_all: $json?.is_domain_catch_all ? \"true\" :\"false\" ,\n  mx_record: $json?.mx_record || \"\" ,\n  mx_provider: $json?.mx_provider || \"\",\n  mx_security_gateway:$json?.mx_security_gateway  ? \"true\" :\"false\" ,\n  company_name: $json?.company_name || \"\",\n  company_industry:$json?.company_industry ||\"\" ,\n  company_size:$json?.company_size || \"\" ,\n  company_founded:$json?.company_founded || \"\" ,\n  company_location:$json?.company_location || {} ,\n  company_linkedin_url:$json?.company_linkedin_url || \"\" ,\n  company_facebook_url: $json?.company_facebook_url || \"\",\n  company_twitter_url: $json?.company_twitter_url || \"\",\n  company_type: $json?.company_type ||\"\"\n};\n\nreturn formatted;"},"id":"83a61577-dbda-4dc2-9c4a-3f623121e07e","name":"Combining Email data","type":"n8n-nodes-base.code","typeVersion":2,"position":[1100,520]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let query = {}\nconst anthropic_response = $('Anthropic Response')?.first()?.json\nconst email_data = $('Combining Email data')?.first()?.json\n\nconst personal_email = anthropic_response?.user_info?.primary_email || anthropic_response?.user_info?.personal_emails[0] || email_data?.email || null\n\nif(personal_email){\n  query.personal_email = personal_email\n}\n\nconst work_email = anthropic_response?.user_info?.work_emails[0]\nif(work_email){\n  query.work_email = work_email\n}\n\nreturn {query: query};"},"id":"2b5f892a-31c6-480e-b206-798dd6dd7444","name":"Finding Linked In query","type":"n8n-nodes-base.code","typeVersion":2,"position":[2740,780]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"8f76ed7b-d138-4cb3-8222-41eed0b74261","leftValue":"={{ $('Anthropic Response').item.json.user_info.social_urls.linkedin }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"99313796-efb3-4947-a47d-450ec44dfd11","leftValue":"={{ $('Combining Email data').item.json.email }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}}],"combinator":"or"},"looseTypeValidation":true,"options":{}},"id":"3545bddb-8a0c-49bf-bd05-1e889b6a458d","name":"Is personal LinkedIn present?","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[2580,520]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"b6eb8329-6460-444c-90e8-a9cdf8dcde11","leftValue":"={{ $('Anthropic Response').item.json.user_info.social_urls.linkedin }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"3d756f01-b5b7-4035-9283-84d85f2d0eeb","leftValue":"={{ $('Anthropic Response').item.json.company_info.social_urls.linkedin }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"bcedea83-7c76-49c1-a177-e2fffebc8bf3","leftValue":"={{ $('Combining Email data').item.json.company_linkedin_url }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}}],"combinator":"or"},"options":{}},"id":"7b29aa20-a7f7-490d-857e-9b6ab1e8ced2","name":"Is personal OR company LinkedIn present?","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3100,560]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst input = $input.item.json;\nlet query= {}\n\nconst email_data =  $('Combining Email data').first().json\n\nconst linked_in = $('Anthropic Response')?.first()?.json?.user_info?.social_urls?.linked_in ||$('Anthropic Response')?.first()?.json?.company_info?.social_urls?.linked_in || email_data?.company_linkedin_url || email_data?.company_linkedin_url || input?.company_linkedin_url || \"\"\n\n\n// const personal_email = $('Anthropic Response').first()?.json?.user_info?.primary_email || $('Anthropic Response').first()?.json?.user_info?.personal_emails[0] || $('Email Validation').first()?.json?.email || $('Email Finder').first().json?.email\n\nconst personal_email = email_data?.email || $('Anthropic Response').first()?.json?.user_info?.primary_email || $('Anthropic Response').first()?.json?.user_info?.personal_emails[0] \n\n\nconst work_email = $('Anthropic Response')?.first()?.json?.user_info?.work_emails[0]\n\nif(linked_in){\n  query.profile_url = linked_in\n}\nif(personal_email){\n  query.personal_email = personal_email\n}\nif(work_email){\n  query.work_email = work_email\n}\n\nreturn {query: query};"},"id":"032af22b-b7f0-48af-a6af-1c54f409b48e","name":"Mobile Finder query","type":"n8n-nodes-base.code","typeVersion":2,"position":[3860,680]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst input = $input.item.json\nlet profile_search = null\nfunction fixURL(url) {\n    // Check if the URL starts with \"http://\" or \"https://\"\n    if (url.indexOf(\"http://\") !== 0 && url.indexOf(\"https://\") !== 0) {\n        // If it doesn't, prepend \"https://\"\n        url = \"https://\" + url;\n    }\n\n    // Ensure the URL starts with \"https://www.\"\n    if (url.indexOf(\"https://www.\") !== 0) {\n        // Replace \"https://\" with \"https://www.\"\n        url = url.replace(\"https://\", \"https://www.\");\n    }\n\n    // Ensure the URL ends with \"/\"\n    if (url.charAt(url.length - 1) !== '/') {\n        url = url + '/';\n    }\n\n    return url;\n}\ntry{\n  profile_search = $('Profile Search').first().json\n}catch(error){}\n\n\nlet query = {}\nconst linked_in = $json?.profile_url || profile_search?.profileUrl || $('Anthropic Response').first().json.user_info.social_urls.linked_in \n\nconst company_domain = $('Anthropic Response').first().json.company_info.domain || profile_search?.company_website\n\nconst company_name = $('Anthropic Response').first().json?.company_info?.name || $('Combining Email Data').first().json?.company_name || profile_search?.company_name\n\n\nif(linked_in){\n  query.profile_url = fixURL(linked_in)\n}\nif(company_domain){\n  query.company_domain = company_domain\n}\nif(company_name){\n  query.company_name = company_name\n}\nreturn {query:query};"},"id":"0e23cb54-cdb2-4ef0-8b7e-74065e82abff","name":"Company Search query","type":"n8n-nodes-base.code","typeVersion":2,"position":[4400,680]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"41f0e71c-482c-403d-bacf-426677d88292","leftValue":"={{ $json.query }}","rightValue":"","operator":{"type":"object","operation":"notEmpty","singleValue":true}}],"combinator":"or"},"options":{}},"id":"44ba0373-fc21-4a8b-b107-f0664be85736","name":"Do we have Linked in, company domain or company name ?","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[4620,680]},{"parameters":{"method":"POST","url":"https://api.leadmagic.io/company-search","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"accept","value":"application/json"},{"name":"content-type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.query }}","options":{}},"id":"b339a10f-2314-437a-b227-6d617f90464a","name":"Company Search","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[4840,500],"retryOnFail":false,"notesInFlow":true,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}},"onError":"continueRegularOutput","notes":"Lead Magic"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const structured_object = {\n  \"user_info\":$('Summarizing User Info').first().json.user_info,\n  \"company_info\": $('Summarizing Company Info').first().json.company_info,\n  \"technical_data\": $json.structured_object,\n  \"upcoming_meeting_data\": $('Summarizing').first().json.upcoming_meeting_data\n}\n\nreturn structured_object;"},"id":"b6d6cfe3-443b-4969-a366-6603a0131046","name":"Combining Company - User - Technical Data","type":"n8n-nodes-base.code","typeVersion":2,"position":[5900,700]},{"parameters":{"method":"POST","url":"https://api.leadmagic.io/b2b-profile","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"accept","value":"application/json"},{"name":"content-type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.query }}","options":{}},"id":"e9400f1a-619e-422e-87e3-262136f6cb7b","name":"Finding Linked In2","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2960,780],"retryOnFail":true,"notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}},"onError":"continueRegularOutput","notes":"Lead Magic"},{"parameters":{"method":"POST","url":" https://api.leadmagic.io/profile-search","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"accept","value":"application/json"},{"name":"content-type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"profile_url\": \"{{ $('Anthropic Response').item.json.user_info.social_urls.linkedin || $('Anthropic Response').item.json.company_info.social_urls.linkedin || $('Combining Email data').item.json.company_linkedin_url||$json.profile_url }}\"\n}","options":{}},"id":"a3375f77-9b9e-4040-9bae-225da7273712","name":"Profile Search","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3460,500],"retryOnFail":true,"notesInFlow":true,"maxTries":5,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}},"onError":"continueRegularOutput","notes":"Lead Magic"},{"parameters":{"method":"POST","url":"https://api.leadmagic.io/mobile-finder","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"accept","value":"application/json"},{"name":"content-type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.query }}","options":{}},"id":"2bfc91ad-f695-4374-a1ed-5246bee88bb0","name":"Mobile Finder","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[4100,680],"retryOnFail":true,"notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}},"onError":"continueRegularOutput","notes":"Lead Magic"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let profile_search = null\ntry{\n  profile_search = $('Profile Search').first().json\n}catch(error){}\n// NAME\nconst names = []\n\nconst summarizing_name = $('Anthropic Response')?.first()?.json?.company_info?.name || null\nsummarizing_name && names.push(summarizing_name)\n\nconst email_data_name = $('Combining Email data')?.first()?.json?.company_name || null\nemail_data_name && names.push(email_data_name)\n\nconst profile_search_name = profile_search?.company_name || null\nprofile_search_name && names.push(profile_search_name)\n\nconst company_search_name = $('Company Search')?.first()?.json?.companyName || null\ncompany_search_name && names.push(company_search_name)\n\n// SIZE\nconst sizes = []\nconst summarizing_size = $('Anthropic Response')?.first()?.json?.company_info?.size || null\nsummarizing_size && sizes.push(summarizing_size)\n\nconst email_data_size = $('Combining Email data')?.first()?.json?.company_size || null\nemail_data_size && sizes.push(email_data_size)\n\nconst profile_search_size = profile_search?.company_size || null\nprofile_search_size && sizes.push(profile_search_size)\n\n\nconst company_search_size = $('Company Search')?.first()?.json?.employeeCount || null\ncompany_search_size && sizes.push(company_search_size)\nconst company_search_size_start = $('Company Search')?.first()?.json?.employeeCountRange?.start || null\nconst company_search_size_end = $('Company Search')?.first()?.json?.employeeCountRange?.end || null\n \nif(company_search_size_start || company_search_size_end){\n  let finalSize = ''\n  if(company_search_size_start){\n    finalSize = finalSize + `${company_search_size_start} -`\n  }\n  if(company_search_size_end){\n    finalSize = finalSize + company_search_size_end\n  }\n  sizes.push(finalSize)\n}\n// REVENUE\nconst revenues = []\n\nconst summarizing_revenue = $('Anthropic Response')?.first()?.json?.company_info?.revenue || null\nsummarizing_revenue && revenues.push(summarizing_revenue)\n// DOMAIN\nconst domains = []\nfunction extractDomain(url) {\n  // Remove the protocol (http://, https://, etc.)\n  let domain = url.replace(/^https?:\\/\\//, '').replace(/^ftp:\\/\\//, '');\n  \n  // Remove 'www.' if it exists\n  domain = domain.replace(/^www\\./, '');\n  \n  // Trim the domain to get the part before the first '/' (if there's a path after the domain)\n  domain = domain.split('/')[0];\n  \n  return domain;\n}\nconst summarizing_domain = $('Anthropic Response')?.first()?.json?.company_info?.domain || null\nsummarizing_domain && domains.push(extractDomain(summarizing_domain))\n\nconst email_data_domain = $('Combining Email data')?.first()?.json?.domain || null\nemail_data_domain && domains.push(extractDomain(email_data_domain))\n\nconst profile_search_domain = profile_search?.company_website || null\nprofile_search_domain && domains.push(extractDomain(profile_search_domain))\n\nconst company_search_domain = $('Company Search')?.first()?.json?.websiteUrl || null\ncompany_search_domain && domains.push(extractDomain(company_search_domain))\n//INDUSTRY\nconst industries = []\n\nconst summarizing_industry = $('Anthropic Response')?.first()?.json?.company_info?.industry || null\nsummarizing_industry && industries.push(summarizing_industry)\n\nconst email_data_industry = $('Combining Email data')?.first()?.json?.company_industry || null\nemail_data_industry && industries.push(email_data_industry)\n\nconst profile_search_industry = profile_search?.company_industry || null\nprofile_search_industry && industries.push(profile_search_industry)\n\nconst company_search_industry = $('Company Search')?.first()?.json?.industry || null\ncompany_search_industry && industries.push(company_search_industry)\n// SPECIALITIES\nconst specialities = $('Company Search')?.first()?.json?.specialities || $('Anthropic Response')?.first()?.json?.company_info?.specialities || null\n// SOCIAL URLS\nlet social_urls_combined =   {\n      \"linked_in\": \"\",\n      \"facebook\": \"\",\n      \"twitter\" : \"\",\n      \"git_hub\": \"\",\n      \"blog\":  \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n}\n // linked in\nfunction convertLinkedInUrl(url) {\n  // Check if the URL already contains 'https://www.' at the start\n  if (!url.startsWith('https://www.')) {\n    // If not, add 'https://www.' to the beginning\n    url = 'https://www.' + url;\n  }\n\n  // Ensure the URL ends with a '/'\n  if (!url.endsWith('/')) {\n    url = url + '/';\n  }\n\n  return url;\n}\nconst combined_linked_ins  = []\nlet social_urls = $('Anthropic Response')?.first()?.json?.company_info?.social_urls \nsocial_urls.linked_in && combined_linked_ins.push(convertLinkedInUrl(social_urls.linked_in))\n\nconst email_data_linked_in = $('Combining Email data')?.first()?.json?.company_linkedin_url\nemail_data_linked_in && combined_linked_ins.push(convertLinkedInUrl(email_data_linked_in))\n\nconst profile_search_company_linkedin = profile_search?.company_linkedin_url\nprofile_search_company_linkedin && combined_linked_ins.push(convertLinkedInUrl(profile_search_company_linkedin))\n\nconst website_search_linkedin = $('Company Search')?.first()?.json?.url\nwebsite_search_linkedin && combined_linked_ins.push(convertLinkedInUrl(website_search_linkedin))\n\n\nsocial_urls_combined.linked_in = combined_linked_ins\n// facebook\nconst combined_facebook = []\nsocial_urls?.facebook && combined_facebook.push(social_urls.facebook)\n\nconst email_data_facebook  = $('Combining Email data')?.first()?.json?.company_facebook_url\nemail_data_facebook && combined_facebook.push(email_data_facebook)\n\nsocial_urls_combined.facebook = combined_facebook\n// twitter\nconst combined_twitter = []\nsocial_urls?.twitter && combined_twitter.push(social_urls.twitter)\n\nconst email_data_twitter = $('Combining Email data')?.first()?.json?.company_twitter_url\nemail_data_twitter && combined_twitter.push(email_data_twitter)\n\nsocial_urls_combined.twitter = combined_twitter\n\n\n//PHONE NUMBERS\nconst phone_numbers = $('Anthropic Response')?.first()?.json?.company_info?.phone_numbers\n\n//LOCATION\nconst locations = []\nconst summarizing_location = $('Anthropic Response')?.first()?.json?.company_info?.location\nlocations.push(summarizing_location)\n\nconst email_data_location = $('Combining Email data')?.first()?.json?.company_location\nif(email_data_location){\n  locations.push({\n     \"city\" :  email_data_location.locality || \"\",\n     \"state\": email_data_location.region || \"\",\n     \"country\":  email_data_location.country || \"\",\n     \"address\":  email_data_location.street_address || email_data_location.address_line_2 || \"\",\n     \"zip\": email_data_location.postal_code || \"\",\n  })\n}\n\nconst company_search_locations = $('Company Search')?.first()?.json?.locations\nif(company_search_locations && company_search_locations.length > 0 ){\n  company_search_locations.forEach(location =>{\n    locations.push({\n     \"city\" :  location?.city|| \"\",\n     \"state\":  location?.geographicArea || \"\",\n     \"country\":  location?.country || \"\",\n     \"address\":  location?.line1 || location?.line2 ? `${location?.line1} ${location?.line2}` : \"\",\n     \"zip\": location?.postalCode || \"\",\n    })\n  })\n}\n// COMPANY FOUNDED \nconst company_founded = []\nconst email_data_company_founded = $('Combining Email data')?.first()?.json?.company_founded\nemail_data_company_founded && company_founded.push(email_data_company_founded)\n\nconst company_data_founded_on_year = $('Company Search')?.first()?.json?.foundedOn?.year\ncompany_data_founded_on_year && company_founded.push(company_data_founded_on_year)\n\n// COMPANY TYPE\nconst company_types = []\nconst email_data_company_type = $('Combining Email data')?.first()?.json?.company_type\nemail_data_company_type && company_types.push(email_data_company_type)\n// COMPANY LOGO\nconst company_logo = $('Company Search')?.first()?.json?.logoResolutionResult || \"\"\n// COVER IMAGE\nconst cover_image = $('Company Search')?.first()?.json?.croppedCoverImage ? $('Company Search').first().json.croppedCoverImage : \"\"\n\n// SIMILAR ORGANIZATIONS\nconst similar_organizations = []\nconst company_data_similar_organizations = $('Company Search')?.first()?.json?.similarOrganizations\nif(company_data_similar_organizations &&company_data_similar_organizations.length >0 ){\n  company_data_similar_organizations.forEach(organization=>{\n    similar_organizations.push({\n      \"name\": organization?.name || \"\",\n      \"industry\": organization?.industry || \"\",\n      \"company_logo\": organization?.logoResolutionResult || \"\",\n      \"cover_image\": organization?.croppedCoverImage || \"\",\n      \"size\": organization?.employeeCountRange?.end || \"\",\n      \"locations\":[\n        {\n         \"city\" : organization?.headquarter?.city || \"\" ,\n         \"state\": organization?.headquarter?.geographicArea || \"\",\n         \"country\": organization?.headquarter?.country || \"\",\n         \"address\":  organization?.headquarter?.line1 || organization?.headquarter?.line2 ?`${organization?.headquarter?.line1 } ${organization?.headquarter?.line2}`: \"\" ,\n         \"zip\": organization?.headquarter?.postalCode || \"\",\n        }\n      ]\n    })\n  })\n\n}\n// DESCRIPTION\nconst company_description = $('Company Search')?.first()?.json?.description || \"\"\nconst company_info = {\n   \"name\": names,\n   \"description\" : company_description,\n   \"logo\": company_logo,\n   \"cover_image\": cover_image,\n   \"size\": sizes,\n   \"founded\": company_founded,\n   \"revenue\":  revenues,\n   \"type\": company_types,\n   \"domain\":  domains,\n   \"industry\": industries,\n   \"specialities\": specialities,\n   \"social_urls\":social_urls_combined,\n   \"phone_number\":  phone_numbers,\n   \"location\": locations,\n   \"similar_organizations\" :similar_organizations\n}\n\nreturn {company_info};\n"},"id":"d35e7e15-4b40-4836-b6d5-d649b2b6fa63","name":"Summarizing Company Info","type":"n8n-nodes-base.code","typeVersion":2,"position":[5320,700]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let profile_search = null\ntry{\n  profile_search = $('Profile Search').first().json\n}catch(err){}\n\n// FIRST NAME\nconst first_names = [] \n\nconst summarizing_first_name = $('Anthropic Response')?.first()?.json?.user_info?.first_name || null\nsummarizing_first_name && first_names.push(summarizing_first_name);\n\nconst email_data_first_name = $('Combining Email data')?.first()?.json?.first_name || null\nemail_data_first_name && first_names.push(email_data_first_name)\n\nconst profile_search_first_name = profile_search?.firstName || null\nprofile_search_first_name && first_names.push(profile_search_first_name)\n\n// LAST NAME\nconst last_names = []\n\nconst summarizing_last_name = $('Anthropic Response')?.first()?.json?.user_info?.last_name || null\nsummarizing_last_name && last_names.push(summarizing_last_name);\n\nconst email_data_last_name = $('Combining Email data')?.first()?.json?.last_name || null\nemail_data_last_name && last_names.push(email_data_last_name)\n\nconst profile_search_last_name = profile_search?.lastName || null\nprofile_search_last_name && last_names.push(profile_search_last_name)\n// ROLE \nconst roles = []\nconst summarizing_role = $('Anthropic Response')?.first()?.json?.user_info?.role || null\nsummarizing_role && roles.push(summarizing_role)\n\nconst profile_search_role = profile_search?.headline || null\nprofile_search_role && roles.push(profile_search_role)\n\n// PRIMARY EMAIL\nconst primary_emails = []\nconst summarizing_primary_email = $('Anthropic Response')?.first()?.json?.user_info?.primary_email || null\nsummarizing_primary_email && primary_emails.push(summarizing_primary_email)\n\nconst email_data_primary_email = $('Combining Email data')?.first()?.json?.email || null\nemail_data_primary_email && primary_emails.push(email_data_primary_email)\n// PERSONAL EMAILS\nlet personal_emails =  $('Anthropic Response')?.first()?.json?.user_info?.personal_emails || []\nconst combining_email_data_personal_email =  $('Combining Email data')?.first()?.json?.email || null\ncombining_email_data_personal_email && personal_emails.push(combining_email_data_personal_email)\n// WORK EMAILS\nlet work_emails = $('Anthropic Response')?.first()?.json?.user_info?.work_emails || []\n// PHONE NUMBERS\nlet phone_numbers =  $('Anthropic Response')?.first()?.json?.user_info?.phone_numbers || []\nconst lead_magic_phone_number = $('Mobile Finder')?.first()?.json?.mobile_number || null\nlead_magic_phone_number && phone_numbers.push(lead_magic_phone_number)\n// SOCIAL URLS\nconst combined_social_urls = {\n     \"linked_in\": \"\",\n      \"facebook\": \"\",\n      \"twitter\" : \"\",\n      \"git_hub\": \"\",\n      \"blog\":  \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n}\nlet social_urls = $('Anthropic Response')?.first()?.json?.user_info?.social_urls || null\nconst profile_search_linked_in = profile_search?.profileUrl || null\n\nconst linked_in_list = []\nfunction convertLinkedInUrl(url) {\n  // Check if the URL already contains 'https://www.' at the start\n  if (!url.startsWith('https://www.')) {\n    // If not, add 'https://www.' to the beginning\n    url = 'https://www.' + url;\n  }\n\n  // Ensure the URL ends with a '/'\n  if (!url.endsWith('/')) {\n    url = url + '/';\n  }\n\n  return url;\n}\nsocial_urls?.linked_in && linked_in_list.push(convertLinkedInUrl(social_urls.linked_in))\nprofile_search_linked_in && linked_in_list.push(convertLinkedInUrl(profile_search_linked_in))\n\ncombined_social_urls.linked_in = linked_in_list\n// LOCATION\nconst locations =[ $('Anthropic Response')?.first()?.json?.user_info?.location]\nconst profile_search_splitted_location = profile_search?.location ? profile_search?.location.split(',') : null\n\nif(profile_search_splitted_location){\n  locations.push({\n      \"city\":profile_search_splitted_location[0] || \"\",\n      \"state\": profile_search_splitted_location[1] || \"\",\n      \"country\":\"\",\n      \"address\": \"\",\n      \"zip\":  \"\"\n  })  \n}\n// USER SKILLS \nconst user_skills =  profile_search?.userSkills || \"\"\n// ABOUT\nconst user_about = profile_search?.about || \"\"\n// EXPERIENCES\nconst user_experiences = [];\nconst profile_data_user_experiences = profile_search?.experiences\n\nif(profile_data_user_experiences && profile_data_user_experiences.length > 0 ){\n  profile_data_user_experiences.forEach(experience => {\n    user_experiences.push({\n       \"company_name\": experience.subtitle || \"\",\n       \"company_domain\" : experience.companyLink1 || \"\",\n       \"role\" : experience.title || \"\",\n       \"company_logo\": experience.logo || \"\"\n    })\n  })\n}\n// PROFILE PIC\nconst profile_picture = profile_search?.profilePic || ''\nconst user_info = {\n    \"first_name\" : first_names,\n    \"last_name\" : last_names ,\n    \"profile_pick\":profile_picture  ,\n    \"about\": user_about,\n    \"user_skills\" : user_skills,\n    \"experiences\": user_experiences,\n    \"role\":  roles,\n    \"primary_email\" :  primary_emails,\n    \"personal_email\" :  personal_emails,\n    \"work_email\" : work_emails,\n    \"phone_number\":phone_numbers,\n    \"social_urls\":combined_social_urls,\n    \"location\": locations\n }\n\nreturn {user_info};\n"},"id":"d5d566d4-a66b-4605-b60f-b88b88d83786","name":"Summarizing User Info","type":"n8n-nodes-base.code","typeVersion":2,"position":[5120,700]},{"parameters":{"content":"# Page Visited More information\n","height":664.711775870632,"width":984.2296898110443},"id":"d99bc6b2-1d6c-4222-b854-9204c21832bf","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[9240,380]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const prompt = `\n<TASK>\nGo to the provided page and extract the following information:\nPage:  ${$json?.technical_data?.page_visited_url || \"\"} \n\n1. **page_title**: The page title or META title.  \n2. **type_of_page**: Choose one of the following options based on the content:\n   - Service Page: Promotes a compliance solution, framework, or certification that I.S. Partners provides.\n   - Blog Article: Provides informational or educational content.  Blog articles will have /blog/ in the URL\n   - Company Page: Focuses on I.S. Partners' company information (e.g., about, contact).\n   - Partner Page: Contains \"/partnerships/\" in the URL or focuses on partner-related content.\n3. **framework_of_page**: Identify the primary IT compliance framework, certification, or solution mentioned on the page. Follow these rules:\n   - If page visited URL is: https://www.ispartnersllc.com/ (HOMEPAGE) set framework of the page to be: Not Found.\n   - If mentioned in the title (e.g., \"SOC 1 Bridge Letter Explained\"), your output should be the specific framework (e.g., \"SOC 1\").\n   - If the page is about two frameworks, output both (e.g., \"SOC 1 and SOC 2\").\n   - If multiple frameworks are mentioned, choose the one mentioned first in the title.\n   - If no frameworks are directly mentioned, infer the logical framework based on the main topic of the page.\n   - If unsure, output \"Not Found\" Your output should be no more than two frameworks or certifications.\n4. **summary**: Provide a brief summary of the page.\n5. **keyword**: Choose one main keyword that likely led users to this page. Keep it in sentence case unless normally uppercase (e.g., \"SOC 2\").\n    - If page visited URL is: https://www.ispartnersllc.com/ (HOMEPAGE) set the keywords to be: IT Compliance, Risk Advisory and Cybersecurity Solutions\n6. **topic**: Identify the main topic of the page. Keep the output concise and direct, with no more than five words, formatted in sentence case (unless uppercase is required). The output should fit into this sentence: \"I noticed you recently checked out info about {{TOPIC}} on our website.\"\n7. **intent**: Page Visited - Intent (What is the goal of the page - is it to sell or inform?) \n   There are two possible options:\n   a)Sales page (service/product/partner signup pages/Request a Quote, Call to Action pages)\n   b)Informational page (about, contact, blog articles, resources, etc)\n\nI\n\n\n\n<RESPONSE_EXAMPLES>\n{\n\"page_title\": \"SOC 2 Compliance Audit Services\",\n\"type_of_page\": \"Service Page\",\n\"framework_of_page\": \"SOC 2\",\n\"keyword\": \"SOC 2 Audit Services\",\n\"summary\": \"The page outlines the SOC 2 compliance audit services provided by I.S. Partners, detailing the process, requirements, and benefits of engaging their services.\",\n\"page_title_friendly\": \"SOC 2 Audit Services\",\n\"topic\": \"SOC 2 compliance audit services\",\n\"intent\": \"Sales page\"\n}\n\n{\n\"page_title\": \"Understanding ISO 27001 Certification\",\n\"type_of_page\": \"Blog Article\",\n\"framework_of_page\": \"ISO 27001\",\n\"keyword\": \"ISO 27001 Certification\",\n\"summary\": \"The blog article explains what ISO 27001 certification is, its benefits, and why organizations should consider obtaining it.\",\n\"page_title_friendly\": \"Understanding ISO 27001\",\n\"topic\": \"ISO 27001 certification\",\n\"intent\": \"Informational page\"\n}\n\n{\n\"page_title\": \"Partnerships: SOC 2 for Cloud Services\",\n\"type_of_page\": \"Partner Page\",\n\"framework_of_page\": \"SOC 2\",\n\"keyword\": \"SOC 2 for Cloud Services\",\n\"summary\": \"Outlines the partnership between I.S. Partners and cloud service providers to implement SOC 2 compliance, facilitating enhanced security and trust.\",\n\"page_title_friendly\": \"SOC 2 for Cloud Services\",\n\"topic\": \"SOC 2 compliance for cloud services\",\n\"intent\": \"Sales page\"\n}\n<RULES>\n- Use uppercase only for words that are conventionally uppercase (e.g., SOC 2, PCI).\n`\n\nreturn {prompt: prompt}"},"id":"e8b6dc78-2a21-40df-9a3f-fd3e46350ec6","name":"Page Information prompt","type":"n8n-nodes-base.code","typeVersion":2,"position":[9340,700]},{"parameters":{"jsonSchemaExample":"{\n  \"page_title\":\"string\",\n  \"type_of_page\":\"string\",\n  \"framework_of_page\": \"string\",\n  \"keyword\":\"string\",\n  \"summary\":\"string\",\n  \"page_title_friendly\":\"string\",\n  \"topic\":\"string\",\n  \"intent\":\"string\"\n}"},"id":"89e038ff-485d-4ae1-b24d-ef00fa388276","name":"Page info - Output parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[9780,920]},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","hasOutputParser":true,"options":{}},"id":"6a3b484c-9979-4869-b1ac-3222458895a3","name":"Page Visited Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[9540,700],"retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"content":"# About the contact (non-public information)","height":659.7636212052339,"width":1021.8084371329403},"id":"6cb2019c-ad5d-4594-a61d-daa8428cb8b0","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[13040,380]},{"parameters":{"jsonSchemaExample":"{\n\t\"job_responsibilities\": \"Supervising and guiding the sales team, developing a business marketing strategy, maintaining relationships with clients, coordinating marketing activities, analyzing market trends and demographic data.\",\n\t\"job_challenges\": \"Handling underperforming team members, dealing with volatile market conditions, maintaining consistent brand identity across different marketing platforms, acquiring a significant market share in an oversaturated market.\",\n    \"intent\": \"Looking for potential job opportunities in marketing\",\n    \"report\": \"The individual visited the page to explore potential job opportunities within our organization. They spent a significant amount of time examining the job responsibilities and challenges associated with our marketing roles. Additionally, they returned to the page multiple times indicating a heightened interest in our company. We recommend reaching out to them with customised job opportunities in line with their expressed intent.\"\n}"},"id":"b70e2f51-0b6d-460a-87c1-356b495ccd81","name":"About the Contact - Output parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[13620,900]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const model_response = $json?.output \nconst prospect_object = $('Linked In Scraped Data').item.json\nprospect_object.technical_data.page_visited_type = model_response?.type_of_page || \"\"\nprospect_object.technical_data.page_visited_framework = model_response?.framework_of_page ||\"\"\nprospect_object.technical_data.page_visited_keyword = model_response?.keyword ||\"\"\nprospect_object.technical_data.page_visited_summary = model_response?.summary||\"\"\nprospect_object.technical_data.page_visited_title_friendly = model_response?.page_title_friendly ||\"\"\nprospect_object.technical_data.page_visited_topic = model_response?.topic ||\"\"\nprospect_object.technical_data.page_visited_intent = model_response?.intent || \"\"\nreturn prospect_object\n"},"id":"7171bb05-9718-448a-964d-edc9c974ad32","name":"Combining Page Info. Data","type":"n8n-nodes-base.code","typeVersion":2,"position":[9980,700]},{"parameters":{"content":"# About the Company (non-public information)","height":660,"width":2777},"id":"e7e18c6a-b6dc-4e35-8000-7173ed30769c","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[10240,380]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const prompt = `\n--- TASK ---\nYour task is to find following information about the company:\n- Products/Services\n- Industries or specific audiences they target\n- Unique Selling Proposition\n- ICP (if they define their Ideal Customer Profile on the site, then we can list it here) \n- Clients (if they list clients on their website, we can identify them)\n- Testimonials (pull out any reviews/testimonials they have)\n- Case Studies (pull out any case studies they reference on their site) \n- Report (Based on the provided object with company's information and the data you gatherered from the previous tasks combine all of the information that is overall summary of the company)\n\nReport examples:\n--LinkedIn connects professionals and provides various tools for productivity and success. It is the world's largest professional network with diversified revenue sources.\n--Crocs specializes in comfortable footwear for various occasions, emphasizing personal expression with their designs.\n--CDW offers various IT solutions and services tailored for education, government, and healthcare sectors.\n--Diligent is a comprehensive governance software provider focused on improving and simplifying governance, risk, compliance, and ESG activities.\n\n\nHere is company's domain to help you in the above tasks: ${$json.company_info.domain}, scrape it to get more information.\nHere is additional information about the company (structured as an object) to help you in your task:\n${JSON.stringify($json.company_info)}.\n--- RESPONSE EXAMPLE ---\nYour response shoulf follow this object structure:\n{\n\"products\": [\"Comprehensive Security Solutions\", \"Risk Assessment Services\", \"Compliance Management Tools\"],\n\"industries\": [\"Healthcare\", \"Financial Services\", \"Information Technology\"],\n\"unique_selling_proposition\": \"Highly tailored, industry-specific security and compliance solutions with exceptional customer service.\",\n\"icp\": \"Mid to large-sized companies in regulated industries seeking robust, customizable compliance and security solutions.\",\n\"clients\": [\"MediCorp\", \"FinBank\", \"TechSoft\"],\n\"testimonials\": [\n{\n\"client\": \"MediCorp\",\n\"name\": \"John Doe\",\n\"position\": \"CISO\",\n\"testimonial\": \"Their tailored solutions and expertise helped us achieve compliance smoothly.\"\n}\n],\n\"case_studies\": [\n{\n\"title\": \"Achieving SOC2 Compliance for MediCorp\",\n\"link\": \"www.example.com/case-study/mediCorp\"\n}\n],\n\"report\": \"The company provides a range of security and compliance solutions, specializing in the healthcare, financial services, and IT sectors. They pride themselves on their personalized approach and excellent customer service. Their ideal customers are mid to large-sized firms in regulated industries. Their success stories include big names like MediCorp, FinBank, and TechSoft.\"\n}\n\n`\n\nreturn {prompt:prompt}"},"id":"dcec16f6-8e2f-4b53-a355-0070eb5ced33","name":"About the Company prompt","type":"n8n-nodes-base.code","typeVersion":2,"position":[10300,700]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding Article Analysis').first().json\nconst job_responsibilities = $json?.output?.job_responsibilities || \"\"\nconst job_challenges = $json?.output?.job_challenges || \"\"\nconst intent = $json?.output?.intent || \"\"\nconst report = $json?.output?.report || \"\"\n\noriginal.user_info.job_responsibilities = job_responsibilities\noriginal.user_info.job_challenges = job_challenges\noriginal.user_info.report = report\noriginal.user_info.visit_intent = intent\n\n\nreturn original\n\n"},"id":"943d631a-20b0-4aee-bbc8-d17294bfe033","name":"Combining Contact non-public information","type":"n8n-nodes-base.code","typeVersion":2,"position":[13780,700]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Combining Page Info. Data').first().json\n\nconst products = $json?.output?.products || []\nconst unique_selling_proposition = $json?.output?.unique_selling_proposition || \"\"\nconst clients = $json?.output?.clients || []\nconst testimonials = $json?.output?.testimonials || []\nconst case_studies = $json?.output?.case_studies || []\nconst report = $json?.output?.report || \"\"\nlet years_in_business = null\nif(original.company_info.founded){\n  const yearFounded =original.company_info.founded ; // Or \"2014\" if it's a string\n\n// Get the current year\nconst currentYear = new Date().getFullYear();\n\n// Convert yearFounded to a number if it's a string\nconst foundedYear = Number(yearFounded);\n\n// Calculate the years in business\nyears_in_business  = currentYear - foundedYear;\n}\n\n\n\noriginal.company_info.products = products\noriginal.company_info.unique_selling_proposition = unique_selling_proposition\noriginal.company_info.clients = clients\noriginal.company_info.testimonials = testimonials\noriginal.company_info.case_studies = case_studies\noriginal.company_info.report = report\noriginal.company_info.years_in_business = years_in_business\n\n\n\n\n\nreturn original;"},"id":"add1787d-3b05-4f7a-a942-688b59772ae0","name":"Combining Company info. data","type":"n8n-nodes-base.code","typeVersion":2,"position":[10940,700]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const prompt = `\n-- DATA TO BE USED IN THE TASK -- \nInformation of the user who wisited the page ${JSON.stringify($json.user_info)}\n\n-- TASK -- \nYour task is to find:\n- Job responsibilities \nStep 1:  Search Google for job postings for the company that are for the exact job title (${$json.user_info.role}) of the contact.  This will help us find the exact job responsibilities this contact has in their day to day job\nStep 2:  If Step 1 isn't found, then look for job posts from the same company that are for similar job titles as the contacts current job title.   This will give us more accurate information about their responsibilities then we will get if we depend on generic job responsibilities.\nStep 3: If Step 2 isn't found, then have AI provide the job responsibilities based on the products and services offered by the company. Here is the list of products/services: ${$json.company_info.products}\n------------------------------\n- Job challenges: Based on the following information, list the daily challenges/problems user is likely to face on their job:\na)Users job title - ${$json.user_info.role}\nb)Users job Responsibilties - Get from the previous task\nc)Users industry where he is workin - ${$json.company_info.industries}\nd)Products/Services the users company offers - ${$json.company_info.products}\n------------------------------\n- Intent (Why they visited the site)\nBased on the following information, come up with a reason why the person visited the website\na)Users job title - ${$json.user_info.role}\nb)Users job Responsibilities - Get from the previous task\nc)Users industry where he is workin - ${$json.company_info.industries}\nd)Products/Services the users company offers - ${$json.company_info.products}\ne)Page Visited - Summary: ${$json.technical_data.page_visited_summary}\nf)Page Visited - Main Topic: ${$json.technical_data.page_visited_topic}\ng)Page Visited - Intent: ${$json.technical_data.page_visited_intent} (What is the goal of the page - is it to sell or inform?):  (Sales page (service/product/partner signup pages/Request a Quote, Call to Action pages) Informational page (about, contact, blog articles, resources, etc))\n\nIntent example: Abbie Haynes likely visited the site to gain insights and learn about cybersecurity issues that might impact the financial services industry, particularly given the increasing threats to various sectors including financial institutions. Understanding these challenges is vital for Abbie in order to safeguard client information and implement necessary protective measures in their financial advisory roles.\n------------------------------\n- Contact Report\nBased on the provided object with contact's information and the data you gatherered from the previous tasks combine all of the information that is overall summary of the contact.\n\nContact Report examples: \n--Kira Ciccarelli serves as a Research Specialist at Diligent, where she is responsible for planning and executing research reports on governance topics. She recently visited a blog post detailing various audit testing methods, indicating her pursuit of deeper knowledge in compliance topics relevant to her research. Kira's role suggests she may be seeking comprehensive resources to enhance Diligents compliance strategies related to SOC 2 and PCI DSS frameworks.\n--Rebecca Burton is a Registered Nurse at OhioHealth, a major healthcare provider. She plays an essential role in patient care and supporting office procedures. Interested in compliance, she visited a blog focused on SOC 1 reports, potentially seeking information that could enhance her understanding of compliance frameworks relevant to healthcare standards. Her role reflects daily responsibilities in providing healthcare, monitoring electronic fetal recordings, and collaborating with healthcare professionals, suggesting an ongoing need for compliance knowledge in her work.\n--Wes Waninger is an Advanced Technology Account Executive at Cdwg, specializing in developing technology solutions for diverse clients. His role involves cultivating customer relationships and understanding client needs to drive technological advancements. Wes has recently visited a blog about HITRUST CSF requirements, indicating he may be seeking information to enhance compliance strategies within his organization's IT offerings.\n--Tommy Kowalski is the VP of Digital Commerce at Crocs, overseeing the execution of their eCommerce strategy and online marketing efforts. He demonstrated a noted interest in compliance by visiting the I.S. Partners blog about SOC 1 bridge letters, indicating a potential initiative for enhancing Crocs compliance documentation. Given Crocs has established certifications like ISO 27001, Tommy may be focusing on bolstering their compliance efforts further through thorough understanding and documentation of applicable frameworks.\n--Chris Garcia is a Service Data And Process Analyst at Sciex, focusing on process documentation and improvements in the biotechnology sector. His engagement with our blog about SOC 1 and SOC 2 reports suggests he may be seeking clarity and actionable insights regarding compliance frameworks relevant to his companys operations. Considering Sciex's existing certifications in SOC 1 and SOC 2, Chris is likely looking to deepen their understanding or prepare for audits in these areas.\n\n\n\nContact Report rules: Contact report should follow the above structure from the examples. \n\n`\nreturn {prompt:prompt}"},"id":"fe8d4a75-6005-4ae7-bbbb-d1d8e6518de2","name":"About the contact prompt","type":"n8n-nodes-base.code","typeVersion":2,"position":[13140,700]},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","hasOutputParser":true,"options":{}},"id":"846934b4-3132-4243-b5dc-493dc5ebae95","name":"About the Company Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[10540,700],"retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","hasOutputParser":true,"options":{}},"id":"dd5c610c-769f-4d41-ba57-48d2d5bb288d","name":"About the Contact Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[13360,700],"retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"content":"# Ideal Customer Profile Score ","height":660,"width":2500},"type":"n8n-nodes-base.stickyNote","position":[20100,380],"typeVersion":1,"id":"ce47bb1e-9283-4734-9549-2608a4ce1910","name":"Sticky Note6"},{"parameters":{"content":"# Find Compliance Frameworks\n\n","height":660,"width":1420},"type":"n8n-nodes-base.stickyNote","position":[15040,380],"typeVersion":1,"id":"d1bb1752-f9bb-4c1e-80c5-49ea3a6321ef","name":"Sticky Note8"},{"parameters":{"promptType":"define","text":"={{ $json.message }}","hasOutputParser":true,"options":{}},"id":"35fe6a2e-913f-4a7f-b01d-5338d5815065","name":"Finding Missing data Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-980,640],"retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"jsonSchemaExample":" {\n \"user_info\":{\n    \"first_name\" : \"\",\n    \"last_name\" : \"\" ,\n    \"role\":  \"\",\n    \"primary_email\" : \"\",\n    \"personal_emails\" : [\"\"],\n    \"work_emails\" : [\"\",\"\"],\n    \"phone_numbers\":  [\"38162899895\"],\n    \"social_urls\":{\n      \"linkedin\":\"\",\n      \"facebook\":\"\",\n      \"twitter\" :\"\",\n      \"git_hub\":\"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\":  \"\",\n      \"monster\":  \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"location\":{\n      \"city\": \"\",\n      \"state\": \"\",\n      \"country\": \"\",\n      \"address\":  \"\",\n      \"zip\": \"\"\n    }\n },\n \"company_info\":{\n   \"name\": \"\",\n   \"size\": \"\",\n   \"revenue\": \"\",\n   \"domain\": \"\",\n   \"industry\": \"\",\n   \"specialities\": [\"38162899895\"],\n   \"social_urls\":{\n     \"linkedin\": \"\",\n     \"facebook\" :  \"\",\n     \"twitter\": \"\",\n     \"instagram\": \"\",\n     \"blog\": \"\",\n     \"stackoverflow\": \"\",\n     \"pitchbook\":\"\",\n     \"monster\": \"\",\n     \"crunchbase\": \"\",\n     \"angellist\": \"\",\n     \"indeed\": \"\",\n     \"glassdoor\": \"\"\n   },\n   \"phone_numbers\": [\"38162899895\"],\n   \"location\":{\n     \"city\" :\"\",\n     \"state\": \"\",\n     \"country\": \"\",\n     \"address\":\"\",\n     \"zip\": \"\"\n    }\n },\n  \"technical_data\":{\n    \"page_visited_title\": \"\",\n    \"page_visited_url\": \"\",\n    \"utmCampaign\":\"\",\n    \"utmContent\":\"\",\n    \"utmMedium\": \"\",\n    \"utmSource\": \"\",\n    \"utmTerm\": \"\",\n    \"vvid\": \"\",\n    \"hem\": \"\"\n  }\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-760,880],"id":"5a3eaebc-e78f-4660-8312-7c392af19c37","name":"Finding Missing Data - Parser"},{"parameters":{"promptType":"define","text":"=Given this object: \n{{ JSON.stringify($json)}}\n** YOUR TASK **\n- Looking at the whole provided object above summerize array's into a single \"most probable\" value.\n  Don't summerize following array's: experiences, specialities, similar_organizations (Leave them the same as in input object). \n- Industries array can't contain object's, make sure you add in just string values to that array.\n- Do nothing for technical_data and upcoming_meeting_data, they need to stay the same as in the provided object (It's important to include them in the output).\n- If any of the values are empty, keep them that way.\n\n\n\n** EXAMPLE OF WHAT YOU SHOULD DO **\nIf we for example have an array of first names [\"David\", \"Cam\", \"Stefan\"] we are going to set the\nfirst_name to be \"Stefan\", why ? because for example we have an email in the object \"stefan@searchactions.com\" containing users first name in the email. \n\n\n** EXAMPLE OUTPUT DATA **\nYour output should have similar structure as this object:\n \n  {\n  \"user_info\": {\n    \"first_name\": \"Janice\",\n    \"last_name\": \"Suphakan\",\n    \"profile_pick\": \"\",\n    \"about\": \"Accountant specializing in: Cash Management, accounts receivable, cash variance analysis, bank reconciliations, month-end close, budgeting, financial statement preparation, collections and fraudulent credit card transactions.\\n\\nCFE Eligible\\n\\nSpecialties: JDEdwards, Microsoft Word and Excel, ReconNET, Positive Pay, Hyperion, PowerPlant, Blackline and PeopleSoft.\",\n    \"user_skills\": \"Teamwork, Accounting, Account Reconciliation, Accounts Payable, JD Edwards, Accounts Receivable, General Ledger, Payroll, Strategic Thinking\",\n    \"experiences\": [\n      {\n        \"company_name\": \"10 yrs 2 mos\",\n        \"company_domain\": \"https://www.linkedin.com/company/4674/\",\n        \"role\": \"Exelon\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\"\n      },\n      {\n        \"company_name\": \"ComEd\",\n        \"company_domain\": \"https://www.linkedin.com/company/4675/\",\n        \"role\": \"Accountant\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4E0BAQH1ZirrqhDJoA/company-logo_200_200/company-logo_200_200/0/1643895567661/comed_logo?e=1748476800&v=beta&t=NuFfdwo0Zjeypy22zOhM5AM9ho8RSJUGnYhotvntgbw\"\n      },\n      {\n        \"company_name\": \"Exelon\",\n        \"company_domain\": \"https://www.linkedin.com/company/4674/\",\n        \"role\": \"Payroll Accountant\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\"\n      },\n      {\n        \"company_name\": \"Enova Financial\",\n        \"company_domain\": \"https://www.linkedin.com/search/results/all/?keywords=Enova+Financial\",\n        \"role\": \"ReconNET Implementation Analyst\",\n        \"company_logo\": \"\"\n      },\n      {\n        \"company_name\": \"6 yrs 2 mos\",\n        \"company_domain\": \"https://www.linkedin.com/company/727160/\",\n        \"role\": \"Kerasotes Showplace Theatres, LLC\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C560BAQEvxaJO-H8JnQ/company-logo_200_200/company-logo_200_200/0/1662661522484/kerasotes_theaters_logo?e=1748476800&v=beta&t=IEvM0M5dt-7lsdNjaKSMMkn6wdZC9MDuU2fuEV_Pv7E\"\n      }\n    ],\n    \"role\": \"Internal Auditor\",\n    \"primary_email\": \"janice.suphakan@exeloncorp.com\",\n    \"personal_email\": \"janice.suphakan@exeloncorp.com\",\n    \"work_email\": \"janice.suphakan@exeloncorp.com\",\n    \"phone_number\": \"1-800-483-3220\",\n    \"social_urls\": {\n      \"linked_in\": \"linkedin.com/in/janicegalon\",\n      \"facebook\": \"\",\n      \"twitter\": \"\",\n      \"git_hub\": \"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"location\": {\n      \"city\": \"Westmont\",\n      \"state\": \"IL\",\n      \"country\": \"United States\",\n      \"address\": \"\",\n      \"zip\": \"60559\"\n    }\n  },\n  \"company_info\": {\n    \"name\": \"Exelon\",\n    \"description\": \"Exelon Corporation (Nasdaq: EXC) is the nations largest utility company, serving more than 10 million customers through six fully regulated utilities. We believe that reliable and affordable energy is essential to a brighter, more sustainable future.  \\nWe are a FORTUNE 250 company operating across a large urban footprint, serving major metro areas in Delaware, the District of Columbia, Illinois, Maryland, New Jersey and Pennsylvania.  Exelon is recognized as an industry leader with best-in-class operations, a firm commitment to maintaining energy affordability, a track record of top-quartile reliability performance, strong ESG leadership and principles, and a deep dedication to supporting and investing in the communities we serve. \",\n    \"logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\",\n    \"cover_image\": \"\",\n    \"size\": \"31,000+ \",\n    \"founded\": \"2000\",\n    \"revenue\": \"$3000000\",\n    \"type\": \"public\",\n    \"domain\": \"exeloncorp.com\",\n    \"industry\": \"IT\",\n    \"specialities\": [\n      \"The Exelon family of companies strives for the highest standards of power generation\",\n      \"competitive energy sales and energy delivery. We are committed to providing superior value for our customers\",\n      \"employees\",\n      \"investors and the communities we serve.\"\n    ],\n    \"social_urls\": {\n      \"linked_in\": \"linkedin.com/company/exelon\",\n      \"facebook\": \"facebook.com/exeloncorp\",\n      \"twitter\": \"twitter.com/Exelon\",\n      \"git_hub\": \"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"phone_number\": \"1-800-483-3220\",\n    \"location\": {\n      \"city\": \"Chicago\",\n      \"state\": \"IL\",\n      \"country\": \"United States\",\n      \"address\": \"10 South Dearborn Street\",\n      \"zip\": \"60603\"\n    },\n    \"similar_organizations\": [\n      {\n        \"name\": \"Generative AI\",\n        \"industry\": \"Computer Software\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/D4D0BAQFH3XFaatOOPA/company-logo_200_200/company-logo_200_200/0/1712666342227/genai_works_logo?e=1748476800&v=beta&t=CKJYCmTrPvQp65CR5opL7qSu77gBIUtFZabBhe1b-zU\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D563DAQHfJRhxib1rZA/image-scale_127_750/image-scale_127_750/0/1703810960253/genai_works_cover?e=1740762000&v=beta&t=ljQW64fqjYAopH0kp3DKCuZgqtJeX7z6Dpt-vTmvQFE\",\n        \"size\": 200,\n        \"locations\": [\n          {\n            \"city\": \"San Francisco\",\n            \"state\": \"\",\n            \"country\": \"US\",\n            \"address\": \"\",\n            \"zip\": \"\"\n          }\n        ]\n      },\n      {\n        \"name\": \"American Electric Power\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C510BAQFRoaoKoqFD8g/company-logo_200_200/company-logo_200_200/0/1631314482288?e=1748476800&v=beta&t=E3TymRMMjWi8KpDus7qVxnEpFqd7gTiTH7aj6u_Tl-o\",\n        \"cover_image\": \"\",\n        \"size\": \"\",\n        \"locations\": [\n          {\n            \"city\": \"Columbus\",\n            \"state\": \"OH\",\n            \"country\": \"US\",\n            \"address\": \"1 Riverside Plaza null\",\n            \"zip\": \"43215\"\n          }\n        ]\n      },\n      {\n        \"name\": \"Duke Energy Corporation\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFJ9XVldiGRLg/company-logo_200_200/company-logo_200_200/0/1630485143165/duke_energy_corporation_logo?e=1748476800&v=beta&t=cq1bxJ-G8UkfkJjdQhRrb1G5P1V8WZQeEVlTM7Vj9_k\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D4E3DAQF9UkXOIeQQdQ/image-scale_127_750/image-scale_127_750/0/1738943117442/duke_energy_corporation_cover?e=1740762000&v=beta&t=U01nnQd-9ayrFgvgqBB9DJgPdRczuuzwG-lCI3qHFag\",\n        \"size\": \"\",\n        \"locations\": [\n          {\n            \"city\": \"Charlotte\",\n            \"state\": \"North Carolina\",\n            \"country\": \"US\",\n            \"address\": \"525 S Tryon St null\",\n            \"zip\": \"28202\"\n          }\n        ]\n      },\n      {\n        \"name\": \"PPL Electric Utilities\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/D4E0BAQFTI1DxGlCPtQ/company-logo_200_200/company-logo_200_200/0/1719771607637?e=1748476800&v=beta&t=6qM1vY9vbLSCPtqUvN7tQAeHe6i75-HNR_FRumt_oE0\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D4E3DAQGyr0xPpP4ZQQ/image-scale_127_750/image-scale_127_750/0/1665418455635/ppl_electric_utilities_cover?e=1740762000&v=beta&t=VoVpMzMYZI3sQEci_W7BJlfLuzdR_yMKehcs_6iB5Mo\",\n        \"size\": 5000,\n        \"locations\": [\n          {\n            \"city\": \"\",\n            \"state\": \"\",\n            \"country\": \"\",\n            \"address\": \"\",\n            \"zip\": \"\"\n          }\n        ]\n      },\n      {\n        \"name\": \"PJM Interconnection\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C560BAQGKGgjsiwQxIg/company-logo_200_200/company-logo_200_200/0/1631329127882?e=1748476800&v=beta&t=0kDCE-TWmqiJSB1_eALKykHmgwgWjrhj0-Eqr6h2MX8\",\n        \"cover_image\": \"\",\n        \"size\": 1000,\n        \"locations\": [\n          {\n            \"city\": \"Audubon\",\n            \"state\": \"PA\",\n            \"country\": \"US\",\n            \"address\": \"2750 Monroe Blvd null\",\n            \"zip\": \"19403\"\n          }\n        ]\n      }\n    ]\n  },\n  \"technical_data\": {\n    \"page_visited_title\": \"Internal Auditor's Expanding Role in ERM\",\n    \"page_visited_url\": \"https://www.ispartnersllc.com/blog/internal-auditors-expanding-role-enterprise-risk-management/\",\n    \"utmCampaign\": \"\",\n    \"utmContent\": \"\",\n    \"utmMedium\": \"\",\n    \"utmSource\": \"\",\n    \"utmTerm\": \"\",\n    \"vvid\": \"f8804a4c-fcb4-4131-b3ab-69e1af3c7bb0\",\n    \"hem\": \"33ff0f63bc7f6815f8f58d633cf56b7c81e91f3dbbf0d21c103839c9a0ea2be6\",\n    \"urn\": \"ACoAAAPVcCABV9hNPj4-ZNJosKuTmzhHrT_-rgg\",\n    \"mx_record\": \"exeloncorp-com.mail.protection.outlook.com\",\n    \"mx_provider\": \"Microsoft 365\",\n    \"mx_security_gateway\": \"true\",\n    \"page_visited_domain\": \"www.ispartnersllc.com\"\n  },\n  \"upcoming_meeting_data\": {\n    \"meeting_with\": \"\",\n    \"meeting_time\": \"\",\n    \"lifecycle_stage\": \"\",\n    \"form_message\": \"\",\n    \"hubspot_id\": \"\"\n  }\n}\n\n","hasOutputParser":true,"options":{"maxIterations":60}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[6240,700],"id":"5c82fce5-49ae-41fb-87f7-686c868866be","name":"Analyzing data","retryOnFail":true,"maxTries":5,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const structured_object = $json?.output\n\n\nconst fallback_data = $('Combining Company - User - Technical Data').first().json\n\nconst transformArraysToFirstItem = (inputData) => {\n  // Helper function to check if value should be processed\n  const shouldProcessArray = (key, parentKey) => {\n    const exclusions = {\n      user_info: ['experiences'],\n      company_info: ['industries', 'similar_organizations', 'specialities']\n    };\n    \n    return !(exclusions[parentKey] && exclusions[parentKey].includes(key));\n  };\n\n  // Deep clone to avoid modifying original data\n  const processObject = (obj, parentKey = '') => {\n    const result = {};\n    \n    for (const [key, value] of Object.entries(obj)) {\n      if (Array.isArray(value) && shouldProcessArray(key, parentKey)) {\n        // Transform array to first item if it should be processed\n        result[key] = value[0];\n      } else if (typeof value === 'object' && value !== null) {\n        // Recursively process nested objects\n        result[key] = processObject(value, key);\n      } else {\n        // Keep non-array values as is\n        result[key] = value;\n      }\n    }\n    \n    return result;\n  };\n\n  // Process the object directly\n  return processObject(inputData);\n};\n\n\n\nif(structured_object){\n  return structured_object\n}else{\n return transformArraysToFirstItem({\n    user_info: fallback_data.user_info,\n    company_info:fallback_data.company_info,\n    technical_data: fallback_data.technical_data,\n    upcoming_meeting_data: fallback_data.upcoming_meeting_data\n })\n}\n\n"},"id":"13c18c5b-994f-4254-a32f-9561e62e0dfc","name":"Prospect final structure","type":"n8n-nodes-base.code","typeVersion":2,"position":[6680,700]},{"parameters":{"jsonSchemaExample":"{\n  \"user_info\": {\n    \"first_name\": \"Janice\",\n    \"last_name\": \"Suphakan\",\n    \"profile_pick\": \"\",\n    \"about\": \"Accountant specializing in: Cash Management, accounts receivable, cash variance analysis, bank reconciliations, month-end close, budgeting, financial statement preparation, collections and fraudulent credit card transactions.\\n\\nCFE Eligible\\n\\nSpecialties: JDEdwards, Microsoft Word and Excel, ReconNET, Positive Pay, Hyperion, PowerPlant, Blackline and PeopleSoft.\",\n    \"user_skills\": \"Teamwork, Accounting, Account Reconciliation, Accounts Payable, JD Edwards, Accounts Receivable, General Ledger, Payroll, Strategic Thinking\",\n    \"experiences\": [\n      {\n        \"company_name\": \"10 yrs 2 mos\",\n        \"company_domain\": \"https://www.linkedin.com/company/4674/\",\n        \"role\": \"Exelon\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\"\n      },\n      {\n        \"company_name\": \"ComEd\",\n        \"company_domain\": \"https://www.linkedin.com/company/4675/\",\n        \"role\": \"Accountant\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4E0BAQH1ZirrqhDJoA/company-logo_200_200/company-logo_200_200/0/1643895567661/comed_logo?e=1748476800&v=beta&t=NuFfdwo0Zjeypy22zOhM5AM9ho8RSJUGnYhotvntgbw\"\n      },\n      {\n        \"company_name\": \"Exelon\",\n        \"company_domain\": \"https://www.linkedin.com/company/4674/\",\n        \"role\": \"Payroll Accountant\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\"\n      },\n      {\n        \"company_name\": \"Enova Financial\",\n        \"company_domain\": \"https://www.linkedin.com/search/results/all/?keywords=Enova+Financial\",\n        \"role\": \"ReconNET Implementation Analyst\",\n        \"company_logo\": \"\"\n      },\n      {\n        \"company_name\": \"6 yrs 2 mos\",\n        \"company_domain\": \"https://www.linkedin.com/company/727160/\",\n        \"role\": \"Kerasotes Showplace Theatres, LLC\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C560BAQEvxaJO-H8JnQ/company-logo_200_200/company-logo_200_200/0/1662661522484/kerasotes_theaters_logo?e=1748476800&v=beta&t=IEvM0M5dt-7lsdNjaKSMMkn6wdZC9MDuU2fuEV_Pv7E\"\n      }\n    ],\n    \"role\": \"Internal Auditor\",\n    \"primary_email\": \"janice.suphakan@exeloncorp.com\",\n    \"personal_email\": \"janice.suphakan@exeloncorp.com\",\n    \"work_email\": \"janice.suphakan@exeloncorp.com\",\n    \"phone_number\": \"1-800-483-3220\",\n    \"social_urls\": {\n      \"linked_in\": \"linkedin.com/in/janicegalon\",\n      \"facebook\": \"\",\n      \"twitter\": \"\",\n      \"git_hub\": \"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"location\": {\n      \"city\": \"Westmont\",\n      \"state\": \"IL\",\n      \"country\": \"United States\",\n      \"address\": \"\",\n      \"zip\": \"60559\"\n    }\n  },\n  \"company_info\": {\n    \"name\": \"Exelon\",\n    \"description\": \"Exelon Corporation (Nasdaq: EXC) is the nations largest utility company, serving more than 10 million customers through six fully regulated utilities. We believe that reliable and affordable energy is essential to a brighter, more sustainable future.  \\nWe are a FORTUNE 250 company operating across a large urban footprint, serving major metro areas in Delaware, the District of Columbia, Illinois, Maryland, New Jersey and Pennsylvania.  Exelon is recognized as an industry leader with best-in-class operations, a firm commitment to maintaining energy affordability, a track record of top-quartile reliability performance, strong ESG leadership and principles, and a deep dedication to supporting and investing in the communities we serve. \",\n    \"logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\",\n    \"cover_image\": \"\",\n    \"size\": \"31,000+ \",\n    \"founded\": \"2000\",\n    \"revenue\": \"$3000000\",\n    \"type\": \"public\",\n    \"domain\": \"exeloncorp.com\",\n    \"industry\": \"IT\",\n    \"specialities\": [\n      \"The Exelon family of companies strives for the highest standards of power generation\",\n      \"competitive energy sales and energy delivery. We are committed to providing superior value for our customers\",\n      \"employees\",\n      \"investors and the communities we serve.\"\n    ],\n    \"social_urls\": {\n      \"linked_in\": \"linkedin.com/company/exelon\",\n      \"facebook\": \"facebook.com/exeloncorp\",\n      \"twitter\": \"twitter.com/Exelon\",\n      \"git_hub\": \"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"phone_number\": \"1-800-483-3220\",\n    \"location\": {\n      \"city\": \"Chicago\",\n      \"state\": \"IL\",\n      \"country\": \"United States\",\n      \"address\": \"10 South Dearborn Street\",\n      \"zip\": \"60603\"\n    },\n    \"similar_organizations\": [\n      {\n        \"name\": \"Generative AI\",\n        \"industry\": \"Computer Software\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/D4D0BAQFH3XFaatOOPA/company-logo_200_200/company-logo_200_200/0/1712666342227/genai_works_logo?e=1748476800&v=beta&t=CKJYCmTrPvQp65CR5opL7qSu77gBIUtFZabBhe1b-zU\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D563DAQHfJRhxib1rZA/image-scale_127_750/image-scale_127_750/0/1703810960253/genai_works_cover?e=1740762000&v=beta&t=ljQW64fqjYAopH0kp3DKCuZgqtJeX7z6Dpt-vTmvQFE\",\n        \"size\": 200,\n        \"locations\": [\n          {\n            \"city\": \"San Francisco\",\n            \"state\": \"\",\n            \"country\": \"US\",\n            \"address\": \"\",\n            \"zip\": \"\"\n          }\n        ]\n      },\n      {\n        \"name\": \"American Electric Power\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C510BAQFRoaoKoqFD8g/company-logo_200_200/company-logo_200_200/0/1631314482288?e=1748476800&v=beta&t=E3TymRMMjWi8KpDus7qVxnEpFqd7gTiTH7aj6u_Tl-o\",\n        \"cover_image\": \"\",\n        \"size\": \"\",\n        \"locations\": [\n          {\n            \"city\": \"Columbus\",\n            \"state\": \"OH\",\n            \"country\": \"US\",\n            \"address\": \"1 Riverside Plaza null\",\n            \"zip\": \"43215\"\n          }\n        ]\n      },\n      {\n        \"name\": \"Duke Energy Corporation\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFJ9XVldiGRLg/company-logo_200_200/company-logo_200_200/0/1630485143165/duke_energy_corporation_logo?e=1748476800&v=beta&t=cq1bxJ-G8UkfkJjdQhRrb1G5P1V8WZQeEVlTM7Vj9_k\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D4E3DAQF9UkXOIeQQdQ/image-scale_127_750/image-scale_127_750/0/1738943117442/duke_energy_corporation_cover?e=1740762000&v=beta&t=U01nnQd-9ayrFgvgqBB9DJgPdRczuuzwG-lCI3qHFag\",\n        \"size\": \"\",\n        \"locations\": [\n          {\n            \"city\": \"Charlotte\",\n            \"state\": \"North Carolina\",\n            \"country\": \"US\",\n            \"address\": \"525 S Tryon St null\",\n            \"zip\": \"28202\"\n          }\n        ]\n      },\n      {\n        \"name\": \"PPL Electric Utilities\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/D4E0BAQFTI1DxGlCPtQ/company-logo_200_200/company-logo_200_200/0/1719771607637?e=1748476800&v=beta&t=6qM1vY9vbLSCPtqUvN7tQAeHe6i75-HNR_FRumt_oE0\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D4E3DAQGyr0xPpP4ZQQ/image-scale_127_750/image-scale_127_750/0/1665418455635/ppl_electric_utilities_cover?e=1740762000&v=beta&t=VoVpMzMYZI3sQEci_W7BJlfLuzdR_yMKehcs_6iB5Mo\",\n        \"size\": 5000,\n        \"locations\": [\n          {\n            \"city\": \"\",\n            \"state\": \"\",\n            \"country\": \"\",\n            \"address\": \"\",\n            \"zip\": \"\"\n          }\n        ]\n      },\n      {\n        \"name\": \"PJM Interconnection\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C560BAQGKGgjsiwQxIg/company-logo_200_200/company-logo_200_200/0/1631329127882?e=1748476800&v=beta&t=0kDCE-TWmqiJSB1_eALKykHmgwgWjrhj0-Eqr6h2MX8\",\n        \"cover_image\": \"\",\n        \"size\": 1000,\n        \"locations\": [\n          {\n            \"city\": \"Audubon\",\n            \"state\": \"PA\",\n            \"country\": \"US\",\n            \"address\": \"2750 Monroe Blvd null\",\n            \"zip\": \"19403\"\n          }\n        ]\n      }\n    ]\n  },\n  \"technical_data\": {\n    \"page_visited_title\": \"Internal Auditor's Expanding Role in ERM\",\n    \"page_visited_url\": \"https://www.ispartnersllc.com/blog/internal-auditors-expanding-role-enterprise-risk-management/\",\n    \"utmCampaign\": \"\",\n    \"utmContent\": \"\",\n    \"utmMedium\": \"\",\n    \"utmSource\": \"\",\n    \"utmTerm\": \"\",\n    \"vvid\": \"f8804a4c-fcb4-4131-b3ab-69e1af3c7bb0\",\n    \"hem\": \"33ff0f63bc7f6815f8f58d633cf56b7c81e91f3dbbf0d21c103839c9a0ea2be6\",\n    \"urn\": \"ACoAAAPVcCABV9hNPj4-ZNJosKuTmzhHrT_-rgg\",\n    \"mx_record\": \"exeloncorp-com.mail.protection.outlook.com\",\n    \"mx_provider\": \"Microsoft 365\",\n    \"mx_security_gateway\": \"true\",\n    \"page_visited_domain\": \"www.ispartnersllc.com\"\n  },\n  \"upcoming_meeting_data\": {\n    \"meeting_with\": \"\",\n    \"meeting_time\": \"\",\n    \"lifecycle_stage\": \"\",\n    \"form_message\": \"\",\n    \"hubspot_id\": \"\"\n  }\n}\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[6540,900],"id":"5420ed98-69d2-4307-a82a-efc7c3b18ce0","name":"Analyzing data - Parser"},{"parameters":{"jsonSchemaExample":"{\n\"products\": [\"CRM Software\", \"Marketing Automation Tools\"],\n\"industries\": [\"Sales\" , \"Marketing\"],\n\"unique_selling_proposition\": \"Integration of CRM and marketing automation in one platform.\",\n\"icp\": \"Sales and marketing teams looking for integrated solutions for improved efficiency.\",\n\"clients\": [\"SalesPro\", \"MarketLead\"],\n\"testimonials\": [\n{\n\"client\": \"SalesPro\",\n\"name\": \"Emma Brown\",\n\"position\": \"Sales Manager\",\n\"testimonial\": \"Their integrated tools have significantly improved our efficiency.\"\n}\n],\n\"case_studies\": [\n{\n\"title\": \"Boosting MarketLead's Sales with Integrated CRM\",\n\"link\": \"www.example.com/case-study/marketlead\"\n}\n],\n\"report\": \"The company specializes in CRM software and marketing automation tools, specifically for sales and marketing firms. Their unique selling proposition is their integration of CRM and marketing automation tools in one platform. Notable clients include SalesPro and MarketLead, who attest to the efficiency of their integrated platform.\"\n}"},"id":"f97df65e-721b-4e8d-bd85-209024036ebd","name":"About Company - Parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[10780,900]},{"parameters":{"promptType":"define","text":"=# Framework Verification Prompt\n### ROLE\nYou are an expert data verification specialist who identifies accurate information using publicly available data. Your task is to verify company compliance certifications and frameworks.\n### INFORMATION\nCompany name: {{ $json.company_info.name }}\nWebsite: {{ $json.company_info.domain }}\nCompany LinkedIn: {{ $json.company_info.social_urls.linked_in }}\n\n\n### TASK\nResearch and verify which of the authorized frameworks and certifications this company has achieved. Only report frameworks and certifications from the authorized list below.\n\n### AUTHORIZED FRAMEWORKS\nOnly these exact frameworks and certifications may be reported. Any framework not on this list must be excluded:\n- DORA\n- SOC 1\n- SOC 2\n- SOC 3\n- ISO 27001\n- ISO 42001\n- HIPAA\n- PCI DSS\n- HITRUST\n- HITRUST AI RMF (HITRUST AI Risk Management Framework)\n- CMMC\n- CCPA\n- GDPR\n- GLBA\n- FISMA\n- MAR/SOX\n- MARS-E\n- NERC\n- NYDFS\n- NIST CSF\n- NIST SP 800-53\n- NIST AI RMF (NIST AI Risk Management Framework)\n- NIST Cybersecurity for IoT\n\n### VERIFICATION RULES\n1. Only report frameworks that are officially certified/attested:\n   - Must have evidence of certification or attestation\n   - Must be from verifiable sources\n   - General compliance claims without certification should be ignored\n\n2. Only accept information from:\n   - Company's official website ${$json.company_info.domain}\n   - Official press releases (verified to be from the company)\n   - Trust/Security/Compliance pages\n   - Official certification registries\n\n3. Company Verification:\n   - Only use information from ${$json.company_info.domain}\n   - Verify company name matches exactly: ${$json.company_info.name}\n   - For press releases, verify company details in the \"About\" section match\n\n### SEARCH APPROACH\n1. Trust/Security Pages:\n   - Look for certification badges\n   - Check trust center or compliance pages\n   - Review security documentation\n\n2. Press Releases:\n   - Search for certification announcements\n   - Verify company details match\n\n3. Search Engine Queries:\n   - site:{{ $json.company_info.domain }} certification\n   - site{{ $json.company_info.domain }}  compliance\n   - site:{{ $json.company_info.domain }}  trust center\n   - \"{{ $json.company_info.domain }}\" [framework name] certification\n\n### JSON OUTPUT FORMAT\nYour response should follow this output format:\n{\n    \"SOC_1\": \"true\",\n    \"SOC_2\": \"false\",\n    \"HIPAA_HITECH\": \"true\",\n    \"PCI_DSS\": \"true\",\n    \"ISO_27001\": \"false\",\n    \"ISO_42001\": \"true\",\n    \"ISO_50001\": \"false\",\n    \"CMMC\": \"true\",\n    \"CCPA\": \"false\",\n    \"GDPR\": \"true\",\n    \"GLBA\": \"true\",\n    \"FISMA\": \"false\",\n    \"MAR_SOX\": \"true\",\n    \"MARS_E\": \"false\",\n    \"NERC\": \"true\",\n    \"NYDFS\": \"false\",\n    \"NIST_AI_RMF\": \"true\",\n    \"HITRUST_AI_RMF\": \"false\",\n    \"NIST_CSF\": \"true\",\n    \"NIST_SP_800_53\": \"true\",\n    \"NIST_Cybersecurity_for_IoT\": \"false\",\n    \"website_found_on\": \"Example1.com\",\n    \"steps_taken\": [\n        \"Performed a Google Search on the company\",\n        \"Checked the companys website for trust center or security pages\",\n        \"Verified the information on LinkedIn\",\n        \"Scrutinized their blog posts\",\n        \"Cross-referenced with reliable third-party platforms\"\n    ],\n    \"reasoning\": \"The company's trust center on their website made it clear that they are SOC 2, HIPAA and CCPA compliant, and adhere to GDPR regulations. They have not released any information about their compliance with other frameworks or certifications.\",\n    \"confidence_level\": \"High\"\n}\n\n\n\n### RESPONSE VALIDATION\nBefore providing your response:\n1. Verify each framework exactly matches the authorized list\n2. Confirm source directly connects to the correct company\n3. Verify certification vs. mere compliance claims\n\n### IMPORTANT NOTES\n- Only report frameworks from the authorized list - no exceptions\n- Ignore claims of \"compliance with\" without certification evidence\n- Many websites mention GDPR/CCPA in privacy policies - this is not certification\n- Do not include frameworks without clear certification evidence\n- Verify you are on the correct company website by checking the domain","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[15200,640],"id":"574c47d5-21f6-4c5a-ab97-3ef9d56b9ce9","name":"Framework Agent - First","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"jsonSchemaExample":"{\n    \"SOC_1\": \"true\",\n    \"SOC_2\": \"false\",\n    \"HIPAA_HITECH\": \"true\",\n    \"PCI_DSS\": \"true\",\n    \"ISO_27001\": \"false\",\n    \"ISO_42001\": \"true\",\n    \"ISO_50001\": \"false\",\n    \"CMMC\": \"true\",\n    \"CCPA\": \"false\",\n    \"GDPR\": \"true\",\n    \"GLBA\": \"true\",\n    \"FISMA\": \"false\",\n    \"MAR_SOX\": \"true\",\n    \"MARS_E\": \"false\",\n    \"NERC\": \"true\",\n    \"NYDFS\": \"false\",\n    \"NIST_AI_RMF\": \"true\",\n    \"HITRUST_AI_RMF\": \"false\",\n    \"NIST_CSF\": \"true\",\n    \"NIST_SP_800_53\": \"true\",\n    \"NIST_Cybersecurity_for_IoT\": \"false\",\n    \"website_found_on\": \"Example1.com\",\n    \"steps_taken\": [\n        \"Performed a Google Search on the company\",\n        \"Checked the companys website for trust center or security pages\",\n        \"Verified the information on LinkedIn\",\n        \"Scrutinized their blog posts\",\n        \"Cross-referenced with reliable third-party platforms\"\n    ],\n    \"reasoning\": \"The company's trust center on their website made it clear that they are SOC 2, HIPAA and CCPA compliant, and adhere to GDPR regulations. They have not released any information about their compliance with other frameworks or certifications.\",\n    \"confidence_level\": \"High\"\n}\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[15420,840],"id":"2bf6c2b8-e8f5-438d-babc-7039089e3b7a","name":"Framework First - Parser"},{"parameters":{"promptType":"define","text":"=# Framework Verification Prompt\n\n### ROLE\nYou are an expert data verification specialist who identifies accurate information using publicly available data. Your task is to verify company compliance certifications and frameworks.\n\n### COMPANY INFORMATION\nCompany name: {{ $json.company_info.name }}\nWebsite: {{ $json.company_info.domain }}\nCompany LinkedIn: {{ $json.company_info.social_urls.linked_in }}\n\n### TASK\nResearch and verify which of the authorized frameworks and certifications this company has achieved. Only report frameworks and certifications from the authorized list below.\n\n### AUTHORIZED FRAMEWORKS\nOnly these exact frameworks and certifications may be reported. Any framework not on this list must be excluded:\n- DORA\n- SOC 1\n- SOC 2\n- SOC 3\n- ISO 27001\n- ISO 42001\n- HIPAA\n- PCI DSS\n- HITRUST\n- HITRUST AI RMF (HITRUST AI Risk Management Framework)\n- CMMC\n- CCPA\n- GDPR\n- GLBA\n- FISMA\n- MAR/SOX\n- MARS-E\n- NERC\n- NYDFS\n- NIST CSF\n- NIST SP 800-53\n- NIST AI RMF (NIST AI Risk Management Framework)\n- NIST Cybersecurity for IoT### VERIFICATION RULES\n1. Only report frameworks that are officially certified/attested:\n   - Must have evidence of certification or attestation\n   - Must be from verifiable sources\n   - General compliance claims without certification should be ignored\n\n2. Only accept information from:\n   - Company's official website {{ $json.company_info.domain }}\n   - Official press releases (verified to be from the company)\n   - Trust/Security/Compliance pages\n   - Official certification registries\n\n3. Company Verification:\n   - Only use information from {{ $json.company_info.domain }}\n   - Verify company name matches exactly:  {{ $json.company_info.name }}\n   - For press releases, verify company details in the \"About\" section match\n\n### SEARCH APPROACH\n1. Trust/Security Pages:\n   - Look for certification badges\n   - Check trust center or compliance pages\n   - Review security documentation\n\n2. Press Releases:\n   - Search for certification announcements\n   - Verify company details match\n\n3. Search Engine Queries:\n   - site:{{ $json.company_info.domain }} certification\n   - site:{{ $json.company_info.domain }} compliance\n   - site:{{ $json.company_info.domain }} trust center\n   - \"{{ $json.company_info.domain }}\" [framework name] certification\n\n### JSON OUTPUT FORMAT\nYour response should follow this output format:\n{\n    \"SOC_1\": \"true\",\n    \"SOC_2\": \"false\",\n    \"HIPAA_HITECH\": \"true\",\n    \"PCI_DSS\": \"true\",\n    \"ISO_27001\": \"false\",\n    \"ISO_42001\": \"true\",\n    \"ISO_50001\": \"false\",\n    \"CMMC\": \"true\",\n    \"CCPA\": \"false\",\n    \"GDPR\": \"true\",\n    \"GLBA\": \"true\",\n    \"FISMA\": \"false\",\n    \"MAR_SOX\": \"true\",\n    \"MARS_E\": \"false\",\n    \"NERC\": \"true\",\n    \"NYDFS\": \"false\",\n    \"NIST_AI_RMF\": \"true\",\n    \"HITRUST_AI_RMF\": \"false\",\n    \"NIST_CSF\": \"true\",\n    \"NIST_SP_800_53\": \"true\",\n    \"NIST_Cybersecurity_for_IoT\": \"false\",\n    \"website_found_on\": \"Example1.com\",\n    \"steps_taken\": [\n        \"Performed a Google Search on the company\",\n        \"Checked the companys website for trust center or security pages\",\n        \"Verified the information on LinkedIn\",\n        \"Scrutinized their blog posts\",\n        \"Cross-referenced with reliable third-party platforms\"\n    ],\n    \"reasoning\": \"The company's trust center on their website made it clear that they are SOC 2, HIPAA and CCPA compliant, and adhere to GDPR regulations. They have not released any information about their compliance with other frameworks or certifications.\",\n    \"confidence_level\": \"High\"\n}\n\n\n### RESPONSE VALIDATION\nBefore providing your response:\n1. Verify each framework exactly matches the authorized list\n2. Confirm source directly connects to the correct company\n3. Verify certification vs. mere compliance claims\n\n### IMPORTANT NOTES\n- Only report frameworks from the authorized list - no exceptions\n- Ignore claims of \"compliance with\" without certification evidence\n- Many websites mention GDPR/CCPA in privacy policies - this is not certification\n- Do not include frameworks without clear certification evidence\n- Verify you are on the correct company website by checking the domain","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[16000,640],"id":"44db96aa-101c-442e-aaef-9af659f5febb","name":"Framework Agent - Second","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"jsonSchemaExample":"{\n    \"SOC_1\": \"true\",\n    \"SOC_2\": \"false\",\n    \"HIPAA_HITECH\": \"true\",\n    \"PCI_DSS\": \"true\",\n    \"ISO_27001\": \"false\",\n    \"ISO_42001\": \"true\",\n    \"ISO_50001\": \"false\",\n    \"CMMC\": \"true\",\n    \"CCPA\": \"false\",\n    \"GDPR\": \"true\",\n    \"GLBA\": \"true\",\n    \"FISMA\": \"false\",\n    \"MAR_SOX\": \"true\",\n    \"MARS_E\": \"false\",\n    \"NERC\": \"true\",\n    \"NYDFS\": \"false\",\n    \"NIST_AI_RMF\": \"true\",\n    \"HITRUST_AI_RMF\": \"false\",\n    \"NIST_CSF\": \"true\",\n    \"NIST_SP_800_53\": \"true\",\n    \"NIST_Cybersecurity_for_IoT\": \"false\",\n    \"website_found_on\": \"Example1.com\",\n    \"steps_taken\": [\n        \"Performed a Google Search on the company\",\n        \"Checked the companys website for trust center or security pages\",\n        \"Verified the information on LinkedIn\",\n        \"Scrutinized their blog posts\",\n        \"Cross-referenced with reliable third-party platforms\"\n    ],\n    \"reasoning\": \"The company's trust center on their website made it clear that they are SOC 2, HIPAA and CCPA compliant, and adhere to GDPR regulations. They have not released any information about their compliance with other frameworks or certifications.\",\n    \"confidence_level\": \"High\"\n}\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[16220,860],"id":"e234ed2b-eedd-47b7-bb27-7d1e9e8ea1ae","name":"Framework Second - Parser"},{"parameters":{"promptType":"define","text":"=### ROLE\nYou are an Audit Intelligence Analyst who identifies audit vendors and GRC (Governance, Risk, and Compliance) software from company compliance documentation. You provide accurate, structured analysis of companies' compliance vendors and tools.\n\n### COMPANY INFORMATION\nCompany Name: {{ $json.company_info.name }}\nWebsite/Domain: {{ $json.company_info.domain }}\n\n### RESEARCH FINDINGS\nTwo research teams have identified compliance frameworks for {{ $json.company_info.name }}\n:\nResearch Team 1 Findings: {{ $json.company_info.found_frameworks[0].reasoning }}\nResearch Team 2 Findings: {{ $json.company_info.found_frameworks[1].reasoning }}\n\n### TASK\nFor {{ $json.company_info.name }}, analyze compliance documentation to identify:\n1. Any auditors or third-party firms that conduct their compliance assessments\n2. Any GRC (Governance, Risk, and Compliance) platforms or software used to manage their compliance program\n\n### AUTHORIZED COMPLIANCE FRAMEWORKS\nOnly consider the research provided and only report on auditors and GRC software for the exact frameworks and certifications listed below.  Any auditors or GRC software found for framework or certifications not on this list must be excluded:\nDORA \nSOC 1\nSOC 2\nSOC 3\nISO 27001\nHIPAA\nPCI DSS\nHITRUST\nNIST AI RMF\nHITRUST AI RMF\nNIST AI Risk Management\nNIST Cybersecurity for IoT\nISO 42001\nISO 50001\nCMMC\nCCPA\nGDPR\nGLBA\nFISMA\nMAR/SOX\nMARS-E\nNERC\nNYDFS\nNIST CSF\nNIST SP 800-53\n### EVIDENCE REQUIREMENTS\nValid Evidence Sources:\n- Trust Center/Security pages\n- Press releases or announcements\n- Auditor verification pages\n- Official certification registries\n- Integration/partnership announcements\n- Job postings\n- Case studies from vendors\n\n### CONFIDENCE LEVELS\nHIGH: Direct mention in official company or auditor documentation\nMEDIUM: Indirect references from reliable sources\nLOW: Third-party mentions or unclear references\n\n### COMMON EXAMPLES\nCommon auditors include (not a complete list):\n- Schellman & Company\n- A-LIGN\n- Kirkpatrick Price\n- Deloitte\n- Ernst & Young (EY)\n- KPMG\n- PricewaterhouseCoopers (PwC)\n\nCommon GRC platforms include (not a complete list):\n- Vanta\n- Drata\n- Secureframe\n- OneTrust\n- LogicGate\n- ZenGRC\n- Hyperproof\n- Sprinto\n\n### OUTPUT FORMAT\nYour output should follow the structure of following JSON object:\n{\n\"auditors\": [\"Schellman & Company LLC\"],\n\"grc_tools\": [\"Secureframe\"],\n\"confidence_auditor_grc\": \"low\",\n\"source\": \"Company's public statements and blogs\",\n\"frameworks\":[\"SOC 2\",\"GDPR\"],\n\"notes\": \"Public statements mention audits conducted by Schellman & Company LLC. Blogs point to potential use of Secureframe, though the company hasn't officially confirmed this in any formal documentation.\",\n\"bonus_info\":\"The company plans to move its operations to the cloud by the end of 2025. They have a strong internal security team and are preparing for an upcoming SOC 2 Type II audit.\",\n\"steps_taken\" : [\"Searched through companys public statements\", \"Perused multiple blogs\", \"Reviewed statements from leadership\"],\n\"reasoning\":\"Though the company hasn't officially confirmed using Secureframe, their public statements and blogs strongly hint at its usage. The company also appears to be proactive about their compliance journey.\",\n\"confidence_level\": \"Low\"\n}\n### IMPORTANT NOTES\n1. Verify all information comes from or relates to the correct company domain: {Domain}\n2. If you cannot find specific auditors or GRC tools, use [\"Not Found\"]\n3. Distinguish between actual certification evidence and general compliance claims\n4. Include source URLs or specific documentation references\n5. Always include the brand of the GRC tool if the name of the tool is specific and vague.  For example, if a GRC tool is called \"Return Simulator\" and the brand that sells it is Aapryl, then you would respond with \"Aapryl Return Simulator\" \n\n### ACCURACY REQUIREMENTS\n- Take time to perform thorough research\n- Verify company identity matches exactly\n- Only report findings you can support with evidence\n- Indicate confidence level based on evidence quality\n- Note any inconsistencies or uncertainties in findings","hasOutputParser":true,"options":{"returnIntermediateSteps":false}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[16600,640],"id":"69456133-72e0-4204-b41c-3a0da386df08","name":"Auditor & GRC Tool Agent","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"jsonSchemaExample":"{\n\"auditors\": [\"Schellman & Company LLC\"],\n\"grc_tools\": [\"Secureframe\"],\n\"confidence_auditor_grc\": \"low\",\n\"source\": \"Company's public statements and blogs\",\n\"frameworks\":[\"SOC 2\",\"GDPR\"],\n\"notes\": \"Public statements mention audits conducted by Schellman & Company LLC. Blogs point to potential use of Secureframe, though the company hasn't officially confirmed this in any formal documentation.\",\n\"bonus_info\":\"The company plans to move its operations to the cloud by the end of 2025. They have a strong internal security team and are preparing for an upcoming SOC 2 Type II audit.\",\n\"steps_taken\" : [\"Searched through companys public statements\", \"Perused multiple blogs\", \"Reviewed statements from leadership\"],\n\"reasoning\":\"Though the company hasn't officially confirmed using Secureframe, their public statements and blogs strongly hint at its usage. The company also appears to be proactive about their compliance journey.\",\n\"confidence_level\": \"Low\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[16840,840],"id":"6767d450-f408-47e9-ac04-4755a84bbbc5","name":"Auditor & GRC Tool - Parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Combining frameworks - 2').first().json\n\nconst grc = {\n auditors: $json?.output?.auditors || \"\",\n grc_tools: $json?.output?.grc_tools || \"\",\n confidence_auditor_grc: $json?.output?.confidence_auditor_grc || \"\",\n source: $json?.output?.source || \"\",\n frameworks: $json?.output?.frameworks || \"\",\n notes: $json?.output?.notes || \"\",\n bonus_info: $json?.output?.bonus_info || \"\",\n steps_taken: $json?.output?.steps_taken || \"\",\n reasoning: $json?.output?.reasoning || \"\",\n confidence_level: $json?.output?.confidence_level || \"\"\n}\n\noriginal.company_info.auditor_grc_tools = grc\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[17000,640],"id":"f8407d62-02fd-4e39-ade8-337519347c9e","name":"Combining Auditor & GRC Tool"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding Competitor Partner Classification').item.json\nconst output = $json?.output\n\nconst frameworks = {\n  \"SOC_1\": output?.SOC_1 || \"\",\n  \"SOC_2\": output?.SOC_2 || \"\",\n  \"HIPAA_HITECH\": output?.HIPAA_HITECH || \"\",\n  \"PCI_DSS\": output?.PCI_DSS || \"\",\n  \"ISO_27001\": output?.ISO_27001 || \"\",\n  \"ISO_42001\": output?.ISO_42001 || \"\",\n  \"ISO_50001\": output?.ISO_50001 || \"\",\n  \"CMMC\": output?.CMMC || \"\",\n  \"CCPA\": output?.CCPA || \"\",\n  \"GDPR\": output?.GDPR || \"\",\n  \"GLBA\": output?.GLBA || \"\",\n  \"FISMA\": output?.FISMA || \"\",\n  \"MAR_SOX\": output?.MAR_SOX || \"\",\n  \"MARS_E\": output?.MARS_E || \"\",\n  \"NERC\": output?.NERC || \"\",\n  \"NYDFS\": output?.NYDFS || \"\",\n  \"NIST_AI_RMF\": output?.NIST_AI_RMF || \"\",\n  \"HITRUST_AI_RMF\": output?.HITRUST_AI_RMF || \"\",\n  \"NIST_CSF\": output?.NIST_CSF || \"\",\n  \"NIST_SP_800_53\": output?.NIST_SP_800_53 || \"\",\n  \"NIST_Cybersecurity_for_IoT\": output?.NIST_Cybersecurity_for_IoT || \"\",\n  \"website_found_on\": output?.website_found_on || \"\",\n  \"steps_taken\": output?.steps_taken || [],\n  \"reasoning\": output?.reasoning || \"\",\n  \"confidence_level\": output?.confidence_level || \"\"\n}\n\n\noriginal.company_info.found_frameworks = [frameworks]\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[15540,640],"id":"ce3831f3-dc11-4e0c-9a74-23c469d1d554","name":"Combining frameworks  - 1"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Combining frameworks  - 1').first().json\nconst output = $json.output\n\nconst frameworks = {\n  \"SOC_1\": output?.SOC_1 || \"\",\n  \"SOC_2\": output?.SOC_2 || \"\",\n  \"HIPAA_HITECH\": output?.HIPAA_HITECH || \"\",\n  \"PCI_DSS\": output?.PCI_DSS || \"\",\n  \"ISO_27001\": output?.ISO_27001 || \"\",\n  \"ISO_42001\": output?.ISO_42001 || \"\",\n  \"ISO_50001\": output?.ISO_50001 || \"\",\n  \"CMMC\": output?.CMMC || \"\",\n  \"CCPA\": output?.CCPA || \"\",\n  \"GDPR\": output?.GDPR || \"\",\n  \"GLBA\": output?.GLBA || \"\",\n  \"FISMA\": output?.FISMA || \"\",\n  \"MAR_SOX\": output?.MAR_SOX || \"\",\n  \"MARS_E\": output?.MARS_E || \"\",\n  \"NERC\": output?.NERC || \"\",\n  \"NYDFS\": output?.NYDFS || \"\",\n  \"NIST_AI_RMF\": output?.NIST_AI_RMF || \"\",\n  \"HITRUST_AI_RMF\": output?.HITRUST_AI_RMF || \"\",\n  \"NIST_CSF\": output?.NIST_CSF || \"\",\n  \"NIST_SP_800_53\": output?.NIST_SP_800_53 || \"\",\n  \"NIST_Cybersecurity_for_IoT\": output?.NIST_Cybersecurity_for_IoT || \"\",\n  \"website_found_on\": output?.website_found_on || \"\",\n  \"steps_taken\": output?.steps_taken || [],\n  \"reasoning\": output?.reasoning || \"\",\n  \"confidence_level\": output?.confidence_level || \"\"\n}\n\n\n\noriginal.company_info.found_frameworks.push(frameworks)\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[16320,640],"id":"e5596ca2-1cd4-4efb-a8bb-34e5d9a48a25","name":"Combining frameworks - 2"},{"parameters":{"promptType":"define","text":"=### ROLE\nYou are an expert quality assurance and data verification specialist with advanced skills in online research and business intelligence. You critique and verify information found by our team using publicly available data.  Your attention to detail and dedication to the truth keeps the world safe from false information. You only allow content through that is 100% factual  \n\n### TARGET INFORMATION\nCompany name: {{ $json.company_info.name }}\nSummary: {{ $json.company_info.description }}\nDomain: {{ $json.company_info.domain }}\nWebsite: {{ $json.company_info.domain }}\nCompany LinkedIn: {{ $json.company_info.social_urls.linked_in }}\nIndustry: {{ $json.company_info.industry }}\nSpecialties: {{ $json.company_info.specialities ? $json.company_info.specialities.join(\",\") : \"\" }}\n\nInitial Compliance Research:\nTwo researches have provided us with their findings.  \nResearcher 1: \nReasoning: {{ $json.company_info.found_frameworks[0].reasoning }}\nResearch Process: {{ $json.company_info.found_frameworks[0].steps_taken }}\n\nResearcher 2: \nReasoning: {{ $json.company_info.found_frameworks[1].reasoning }}\nResearch Process:{{ $json.company_info.found_frameworks[1].steps_taken }}\n\n\n## Vendors/Auditors/Tools found:\nThe researchers were tasked with finding out which auditors or third-parties provided the audit or assisted the company with the certification process or issued the certification or final report. \nReasoning:  {{ $json.company_info.auditor_grc_tools.reasoning }}\nGRC Software:{{ $json.company_info.auditor_grc_tools.grc_tools}}\nAuditors: {{ $json.company_info.auditor_grc_tools.auditors }}\nAdditional Info:{{ $json.company_info.auditor_grc_tools.bonus_info }}\nSteps Taken:{{ $json.company_info.auditor_grc_tools.steps_taken }}\n\n### TASK\nYour task is to critique the research about {{ $json.company_info.name }}'s ({{ $json.company_info.domain }}) compliance frameworks and certifications they have been reported to achieve to determine if the research is accurate.   The frameworks and certifications below are the ONLY frameworks you will confirm and evaluate.  Ignore all frameworks and certifications found by the researches that are NOT in the list below:\n\nIT Compliance and Certification:\n- DORA\n- SOC 1\n- SOC 2\n- SOC 3\n- ISO 27001\n- ISO 42001\n- HIPAA\n- PCI DSS\n- HITRUST\n- HITRUST AI RMF (HITRUST AI Risk Management Framework)\n- CMMC\n- CCPA\n- GDPR\n- GLBA\n- FISMA\n- MAR/SOX\n- MARS-E\n- NERC\n- NYDFS\n- NIST CSF\n- NIST SP 800-53\n- NIST AI RMF (NIST AI Risk Management Framework)\n- NIST Cybersecurity for IoT\n\nNote: These are the only frameworks and certifications you will evaluate.\n### OUTPUT REQUIREMENTS\n\n#### Analysis Section\n- Analysis Summary: Provide your analysis of the research findings\n- Corrections Required: List any inaccuracies found and needed corrections\n- Verification Process: Document the steps taken to verify information\n\n#### Company Verification\n- Confirm company identity match for:\n  * Company Name: {Company Name}\n  * Domain: {Domain}\n  * LinkedIn: {LinkedIn URL}\n- Indicate confidence level (high/low)\n\n#### Framework Verification\n- Confirmed Frameworks: List only frameworks that:\n  * Are in the authorized framework list\n  * Have been verified as achieved by the company\n  * Are for the company's own compliance (not provided to others)\n  Format: Comma-separated with \"and\" before last item, or \"None Confirmed\"\n\n- Unconfirmed Frameworks: List frameworks that:\n  * Were incorrectly attributed\n  * Cannot be verified with confidence\n  Format: Comma-separated with \"and\" before last item\n\n#### Vendor Verification\n- Confirmed GRC Tools: List verified tools or \"Not Found\"\n- Confirmed Auditors: List verified auditors or \"Not Found\"\n\n### REQUIRED OUTPUT FIELDS\n1. verification_company_name_match: text\n2. verification_domain_match: text\n3. verification_linkedin_match: text\n4. verification_confidence_level: string [\"high\", \"low\"]\n5. analysis_summary: text\n6. analysis_corrections: text\n7. verification_process: text\n8. confirmed_frameworks: text\n9. unconfirmed_frameworks: text\n10. confirmed_auditors: text\n11. confirmed_grc_tools: text\n### EXAMPLE OUTPUT \nYour output should be structure as the following object:\n{\n  \"verification_company_name_match\": \"true\",\n  \"verification_domain_match\": \"false\",\n  \"verification_linkedin_match\": \"true\",\n  \"verification_confidence_level\": \"high\",\n  \"analysis_summary\": \"The company name matches the verification source, but the domain does not fully align with the expected details. LinkedIn profile corroborates company details. Further investigation is needed regarding the domain.\",\n  \"analysis_corrections\": \"Domain mismatch could be due to a recent domain change or alias used. Further verification needed with the domain administrator.\",\n  \"verification_process\": \"The process involved verifying the company name through official sources, checking the domain against company records, and validating LinkedIn profiles for consistency.\",\n  \"confirmed_frameworks\": \"SOC 1, SOC 2, HIPAA, GDPR\",\n  \"unconfirmed_frameworks\": \"ISO 27001, NIST SP 800-53\",\n  \"confirmed_auditors\": \"Deloitte, KPMG\",\n  \"confirmed_grc_tools\": \"RSA Archer, ServiceNow GRC\"\n}\n\n\n### CONFIRMED FRAMEWORK OUTPUT EXAMPLES\n- If the researchers found that the company has achieved ISO 13485, your output for the confirmed_frameworks field will be \"None Confirmed\".  ISO 13485 is NOT an authorized framework. \n- If the researchers found the company has achieved IMS Global CLR, SOC 1 and ISO 17100, your output for the confirmed_frameworks field will be \"SOC 1\".  ISO 17100 and Global CLR are NOT authorized frameworks. \n### IMPORTANT\n- THIS IS CRITICAL - WE WILL DESTORY OUR RELATIONSHIP WITH THE CUSTOMER IF THIS IS NOT ACCURATE: You must ensure that you are researching the company named {{ $json.company_info.name }}({{ $json.company_info.domain }}) that matches the company found at {{ $json.company_info.social_urls.linked_in }}.   Many companies have similar names and domains.  The company you are researching is called {{ $json.company_info.name }}, has {{ $json.company_info.domain }} as their domain and can be found at this linkedin page: {{ $json.company_info.social_urls.linked_in }}\n  \n- Be aware that GDPR, CCPA, HIPAA and other privacy certifications and frameworks are often mentioned on websites because the company complies with them.  This may not mean they are actually certified to be compliant.  For example, many websites have a cookie acknowledgement that visitors have to acknowledge.  These cookie policies often mention GDPR and CCPA.  Do not confuse this with the actual certification.  \n### ACCURACY STATEMENT\n- You will verify that your ouput is for \n{{ $json.company_info.name }}, who is the same company at this LinkedIn URL: {{ $json.company_info.social_urls.linked_in }}.  If you do not have high confience that the certifications and frameworks that you found in your research (on search engines and other sources) are for this exact company, respond with \"Low Confidence\" \n- If the website does not have a \"Trust Center\" or other sections prooving thier commitment to data security and compliance, then search Google\n-  You MUST document the steps you have taken, specifically any google searches you made\n- If you are taking information from an online source, such as a Press Release, the information in the \"About\" section (or other section that contains the company's contact information) you must verify that the company mentioned is the same EXACT company as our prospect.  \n- ALWAYS CLEAR YOUR CACHE BEFORE SEARCHING.  YOUR JOB DEPENDS ON FRESH INFORMATION\n- Unauthorized frameworks will not be confirmed frameworks.  This is critical. ","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[17300,640],"id":"c4902f61-0250-4aaf-9117-86986a11ecc0","name":"Frameworks - Review Agent","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[9500,920],"id":"4de1944a-4834-42df-b269-17c1227d0b5d","name":"OpenAI Chat Model - Page Info","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[10520,900],"id":"c75ae5ba-2dc4-44ae-a81a-b81960616d53","name":"OpenAI Chat Model - Company Info","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[13340,900],"id":"a36e8023-0efe-41a5-baa3-b4b16386578c","name":"OpenAI Chat Model - Contact info.","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[16540,860],"id":"a50c34ab-912c-49b4-b055-a2955f7e71c9","name":"OpenAI Chat Model - Auditor & GRC Tool","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[15160,840],"id":"91ea1f83-9821-48f2-b7c3-306af45aa22a","name":"OpenAI Chat Model - Framework First","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[15940,860],"id":"93fad9a9-dbce-44a0-86e5-13d0c3a529d6","name":"OpenAI Chat Model - Framework Second","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[17240,840],"id":"80f6ce52-34e7-440a-94c0-81a0e8d245f5","name":"OpenAI Chat Model - Framework Review","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n  \"verification_company_name_match\": \"true\",\n  \"verification_domain_match\": \"false\",\n  \"verification_linkedin_match\": \"true\",\n  \"verification_confidence_level\": \"high\",\n  \"analysis_summary\": \"The company name matches the verification source, but the domain does not fully align with the expected details. LinkedIn profile corroborates company details. Further investigation is needed regarding the domain.\",\n  \"analysis_corrections\": \"Domain mismatch could be due to a recent domain change or alias used. Further verification needed with the domain administrator.\",\n  \"verification_process\": \"The process involved verifying the company name through official sources, checking the domain against company records, and validating LinkedIn profiles for consistency.\",\n  \"confirmed_frameworks\": \"SOC 1, SOC 2, HIPAA, GDPR\",\n  \"unconfirmed_frameworks\": \"ISO 27001, NIST SP 800-53\",\n  \"confirmed_auditors\": \"Deloitte, KPMG\",\n  \"confirmed_grc_tools\": \"RSA Archer, ServiceNow GRC\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[17520,840],"id":"55d71f50-076c-46c2-9387-495b90a15fb1","name":"Framework review - Parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Combining Auditor & GRC Tool').first().json\nconst output = $json?.output\n\nconst review = {\n  \"verification_company_name_match\": output?.verification_company_name_match || false,\n  \"verification_domain_match\": output?.verification_domain_match || false,\n  \"verification_linkedin_match\": output?.verification_linkedin_match || false,\n  \"verification_confidence_level\": output?.verification_confidence_level || \"low\",\n  \"analysis_summary\": output?.analysis_summary || \"\",\n  \"analysis_corrections\": output?.analysis_corrections || \"\",\n  \"verification_process\": output?.verification_process || \"\",\n  \"confirmed_frameworks\": output?.confirmed_frameworks || \"\",\n  \"confirmed_frameworks_number\": output?.confirmed_frameworks ?output.confirmed_frameworks.split(',').length : 0,\n  \"unconfirmed_frameworks\": output?.unconfirmed_frameworks || \"\",\n  \"confirmed_auditors\": output?.confirmed_auditors || \"\",\n  \"confirmed_grc_tools\": output?.confirmed_grc_tools || \"\"\n}\n\noriginal.company_info.framework_review = review\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[17620,640],"id":"fe06bc80-a4fb-4fcf-93fb-fd4579cfd4e4","name":"Combining Framework Review"},{"parameters":{"content":"# Prospect Report\n\n","height":660,"width":402},"id":"af4b147b-8f5c-435a-87cd-6b7c2d9b54d8","name":"Sticky Note12","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[22940,380]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $json\nconst report = ` \n${$json?.company_info?.icp_score?.total_score_string} - ${$json?.user_info?.first_name} ${$json?.user_info?.last_name}\n\n\n### About \n${$json?.user_info?.first_name} ${$json?.user_info?.last_name}\n\n${$json?.user_info?.visit_intent}\n\n### Prospect Score (See bottom for scoring rules)\n\n${$json?.company_info?.icp_score?.total_score_string}(${$json?.company_info?.icp_score?.overall_score.totalScore}/${$json?.company_info?.icp_score?.overall_score.maxPossibleScore} Points)\n\nSummary:${$json?.company_info?.icp_score?.summary}\n\n### Job Title Score\nTotal Score: ${$json.company_info.icp_score.overall_score.componentScores.jobTitle} /12 Points\nJob Title:  ${$json.user_info.role} \nReasoning:  ${$json.company_info.icp_score.job_title.rationale}\n\n### Industry Title Score\nTotal Score: ${$json.company_info.icp_score.overall_score.componentScores.industry}/8 Points\nIndustry:  ${$json.company_info.industry}\nReasoning:  ${$json.company_info.icp_score.industry.explanation}\n\n### Location Score\nTotal Score: ${$json.company_info.icp_score.overall_score.componentScores.location}/8 Points\nLocal: ${$json.company_info.icp_score.location.location_scores.is_local}\nReasoning:  ${$json.company_info.icp_score.location.explanation}\n\n\n### Company Size Score\nTotal Score: ${$json.company_info.icp_score.overall_score.componentScores.companySize}/4 Points\nEmployee Count: ${$json.company_info.size}\nReasoning:  ${$json.company_info.icp_score.company_size.explanation}\n\n### Frameworks\nTotal Score: ${$json.company_info.icp_score.overall_score.componentScores.frameworks}/12 Points\nFrameworks: ${$json.company_info.framework_review.confirmed_frameworks}\nReasoning: ${$json.company_info.icp_score.framework.explanation}\nResearch:  ${$json?.company_info?.framework_review?.analysis}\n\n### Intent\nTotal Score: ${$json.company_info.icp_score.overall_score.componentScores.intent}/18 Points\nIntent: ${$json.user_info.visit_intent}\nPage Visited: ${$json.technical_data.page_visited_url}\nTopic of Page: ${$json.technical_data.page_visited_topic}\nReasoning: ${$json.company_info.icp_score.intent.rationale}\n\n\n### Auditors & GRC Tools\nAuditors: ${$json?.company_info?.auditor_grc_tools?.auditors}\nGRC Tools: ${$json?.company_info?.auditor_grc_tools?.grc_tools}\n\n### Criteria\nLocal:  ${$json.company_info.icp_score.location.location_scores.is_local}\nJob Title: ${$json.user_info.role}\nEmployee Count:${$json.company_info.size}\nIndustry: ${$json.company_info.industries}\nIntent: ${$json.user_info.visit_intent}\n\n## Compliance Frameworks & Certifications\n- **Frameworks/Certifications that ${$json?.company_info?.name} has:**  \n${$json?.company_info?.framework_review?.confirmed_frameworks}\n- **Auditors they used for compliance/certifications:**  \n${$json?.company_info?.auditor_grc_tools?.auditors}\n- **GRC Tools they use:**  \n${$json?.company_info?.auditor_grc_tools?.grc_tools}\n- **Research and Reasoning:**  \nAnalysis:  ${$json?.company_info?.framework_review?.analysis}\nReasoning: ${$json?.company_info?.framework_review?.reasoning}\n\n### Contact Info\nName: ${$json?.user_info?.first_name} ${$json?.user_info?.last_name}\nJob Title: ${$json?.user_info?.role}\nPhone: ${$json?.user_info?.phone_number}\nEmail: ${$json?.user_info?.primary_email}\nLinkedIn: ${$json?.user_info?.social_urls?.linked_in}\nRecent Posts (If available): \"\"\n\n### Company Info\nCompany Name: ${$json?.company_info?.name}\nCity/State: ${$json?.company_info?.location?.city} ${$json?.company_info?.location?.state}\nWebsite: ${$json?.company_info?.domain}\nIndustry: ${$json?.company_info?.industry}\nSpecialties: ${$json?.company_info?.specialities}\nProducts / Services: ${$json?.company_info?.products}\n### ICP SCORING GUIDELINES\nTier 1: 50-65 points\nTier 2: 31-49 points\nTier 3: 20-30 points\n--\nFramework Score: \nFactor A: Page Type by URL Structure\n\nScore 3: Sales page visit (URL does not contain \"/blog/\")\nScore 1: Blog or informational page (URL contains \"/blog/\")\n\nFactor B: Framework Relevancy\n\nScore 3: Page EXCLUSIVELY about a framework the company has documented\nScore 2: Page EXCLUSIVELY about single framework company doesn't have (never use for government agencies)\nScore 1: Default score for:\n- Any government agency framework pages\n- Multiple frameworks mentioned\n- Framework implementation status unclear\n- General compliance topics\n- Any uncertainty about framework focus\n`\noriginal.prospect_reports = [report]\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[23060,620],"id":"f69fe73a-ae8b-4984-98d3-9f066fe8bcc6","name":"Prospect Report"},{"parameters":{"content":"# Normalization\n\n","height":660,"width":302},"id":"ee86006d-d33c-47ff-b8d4-a7dc262df600","name":"Sticky Note9","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[22620,380]},{"parameters":{"tableId":"website_visitors_new","fieldsUi":{"fieldValues":[{"fieldId":"user_info","fieldValue":"={{ $json.user_info }}"},{"fieldId":"company_info","fieldValue":"={{ $json.company_info }}"},{"fieldId":"technical_data","fieldValue":"={{ $json.technical_data }}"},{"fieldId":"upcoming_meeting_data","fieldValue":"={{ $json.upcoming_meeting_data }}"},{"fieldId":"prospect_reports","fieldValue":"={{ $json.prospect_reports }}"},{"fieldId":"personalization","fieldValue":"={{ $json.personalization }}"},{"fieldId":"visited_page_domain","fieldValue":"={{ $json.technical_data.page_visited_domain }}"},{"fieldId":"email","fieldValue":"={{ $json.user_info.primary_email }}"},{"fieldId":"first_name","fieldValue":"={{ $json.user_info.first_name }}"},{"fieldId":"last_name","fieldValue":"={{ $json.user_info.last_name }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[31060,620],"id":"40a24690-056b-4ced-840f-62aa4dc65be5","name":"Adding to database","credentials":{"supabaseApi":{"id":"KAjqGpkvqbL6t5fA","name":"searchactions.com - Website Visitors Project"}}},{"parameters":{"content":"# Database ","height":660,"width":260},"type":"n8n-nodes-base.stickyNote","position":[31000,380],"typeVersion":1,"id":"90f4f93c-7485-4e29-956c-f352068d54e1","name":"Sticky Note2"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const input = $input.item.json.body\nconst company = input.type === \"company.visited\"\n\nlet city = \"\"\nlet state = \"\"\n\nif(input.location){\n  const split = input.location.split(\",\")\n  city = split[0]\n  state = split[1]\n}\nconst formatted = {\n  user_info:{\n    \"first_name\": input.firstName || \"\",\n    \"last_name\": input.lastName || \"\",\n    \"primary_email\": input.email || input.externalId ||  \"\",\n    \"personal_emails\":input.email ||  input.externalId ? [input.email || input.externalId] :   [],\n    \"social_urls\":{\n      \"linked_in\": !company ? input.linkedinUrl ||  \"\" : \"\"\n    },\n    \"location\":{\n      \"city\": !company ? city || \"\" :\"\",\n      \"state\": !company ? state || \"\" : \"\",\n    },\n  },\n  company_info:{\n    \"name\":  input.company || \"\",\n    \"domain\": input.companyDomain || \"\",\n    \"social_urls\":{\n      \"linked_in\": company ? input.linkedinUrl ||  \"\" : \"\"\n    },\n    \"location\":{\n      \"city\": company ? city || \"\" :\"\",\n      \"state\": company ? state || \"\" : \"\",\n    }\n  },\n  technical_data:{\n    \"page_visited_title\": input.pageTitle || \"\",\n    \"page_visited_url\": input.pageUrl || \"\",\n    \"utmCampaign\": input.utmCampaign || \"\",\n    \"utmContent\": input.utmContent || \"\",\n    \"utmMedium\": input.utmMedium || \"\",\n    \"utmSource\": input.utmSource || \"\",\n    \"utmTerm\": input.utmTerm || \"\",\n    \"vvid\": input.vvid || \"\",\n    \"hem\": input.hem\n  }\n \n}\n\n\nreturn formatted;"},"id":"1c4c3ca6-7345-46a3-8958-4ecb2819a13e","name":"Vector data normalization","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1800,720]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const input = $json\nconst formatted = {\n  prospect_source : $json?.source || \"\",\n  user_info:{\n    \"first_name\": input?.first_name|| \"\",\n    \"last_name\": input?.last_name|| \"\",\n    \"primary_email\": input?.email || \"\",\n    \"personal_emails\":input?.email || [],\n    \"social_urls\":{\n      \"linked_in\":\"\"\n    },\n    \"location\":{\n      \"city\": \"\",\n      \"state\": \"\",\n    },\n  },\n  company_info:{\n    \"name\":  input?.company || \"\",\n    \"domain\": input?.domain || \"\",\n    \"social_urls\":{\n      \"linked_in\":  \"\" \n    },\n    \"location\":{\n      \"city\": \"\",\n      \"state\":\"\",\n    }\n  },\n  technical_data:{\n    \"company_id\":$json.company_id || \"\",\n    \"page_visited_title\": \"\",\n    \"page_visited_url\": input?.hs_analytics_first_url ||input?.hs_analytics_last_url || \"\",\n    \"utmCampaign\":  \"\",\n    \"utmContent\":  \"\",\n    \"utmMedium\":  \"\",\n    \"utmSource\": \"\",\n    \"utmTerm\": \"\",\n    \"vvid\": \"\",\n    \"hem\": \"\"\n  },\n  upcoming_meeting_data:{\n    meeting_with: \"Brian\",\n    meeting_time: input?.meeting_time || \"\",\n    lifecycle_stage: input?.lifecycle_stage || \"\",\n    form_message: input?.form_message || \"\",\n    hubspot_id: input?.hubspot_id\n  }\n}\n\nreturn formatted"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-1800,900],"id":"b1522b6b-b6c1-4de3-af91-100f325a256d","name":"HubSpot Integration- Data Normalization"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const summarizing_technical_data = $('Anthropic Response')?.first()?.json?.technical_data\nconst structured_object = {...summarizing_technical_data , urn: \"\" , mx_record:\"\", mx_provider:\"\",mx_security_gateway:\"\" }\n//PROFILE SEARCH URN\nlet profile_data = null\ntry{\n  profile_data = $('Profile Search')?.first()?.json\n}catch(error){\n  \n}\n\nconst profile_data_urn = profile_data?.urn\nif(profile_data_urn){\n  structured_object.urn = profile_data_urn\n}\n// MX DATA\nconst email_data  = $('Combining Email data')?.first()?.json\nif(email_data?.mx_record){\n  structured_object.mx_record = email_data.mx_record\n}\nif(email_data?.mx_provider){\n  structured_object.mx_provider = email_data.mx_provider\n}\nif(email_data?.mx_security_gateway){\n  structured_object.mx_security_gateway = email_data.mx_security_gateway\n}\nif (structured_object?.page_visited_url) {\n    const str = structured_object.page_visited_url;\n            \n    const matches = str.match(/^https?\\:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i);\n    if (matches && matches[1]) {\n       structured_object.page_visited_domain = matches[1].toLowerCase();\n    } else {\n        // Only use fallback if regex doesn't match\n        let domain = str.replace(/^(https?:\\/\\/)?(www\\.)?/, '');\n        domain = domain.split('@').pop()          // Handle authentication\n                     .split(':')[0]               // Remove port\n                     .split(/[/?#]/)[0];          // Remove path and params\n        \n        // Basic validation\n        if (domain && domain.includes('.') && domain.length > 2) {\n              structured_object.page_visited_domain = domain.toLowerCase();\n        }\n    }\n}\nreturn {structured_object};"},"id":"d9939802-1904-46c5-af35-eff0dd9d182f","name":"Summarizing Technical Data","type":"n8n-nodes-base.code","typeVersion":2,"position":[5520,700]},{"parameters":{"select":"channel","channelId":{"__rl":true,"value":"C07LFJN5BBL","mode":"list","cachedResultName":"isp-website-visitors"},"messageType":"block","blocksUi":"={\n  \"blocks\":[\n    {\n\t\t\t\"type\": \"header\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\"text\": \"New{{$json.company_info.icp_score.total_score_string_emoji ?  \" \" +$json.company_info.icp_score.total_score_string_emoji + \" \" : \" \"}}Prospect\",\n\t\t\t\t\"emoji\": false\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*<{{$json.user_info.social_urls.linked_in ? $json.user_info.social_urls.linked_in : 'https://www.linkedin.com/'}} | {{$json.user_info.first_name ? $json.user_info.first_name : ''  }} {{ $json.user_info.last_name ? $json.user_info.last_name : ''}}, {{ $json.user_info.role ? $json.user_info.role : ''}} at {{ $json.company_info.name ? $json.company_info.name : ''}}>*\"\n\t\t\t}\n\t\t},\n {\n\t\t\t\"type\": \"divider\"\n\t\t},\n      \n              {\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*Summary:* \\n {{$json.user_info.report ? $json.user_info.report.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Found'}} \\n *Name:* {{$json.user_info.first_name && $json.user_info.last_name ? $json.user_info.first_name.trim() + \" \" + $json.user_info.last_name.trim() : ''}} \\n *Job Title:* {{$json.user_info.role ? $json.user_info.role.trim() : 'Not Found'}} \\n *Company:* {{$json.company_info.name ? $json.company_info.name.trim() : 'Not Found'}} \\n *Email:* {{$json.user_info.primary_email ? $json.user_info.primary_email.trim() : 'Not Found'}} \\n *LinkedIn:* {{$json.user_info.social_urls.linked_in ? $json.user_info.social_urls.linked_in.trim() : 'Not Found'}} \\n *Phone:* {{$json.user_info.phone_number ? $json.user_info.phone_number : 'Not Found'}} \\n *Page Visited: *{{$json.technical_data.page_visited_url ? $json.technical_data.page_visited_url.trim() : 'Not Found'}} \\n *Topic of Page:* {{$json.technical_data.page_visited_topic ? $json.technical_data.page_visited_topic.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Found'}}\"\n\t\t\t},\n\t\t\t\"accessory\": {\n\t\t\t\t\"type\": \"image\",\n\t\t\t\t\"image_url\": \"{{$json.user_info.profile_pick ? $json.user_info.profile_pick.trim() : $json.company_info.logo ? $json.company_info.logo :'https://www.google.com/'}}\",\n\t\t\t\t\"alt_text\": \"{{$json.user_info.first_name ? $json.user_info.first_name.trim() : ''}} {{$json.user_info.last_name ? $json.user_info.last_name.trim() : ''}}\"\n\t\t\t}\n\t\t},\n{\n\t\t\t\"type\": \"actions\",\n\t\t\t\"elements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"button\",\n\t\t\t\t\t\"text\": {\n\t\t\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\t\t\"text\": \":linkedinlogo: View LinkedIn\",\n\t\t\t\t\t\t\"emoji\": true\n\t\t\t\t\t},\n\t\t\t\t\t\"value\": \"linkedin_profile\",\n\t\t\t\t\t\"url\": \"{{$json.user_info.social_urls.linked_in ? $json.user_info.social_urls.linked_in : 'https://www.linkedin.com/'}}\",\n\t\t\t\t\t\"action_id\": \"actionId-01\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n{\n\t\t\t\"type\": \"divider\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"header\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\"text\": \"About {{$json.company_info.name ? $json.company_info.name.trim() : 'Company'}}\",\n\t\t\t\t\"emoji\": true\n\t\t\t}\n\t\t},\n\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*Summary:*\\n {{$json.company_info.report ? $json.company_info.report.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Generated'}} \\n *Company Name:* {{$json.company_info.name ? $json.company_info.name.trim() : 'Not Found'}} \\n *Location:* {{$json.company_info.location.city ? $json.company_info.location.city.trim() : ''}}{{$json.company_info.location.state ? \", \" + $json.company_info.location.state.trim() : ''}} \\n *Website:* {{$json.company_info.domain ? $json.company_info.domain.trim() : 'Not Found'}} \\n *Industry:* {{$json.company_info.industry ? $json.company_info.industry : 'Not Found'}} \\n *Specialization:* {{$json.company_info.specialities['0'] ? $json.company_info.specialities['0'].trim() : 'Not Found'}} \\n *Size*: {{$json.company_info.size ? $json.company_info.size.trim() : 'Not Found'}} \\n *Frameworks:* {{$json.company_info.framework_review.confirmed_frameworks && $json.company_info.framework_review.confirmed_frameworks.length > 0  ? $json.company_info.framework_review.confirmed_frameworks : 'None Confirmed'}} \\n *Auditor:* {{$json.company_info.framework_review.confirmed_auditors ? $json.company_info.framework_review.confirmed_auditors.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Found'}} \\n *GRC Platform:*  {{$json.company_info.framework_review.confirmed_grc_platforms ? $json.company_info.framework_review.confirmed_grc_platforms.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Found'}}\"\n\t\t\t}\n\t\t},\n {\n\t\t\t\"type\": \"actions\",\n\t\t\t\"elements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"button\",\n\t\t\t\t\t\"text\": {\n\t\t\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\t\t\"text\": \":click-hand: Visit Website\",\n\t\t\t\t\t\t\"emoji\": true\n\t\t\t\t\t},\n\t\t\t\t\t\"value\": \"visit_website\",\n\t\t\t\t\t\"url\": \"https://{{$json.company_info.domain ? $json.company_info.domain.trim() : 'google.com'}}\",\n\t\t\t\t\t\"action_id\": \"actionId-0\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"divider\"\n\t\t},\n\t{\n\t\t\t\"type\": \"header\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\"text\": \"Scoring Summary\",\n\t\t\t\t\"emoji\": true\n\t\t\t}\n\t\t},\n{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*Summary:*\\n{{$json.company_info.icp_score.summary.summary ? $json.company_info.icp_score.summary.summary.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : ''}}\"\n\t\t\t}\n\t\t},\n{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*Prospect Criteria Scores:*\"\n\t\t\t}\n\t\t},\n       {\n\t\t\t\"type\": \"rich_text\",\n\t\t\t\"elements\": [\n\t\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"rich_text_list\",\n\t\t\t\t\t\"style\": \"bullet\",\n\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Job Title Score:{{$json.company_info.icp_score.summary.job_title_summary ? $json.company_info.icp_score.summary.job_title_summary : 'Not Found'}}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Industry Score:{{ $json.company_info.icp_score.summary.industry_summary ? $json.company_info.icp_score.summary.industry_summary : 'Not Found' }} \"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Location Score:{{ $json.company_info.icp_score.summary.location_summary ? $json.company_info.icp_score.summary.location_summary : 'Not Found' }} \"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Company Size: {{ $json.company_info.icp_score.summary.company_size_summary ? $json.company_info.icp_score.summary.company_size_summary : 'Not Found' }}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Frameworks: {{ $json.company_info.icp_score.summary.frameworks_summary ?  $json.company_info.icp_score.summary.frameworks_summary : 'Not Found' }}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Intent: {{ $json.company_info.icp_score.summary.intent_summary ? $json.company_info.icp_score.summary.intent_summary : 'Not Found'}}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n       \n  ]\n}\n\n\n","otherOptions":{"includeLinkToWorkflow":false,"botProfile":{"imageValues":{"profilePhotoType":"image","icon_url":"static.licdn.com/aero-v1/sc/h/1c5u578iilxfi4m4dvc4q810q"}},"mrkdwn":true,"unfurl_links":false,"unfurl_media":false}},"id":"4d661219-fa43-4412-96d8-d88b9d003543","name":"Sending out slack notification","type":"n8n-nodes-base.slack","typeVersion":2.2,"position":[31380,1160],"webhookId":"df135d4b-890c-4a55-8cc7-d50982f67b47","retryOnFail":true,"waitBetweenTries":2000,"maxTries":4,"notesInFlow":true,"credentials":{"slackApi":{"id":"mh1ccfWQbWyrWV03","name":"searchaction.com -N8N"}}},{"parameters":{"toolDescription":"Find missing email using Leadmagic","method":"POST","url":"https://api.leadmagic.io/email-finder","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"first_name"},{"name":"last_name"},{"name":"domain"},{"name":"company_name"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[-100,840],"id":"7b2f160e-8720-4809-bbc6-2008e05ee12e","name":"Lead magic Email Finder","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}}},{"parameters":{"toolDescription":"Finding missing email using Findymail ","method":"POST","url":"https://app.findymail.com/api/search/name","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"name"},{"name":"domain"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[40,840],"id":"2acc77be-9444-4967-88ca-8148482466f5","name":"Findymail Email Finder 1","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"NGAAmruIOet9fCiY","name":"searchactions.com Findymail"}}},{"parameters":{"toolDescription":"Finding missing email using Findymail with LinkedIN Profile URL","method":"POST","url":"https://app.findymail.com/api/search/linkedin","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"linkedin_url"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[200,840],"id":"594a56d8-2625-4dbc-9a45-b2d24d9683f5","name":"Findymail Email Finder 2","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"NGAAmruIOet9fCiY","name":"searchactions.com Findymail"}}},{"parameters":{"toolDescription":"Find missing email using Prospeo with Company's domain,website or Company name.","method":"POST","url":"https://api.prospeo.io/email-finder","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"parametersHeaders":{"values":[{"name":"Content-Type","valueProvider":"fieldValue","value":"application/json"}]},"sendBody":true,"parametersBody":{"values":[{"name":"company"},{"name":"first_name","valueProvider":"modelOptional"},{"name":"last_name","valueProvider":"modelOptional"}]},"placeholderDefinitions":{"values":[{"name":"company","description":"The company domain, website, or name. Using a domain or website is recommended for better accuracy."}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[500,840],"id":"858cdb49-12a7-4592-b2c6-0300b6a462b7","name":"Prospeo Email Finder","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"sKQF5cdfDTi5Dovq","name":"searchactions.com Prospeo"}}},{"parameters":{"toolDescription":"Validate Contact email using LeadMagic ","method":"POST","url":"https://api.leadmagic.io/email-validate","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"email"},{"name":"first_name"},{"name":"last_name"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[640,840],"id":"e4435c31-c9ca-483f-a589-e78908e94f82","name":"LeadMagic Email Validation","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}}},{"parameters":{"fieldToSplitOut":"output","options":{}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[680,520],"id":"179b08b9-124a-443a-a51b-2eda399ae94c","name":"Split Out"},{"parameters":{"promptType":"define","text":"=--- DATA TO USE IN THE TASKS---\n{{ JSON.stringify($json)}}\n--- TASKS --- \nTry and find primary email for the user (if it doesn't exist) using following tools\na) LeadMagic\nb) Findymail\nc) Prospeo \n\nAbove tools should be used as an waterfall effect, if LeadMagic couldn't find the email we try Findymail, if Findymail couldn't find the email we go for Prospeo etc. (IMPORTANT, use all available tools)\n\nFinal step is to validated the found email using LeadMagic validation tool.\n\nThis additional information can be found when email is found using LeadMagic:\ncompany_name\ncompany_industry\ncompany_size\ncompany_founded\ncompany_location\ncompany_linkedin_url\ncompany_facebook_url\ncompany_twitter_url\ncompany_type\n\nIf they are not found just add empty strings as the value's. \n--- RULES ---\n-Don't try and find the email if it exists (primary_email key inside \"user_info\").\n-If email exists (primary_email key inside \"user_info\") use it for your output, and don't try to find it.\n","hasOutputParser":true,"options":{"systemMessage":"As an AI agent, you are designed to optimize the analysis and understanding of users or companies visiting a website. Your functionality includes enhancing the data by integrating added insights extracted from platforms like Opensend, RB2B, and Vector. Furthermore, you are equipped to sanitize and normalize output data to maintain its integrity and consistency. By conducting thorough web research, you can identify and fill in any gaps in the data, providing a comprehensive outlook of all website visitors. Processing begins once the initial data is provided."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[220,520],"id":"aa130b9a-487f-4e26-a99b-af8cace99212","name":"Email Finder Agent","retryOnFail":true,"maxTries":5,"waitBetweenTries":2000},{"parameters":{"model":"gpt-4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-280,840],"id":"db487381-6186-477e-9fb9-f71aad1e3578","name":"OpenAI Chat Model - Email finder","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"[{\n  \"email\": \"\",\n  \"status\": \"\",\n  \"is_domain_catch_all\": \"\",\n  \"mx_record\": \"\" ,\n  \"mx_provider\":  \"\",\n  \"mx_security_gateway\": \"\" ,\n  \"company_name\": \"\",\n  \"company_industry\":\"\" ,\n  \"company_size\": \"\" ,\n  \"company_founded\":\"\" ,\n  \"company_location\":{} ,\n  \"company_linkedin_url\":\"\" ,\n  \"company_facebook_url\": \"\",\n  \"company_twitter_url\": \"\",\n  \"company_type\": \"\"\n}]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[840,840],"id":"688d27d0-c361-4ab6-aa47-70567efebbd5","name":"Email Finder Parser"},{"parameters":{"model":"gpt-4o","options":{"maxRetries":20}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[6160,920],"id":"666532a9-8139-4905-9f75-40ff0538d0ae","name":"Analyzing data Open AI Model","credentials":{"openAiApi":{"id":"4CyHGYBXbo8hGpRr","name":"searchactions.com: outeredge.biz - Website Visitor Enrichment"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-1180,880],"id":"2f49bbc8-8b05-4e19-a16b-8ce8b7e0ffa5","name":"OpenAI Chat Model - Finding Data","credentials":{"openAiApi":{"id":"4CyHGYBXbo8hGpRr","name":"searchactions.com: outeredge.biz - Website Visitor Enrichment"}}},{"parameters":{"toolDescription":"Finding missing email using Findymail if Email domain and Users role in the company are present","method":"POST","url":"https://app.findymail.com/api/search/domain","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"domain"},{"name":"roles"}]},"placeholderDefinitions":{"values":[{"name":"domain","description":"Company domain"},{"name":"roles","description":"Job Role User has"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[340,840],"id":"b9469beb-cfb1-4be7-9a8f-231bf35afcb5","name":"Findymail Email Finder 3","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"NGAAmruIOet9fCiY","name":"searchactions.com Findymail"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"function ensureHttps(url) {\n    // First remove any existing protocol\n    const urlWithoutProtocol = url.replace(/^https?:\\/\\//, '');\n    \n    // Remove query parameters if present\n    const urlWithoutQuery = urlWithoutProtocol.split('?')[0];\n    \n    // Always add https:// prefix\n    return 'https://' + urlWithoutQuery;\n}\nfunction extractDomain(url) {\n  let domain = url;\n\n  // Remove protocol (http, https, etc.) if present\n  const protocolIndex = domain.indexOf(\"://\");\n  if (protocolIndex !== -1) {\n    domain = domain.substring(protocolIndex + 3);\n  }\n\n  // Remove everything after the domain (path, query parameters, etc.)\n  const pathIndex = domain.indexOf(\"/\");\n  if (pathIndex !== -1) {\n    domain = domain.substring(0, pathIndex);\n  }\n\n  return domain;\n}\nif($json.user_info.social_urls.linked_in){\n const newUrl =   ensureHttps($json.user_info.social_urls.linked_in)\n $json.user_info.social_urls.linked_in = newUrl\n}\nif($json.company_info.social_urls.linked_in){\n  const newUrl =  ensureHttps($json.company_info.social_urls.linked_in)\n  $json.company_info.social_urls.linked_in = newUrl\n}\nif($json.technical_data.page_visited_url){\n$json.technical_data.page_visited_url = ensureHttps($json.technical_data.page_visited_url)\n}\nif($json.company_info.domain){\n  const newDomain = extractDomain($json.company_info.domain)\n  $json.company_info.domain = newDomain\n}\n\nreturn $json"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[22700,620],"id":"03b48ba1-6d65-4017-bed9-520ac084c941","name":"Data Normalization"},{"parameters":{"promptType":"define","text":"=<INFORMATION>\n- Company Name: {{ $json.company_info.name }}\n- Website: {{ $json.company_info.domain }}\n- Industry: {{ $json.company_info.industry }}\n- Specialty:  {{ $json.company_info.specialities }}\n- Description: {{ $json.company_info.report }}\n- Services/Products: {{ $json.company_info.products }}\n<TASK>\n{{ $json.company_info.name }} is a sales prospect.  We must prove that we have worked with other companies in their industry to land a huge deal with them.  Based on the information provided about the prospect, find three current customers in the same industry, or a closely related industry.\n<OUTPUT>\nRespond with the customer names in thie format:\n\"We've done the same for companies like [[CURRENT CUSTOMERS]].\"\nReplace [[CURRENT CUSTOMERS]] with three (3) current customers.  \nFor example, if the industry of the potential customer is Healthcare, your response would be \"Jorie Healthcare, DentaQuest and LogixHealth\".  This is an example, you will change the customers that best match the prospects industry and services.\n\n<RULES>\n- Do not wrap your response in quotation marks\n- You will only respond three customer names.  Do not include \"We've done the same for companies like\" in your output. This is CRITICAL.\n- If the industry is not provided for the potential customer, then try to understand what industry they are in from the additional context provided\n- If you cannot find three (3) related current customers, then include how ever many you can find.  For example, if you can only find one related current customer than respond with \"Mullen Coughlin.\" If you can only find two customers, then you will respond with two customers.  For example, \"Mullen Coughlin and Acme\".  This is just an example - the companies you choose will vary by the prospect.  \n- Consider the current customer's industry and description to help you determine if it is related to the potential company's industry.  If the industry is not an exact match, consider matching based on closely related industries or on the services each offers.\n- Do not respond with an explanation or additional context.\n- If you are unable to find current customers that match the industry of this potential customer, respond with:  \"Tommy Hilfiger (PVH), Shutterfly and Blue Cross Blue Shield.\" \n- Do not confirm you understand the task.  Your only output will be the customer names.\n- If you cannot find a customer that closely matches the industry of the prospect, then your ouput will be \"Tommy Hilfiger (PVH), Shutterfly and Blue Cross Blue Shield.\" \n- If you respond with more than one customer name, you MUST include the word \"and\" between then customer names.  For example, if you respond with two customers names, your output will be \"[[CURRENT CUSTOMER]] and [[CURRENT CUSTOMER]].\"  For example, if you respond with three customer names, your output will be \"[[CURRENT CUSTOMER]], [[CURRENT CUSTOMER]] and [[CURRENT CUSTOMER]].\"","options":{"systemMessage":"<ROLE>\nYou are an expert assistant. You will use this list of current customers and their associated industries in your task.\n\nHere's the list of current customers organized by their respective industries:\n\n## Airlines/Aviation\n- Rocketmiles - A travel rewards platform that allows users to earn miles and points from leading loyalty programs when booking hotels.\n\n## Apparel & Fashion\n- PVH - A global apparel company known for its iconic brands such as Calvin Klein, Tommy Hilfiger, and Van Heusen.\n\n## Architecture & Planning\n- Moseley Architects - A well-established architectural firm, providing comprehensive design and planning services for various projects.\n\n## Artificial Intelligence\n- Bloomreach - A leading AI-driven platform for e-commerce and content management, helping businesses personalize customer experiences.\n- Tact.ai Technologies - Develops AI-powered sales workflow automation solutions to enhance sales productivity and customer engagement.\n- Jorie Healthcare Partners - Jorie offers comprehensive RCM services, including pre-authorization, patient registration, insurance verification, charge capture, and billing, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline these processes.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n## Automotive\n- Noodoe - A provider of electric vehicle charging solutions, offering a range of charging products and services.\n- Xeal - Known for its innovative electric vehicle charging technology, focusing on smart charging solutions for various applications.\n- Moj.io - Designs, develops, and delivers connected car solutions that transform data into scalable services for partners and their customers.\n\n## Banking\n- Beacon Financial Services - Personalized financial advice and services in areas such as retirement planning, estate planning, and asset management.\n\n## Biotechnology\n- MCL Systems - A leading independent laboratory in Alabama, providing extensive laboratory services using state-of-the-art testing equipment.\n\n## BPO\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n- AnswerNet - A provider of outsourced contact center services, offering a range of solutions including customer service, sales, and technical support.\n\n## Business Intelligence, Market Research, Data Analytics\n- Datateer - A data analytics and consulting company.\n- Dynata - A company specializing in market research and data analytics solutions.\n- Epic Research - A company specializing in market research and data analytics solutions.\n- ReconMR - A company providing market research and data collection services.\n\n## Business Services/Consulting\n- American Legal Records - A leading record retrieval company specializing in obtaining all types of records nationwide.\n- 3H Corporate Services - A corporate consulting and compliance company that provides expert services in areas such as corporate compliance reviews, national regulatory research, M&A due diligence, and state department desk and field audit representation and counseling.\n\n## Chemicals\n- Flotek Industries - A global developer and distributor of advanced technology, including specialty chemicals, systems, and services for the energy and industrial markets.\n\n## Cloud Services & Hosting\n- IDrive - A cloud storage and backup services company.\n- CyberLynk Network - A technology company offering web hosting, virtual private servers, and dedicated server solutions.\n\n## Collection Services\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n\n## Commercial Real Estate\n- CoStar Group - A leading provider of commercial real estate information, analytics, and online marketplaces, serving professionals and businesses.\n\n## Computer Software\n- Bloomreach - A leading AI-driven platform for e-commerce personalization, enabling personalized marketing, product discovery, content, and conversational shopping.\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences for candidates, recruiters, employees, and managers.\n\n## Construction\n- Kimball Construction - A Baltimore-based construction company known for self-performing critical portions of its projects, including pile driving, sheeting/shoring, and structural concrete.\n- Cleaver-Brooks - A complete boiler room solutions provider, offering a range of products and services to help businesses run efficiently.\n\n## Consumer Goods\n- Favor Delivery - A food delivery service.\n- Backyard Adventures - A company specializing in outdoor play equipment.\n- Exceedra - A provider of consumer goods and retail solutions.\n\n## Consumer Services\n- Bookmed Printing - A printing services company.\n- Image Process Design - A company offering image processing and design services.\n- VMS Group - A provider of consumer services and solutions.\n\n## Cybersecurity, Computer & Network Security\n- Dynatrace - A leading provider of unified observability and security solutions, helping businesses monitor and secure their full stack on one AI-powered data platform.\n- SOC Prime - Builds collective cyber defense by fusing Detection as Code, Sigma, and MITRE ATT&CK to help teams proactively defend against emerging threats.\n\n## Data Analytics & Marketing Solutions\n- Fullthrottle.ai - Known for its AI-driven data analytics and marketing solutions.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n## Data Processing Services\n- Recordsforce - A company specializing in data processing services.\n\n## Direct Mail and Printing\n- Cardinal Presort Services - A company offering direct mail marketing and presort services.\n- Polaris Direct - A company offering direct mail marketing and printing services.\n- Direct Mail Depot - A company specializing in direct mail marketing services.\n\n## Education\n- Frontline Technologies - An education technology company.\n\n## Education Management\n- Echo360 - An education management company focusing on learning analytics.\n- Folder Wave - A company offering education management solutions.\n\n## Electrical/Electronic Manufacturing\n- Service Wire - A manufacturer of electrical wire and cable.\n- West Coast Magnetics - A company specializing in magnetic components and assemblies.\n\n## Events Services\n- Vendelux - An events services company.\n- Vario Productions - A company offering event production services.\n\n## Executive Office\n- SPS - A company providing executive office services.\n\n## Facilities Services\n- Service First Medical - A facilities services company specializing in medical facilities.\n- Command Group - A facilities services company offering a range of services.\n- United Systems of Arkansas - A facilities services company based in Arkansas.\n- TELUS Agriculture - A facilities services company focusing on agricultural solutions.\n- NEST International - A facilities services company with international operations.\n- ANRO - A facilities services company providing various services.\n- JLS Mailing Services - A facilities services company specializing in mailing services.\n\n## Financial Services Companies\n- Broadridge Financial Solutions - A global financial services company providing financial technology solutions.\n- Sun Life Financial - A global financial services company offering insurance and wealth management solutions.\n- Edenred - A financial services company specializing in payment solutions.\n- Ingo Money - A financial services company specializing in digital payment solutions.\n- FullThrottle Technologies - A financial services company providing financial technology solutions.\n\n## Food & Beverages\n- Waltz Health - A company specializing in health-related food and beverage solutions.\n\n## Furniture\n- Stylex - A furniture manufacturing company known for its office furniture and seating solutions.\n\n## Gambling & Casinos\n- Sports Innovation Lab - A company specializing in sports technology and innovation, particularly in the gambling and casino sector.\n\n## Genetic Testing and Diagnostics\n- Fulgent Genetics - A premier, full-service genomic testing company focused on transforming patient care in oncology, infectious, and rare diseases.\n\n## Healthcare\n- Undue Medical Debt - A nonprofit that acquires and abolishes medical debts for financially burdened individuals.\n- Sentara Healthcare - A not-for-profit health system recognized for its comprehensive healthcare services.\n- Marshfield Clinic System - A well-known health system that provides a range of healthcare services and insurance products.\n\n## Healthcare Insurance and Financial Services\n- Elevance Health - A well-known health insurance company recognized for its comprehensive health coverage plans.\n- Blue Cross and Blue Shield of Mississippi - A prominent health insurance provider, part of the larger Blue Cross Blue Shield Association.\n\n## Healthcare Services and Management\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services for hospitals, health systems, and physician groups.\n- Midwestern University - Known for its comprehensive health care education and community health care services through its multispecialty clinics.\n- MyPlace Health - Provides personalized care and coverage to older adults, enabling them to age safely in their homes and communities through the PACE model.\n\n## Healthcare Staffing and Technology\n- connectRN - A revolutionary healthcare staffing platform that connects qualified nurses with temporary job opportunities, addressing staffing shortages and improving patient care.\n\n## Hospitality\n- Trinity Resort Services - A company that provides a comprehensive range of world-class services to the vacation ownership industry, including financial, reservations, and contact center services.\n\n## Human Resources\n- AmeriBen - A third-party administrator specializing in self-funded health plans and other benefits services.\n- Netchex - A comprehensive Human Capital Management (HCM) solution provider, offering services such as payroll, time and attendance, benefits administration, and performance management.\n\n## Infection Prevention and Disinfection\n- Tru-D Smart UVC - A leader in UVC disinfection technology, providing intelligent solutions for healthcare facilities to ensure a germ-free environment.\n\n## Information Technology and Services\n- XL.net - An IT services and solutions provider.\n- The Longleaf Network - A managed IT services provider, offering a range of IT solutions and support services.\n- Snappt - A company that provides AI-powered rental application screening and fraud detection services.\n- Rune Labs - A neurotechnology company focused on developing AI-powered solutions for neurological disorders.\n- Asignet - A provider of IT and telecom expense management services, helping businesses optimize their IT and telecom expenses.\n\n## Insurance\n- J.B. Lloyd & Associates - A commercial insurance agency that has been serving clients since 1978, focusing on cost-effective risk management solutions.\n- Statewide Underwriting Services - Provides personal and commercial insurance coverage solutions for insurance brokers and agents.\n- MTI America - Offers workers' compensation ancillary healthcare solutions, including transportation, language services, physical medicine, home & catastrophic care, and durable medical equipment.\n- IDEAL3 - Provides strategic and effective claim services with empathy and respect, offering customized solutions for unique claims needs.\n- Alexander & Schmidt - Helps insurance industry partners maximize underwriting profitability by achieving lower loss ratios.\n\n## Internet\n- USSI Global - A leading provider of network, broadcast, and digital signage services, offering customized solutions for internet providers and broadcasters.\n\n## Investment Management\n- Brooklyn Investment Group - A white-label managed accounts platform for financial advisors and asset managers, offering custom direct indexing across equities and fixed income.\n- Charter Group Fund Administration - Provides fund administration services for established boutiques, hedge funds, managed accounts, new launches, and crypto funds, offering a cutting-edge platform and quality client service.\n\n## Legal Services\n- Questel - Offers a full complement of legal operations services, including ELM data integration, legal support services, legal interpretation services, and legal translation services.\n- Segal McCambridge Singer & Mahoney - A law firm providing creative advice and battle-tested trial experience for companies facing high-stakes litigation and business challenges.\n- ILYM Group - Provides consultative expertise, professionalism, and experience in class action administration, legal notification, and media representation.\n- doeLEGAL - Offers legal operations software solutions for ELM and eDiscovery, leveraging innovative LegalTech to optimize team efficiency and cost savings.\n- Mood K Law - A premier defense firm known for its creative, aggressive, and effective defense strategies, coupled with unparalleled client service.\n\n## Leisure, Travel & Tourism\n- Hershey Entertainment & Resorts - A well-known entertainment and resort company recognized for its comprehensive leisure and tourism services.\n\n## Logistics and Supply Chain\n- APL Maritime - A global shipping and logistics company with a significant presence in container shipping services and intermodal transportation networks.\n- Bamboo Rose - Specializing in product lifecycle management (PLM) and supply chain technology solutions for retailers.\n- Expedock - A company providing AI-powered logistics and freight management solutions.\n- Lefturn - A logistics and supply chain management company.\n- B2Gnow - Offering supplier diversity and grant management compliance software solutions.\n- Cash Connect - A company specializing in cash management and logistics solutions.\n\n## Management Consulting\n- AGM Consulting - An information technology services company providing consulting services in virtualized solutions, private and public cloud computing, data management, business continuity, disaster recovery, and complex infrastructure designs.\n- Vision Link Advisors - A compensation design firm helping mid-market companies create and sustain pay strategies that drive business growth.\n- Gr8 People - A company offering human resources and recruitment consulting services.\n- MDaudit - A company specializing in billing compliance and revenue cycle management software for healthcare providers.\n- AB Data - A company providing data management and consulting services.\n- Apex Software Technologies - A company offering software development and consulting services.\n- Paymedia - A company specializing in payment solutions and financial technology.\n- Breakaway Technologies - A company providing technology consulting and solutions.\n\n## Manufacturing\n- Innovative Solutions and Support - A company designing and manufacturing state-of-the-art avionics technology, including solid-state instruments and flat-panel displays for various aircraft.\n\n## Mechanical or Industrial Engineering\n- FleetWatcher - A fleet management telematics system designed for construction equipment.\n- M&S Engineering - A full-service engineering firm offering electrical, civil, MEP, survey, and SUE services.\n- Resonac - A chemical company that develops and provides individualized products for various fields.\n\n## Medical Devices\n- Trividia Health - A leading developer, manufacturer, and marketer of advanced performance products for people living with diabetes.\n- LifeSigns - Offers a wireless multi-patient digital monitoring system that bridges healthcare gaps.\n- ImplantBase - Helps medical device companies eliminate operational blind spots by digitally transforming their performance.\n\n## Oil & Energy\n- CMC Energy Services - A leading provider of program management, customer engagement, field services, call center support, and engineering for utility customer segments, focusing on energy efficiency and clean energy solutions.\n- EnergyNet.com - A platform for buying and selling oil and gas properties.\n\n## Pharmaceuticals\n- CaptureRx - Provides 340B third-party administrative services, helping safety net providers and pharmacies achieve their objectives through leading 340B solutions.\n\n## Printing\n- Presort First Class - A premier OKC printing company offering top-quality printing and friendly customer service, providing a complete array of design, print, and mail services.\n\n## RCM\n- Jorie Healthcare Partners - Offers comprehensive RCM services, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline processes.\n- HealthWare Systems - Offers fully integrated, customizable workflow solutions, revenue cycle management, and patient management software.\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services.\n- MDaudit - Specializes in billing compliance and revenue cycle management software.\n\n## Real Estate\n- Woodbury Capital - A real estate investment and management company.\n- CW Financial Services - A commercial real estate services company offering a range of financial solutions.\n- Entera Holdings - A real estate technology company providing a platform for single-family residential investments.\n- LiquidSpace - A company offering flexible office space solutions.\n- HqO - A real estate technology company providing a platform for office building management and tenant engagement.\n- Hekemian & Co - A real estate development and management company.\n- Harding And Carbone - A property tax consulting firm offering services for commercial and residential properties.\n\n## Real Estate - Property Management\n- Property Works - A real estate services company specializing in property management and maintenance.\n- Quarem - A real estate services company specializing in property management and leasing.\n\n## Real Estate - Software and Technology\n- Cherre - A real estate data management and intelligence platform.\n\n## Real Estate - Title Insurance and Escrow\n- Timios - A real estate services company specializing in title insurance and escrow services.\n\n## Retail\n- Shutterfly - An online retailer specializing in personalized photo products and services.\n- Logile - A retail technology company providing workforce management and scheduling solutions.\n\n## Robotics\n- Locus Robotics - Known for its autonomous mobile robots designed for warehouse and logistics applications.\n- Jorie Healthcare Partners - Offers services leveraging advanced technologies such as AI and Robotic Process Automation (RPA).\n\n## Software Development\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences.\n- Big Brass Band - A technology company specializing in software development and consulting.\n- Beneration - A technology company specializing in software development and consulting.\n\n## Sporting Goods\n- Alveo - A company specializing in sporting goods and equipment.\n\n## Technology\n- Clearview Live - A technology company offering live streaming and video conferencing solutions.\n- Anduin Transact - A technology company providing financial transaction and payment solutions.\n- Big Brass Band - Specializing in software development and consulting.\n- Beneration - Specializing in software development and consulting.\n\n## Telecommunications\n- Altafiber - A fiber-optic telecommunications company.\n- Agile Networks - A telecommunications company providing network infrastructure solutions.\n- Synchronoss Technologies - A telecommunications company offering cloud, messaging, and digital transformation solutions.\n- Call 4 Health - A telecommunications company specializing in healthcare communication solutions.\n- Mobivate - A telecommunications company providing mobile marketing and communication solutions.\n- Halo Communications - A telecommunications company offering communication and collaboration solutions.\n- Comm100 Network Corporation - A telecommunications company providing customer service and communication solutions.\n\n## Telehealth and Digital Health\n- Teladoc Health - A leading provider of telehealth services.\n- PlushCare - Offers telehealth services, providing online access to healthcare professionals for various medical needs.\n\n## Transportation/Trucking/Railroad\n- Enstructure - A company specializing in transportation and logistics services.\n\n## Utilities\n- Essential Utilities - A utilities company providing water and wastewater services.\n- Aqua America - A utilities company offering water and wastewater services.\n- Asplundh Tree Expert - A utilities company specializing in tree care and vegetation management services.\n- Davis H. Elliot Company - A utilities company providing electrical construction and maintenance services.\n\n## Wholesale\n- MTA Distributors - A wholesale distributor of various products."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[28560,620],"id":"507e67fb-00bc-4dd3-8590-7b31de0fc7c7","name":" Related Customers (Names)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":"gpt-4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[28460,820],"id":"28066e19-ad84-4dd9-b945-7ab8cdff50ec","name":" Related Customers (Names) Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"model":"gpt-4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[27900,840],"id":"b7154ac1-38d0-426a-bb37-6977d0405d15","name":" Related Customers (Name) Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"promptType":"define","text":"=<INFORMATION>\n- Company Name: {{ $json.company_info.name }}\n- Website: {{ $json.company_info.domain }}\n- Industry: {{ $json.company_info.industry }}\n- Specialty: {{ $json.company_info.specialities }}\n- Description: {{ $json.company_info.report }}\n- Services/Products: {{ $json.company_info.products }}\n<TASK>\n{{ $json.company_info.name }} is a sales prospect.  We must prove that we have worked with other companies in their industry to land a huge deal with them.  Based on the information provided about the prospect, find one current customer in the same industry, or a closely related industry.\n<OUTPUT>\nRespond with only the customer name. It will be placed into the following sentence: \n\"We recently helped [[CURRENT CUSTOMER]] cut compliance costs by 30%.\"\nReplace [[CURRENT CUSTOMER]] with one (1) current customer that is in the same industry.  \nFor example, if the industry of the potential customer is Healthcare, your response would be \"Jorie Healthcare\". \n\n<RULES>\n- Do not wrap your response in quotation marks\n- If the industry is not provided for the potential customer, then try to understand what industry they are in from the additional context provided\n- Consider the current customer's industry and description to help you determine if it is related to the potential company's industry.  If the industry is not an exact match, consider matching based on closely related industries or on the services each offers.\n- Do not respond with an explanation or additional context.\n- If you are unable to find a current customer that matches the industry of this potential customer, respond with:  Tommy Hilfiger (PVH) and Shutterfly","options":{"systemMessage":"<ROLE>\nYou are an expert assistant. You will use this list of current customers and their associated industries in your task.\n\nHere's the list of current customers organized by their respective industries:\n\n## Airlines/Aviation\n- Rocketmiles - A travel rewards platform that allows users to earn miles and points from leading loyalty programs when booking hotels.\n\n## Apparel & Fashion\n- PVH - A global apparel company known for its iconic brands such as Calvin Klein, Tommy Hilfiger, and Van Heusen.\n\n## Architecture & Planning\n- Moseley Architects - A well-established architectural firm, providing comprehensive design and planning services for various projects.\n\n## Artificial Intelligence\n- Bloomreach - A leading AI-driven platform for e-commerce and content management, helping businesses personalize customer experiences.\n- Tact.ai Technologies - Develops AI-powered sales workflow automation solutions to enhance sales productivity and customer engagement.\n- Jorie Healthcare Partners - Jorie offers comprehensive RCM services, including pre-authorization, patient registration, insurance verification, charge capture, and billing, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline these processes.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n## Automotive\n- Noodoe - A provider of electric vehicle charging solutions, offering a range of charging products and services.\n- Xeal - Known for its innovative electric vehicle charging technology, focusing on smart charging solutions for various applications.\n- Moj.io - Designs, develops, and delivers connected car solutions that transform data into scalable services for partners and their customers.\n\n## Banking\n- Beacon Financial Services - Personalized financial advice and services in areas such as retirement planning, estate planning, and asset management.\n\n## Biotechnology\n- MCL Systems - A leading independent laboratory in Alabama, providing extensive laboratory services using state-of-the-art testing equipment.\n\n## BPO\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n- AnswerNet - A provider of outsourced contact center services, offering a range of solutions including customer service, sales, and technical support.\n\n## Business Intelligence, Market Research, Data Analytics\n- Datateer - A data analytics and consulting company.\n- Dynata - A company specializing in market research and data analytics solutions.\n- Epic Research - A company specializing in market research and data analytics solutions.\n- ReconMR - A company providing market research and data collection services.\n\n## Business Services/Consulting\n- American Legal Records - A leading record retrieval company specializing in obtaining all types of records nationwide.\n- 3H Corporate Services - A corporate consulting and compliance company that provides expert services in areas such as corporate compliance reviews, national regulatory research, M&A due diligence, and state department desk and field audit representation and counseling.\n\n## Chemicals\n- Flotek Industries - A global developer and distributor of advanced technology, including specialty chemicals, systems, and services for the energy and industrial markets.\n\n## Cloud Services & Hosting\n- IDrive - A cloud storage and backup services company.\n- CyberLynk Network - A technology company offering web hosting, virtual private servers, and dedicated server solutions.\n\n## Collection Services\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n\n## Commercial Real Estate\n- CoStar Group - A leading provider of commercial real estate information, analytics, and online marketplaces, serving professionals and businesses.\n\n## Computer Software\n- Bloomreach - A leading AI-driven platform for e-commerce personalization, enabling personalized marketing, product discovery, content, and conversational shopping.\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences for candidates, recruiters, employees, and managers.\n\n## Construction\n- Kimball Construction - A Baltimore-based construction company known for self-performing critical portions of its projects, including pile driving, sheeting/shoring, and structural concrete.\n- Cleaver-Brooks - A complete boiler room solutions provider, offering a range of products and services to help businesses run efficiently.\n\n## Consumer Goods\n- Favor Delivery - A food delivery service.\n- Backyard Adventures - A company specializing in outdoor play equipment.\n- Exceedra - A provider of consumer goods and retail solutions.\n\n## Consumer Services\n- Bookmed Printing - A printing services company.\n- Image Process Design - A company offering image processing and design services.\n- VMS Group - A provider of consumer services and solutions.\n\n## Cybersecurity, Computer & Network Security\n- Dynatrace - A leading provider of unified observability and security solutions, helping businesses monitor and secure their full stack on one AI-powered data platform.\n- SOC Prime - Builds collective cyber defense by fusing Detection as Code, Sigma, and MITRE ATT&CK to help teams proactively defend against emerging threats.\n\n## Data Analytics & Marketing Solutions\n- Fullthrottle.ai - Known for its AI-driven data analytics and marketing solutions.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n## Data Processing Services\n- Recordsforce - A company specializing in data processing services.\n\n## Direct Mail and Printing\n- Cardinal Presort Services - A company offering direct mail marketing and presort services.\n- Polaris Direct - A company offering direct mail marketing and printing services.\n- Direct Mail Depot - A company specializing in direct mail marketing services.\n\n## Education\n- Frontline Technologies - An education technology company.\n\n## Education Management\n- Echo360 - An education management company focusing on learning analytics.\n- Folder Wave - A company offering education management solutions.\n\n## Electrical/Electronic Manufacturing\n- Service Wire - A manufacturer of electrical wire and cable.\n- West Coast Magnetics - A company specializing in magnetic components and assemblies.\n\n## Events Services\n- Vendelux - An events services company.\n- Vario Productions - A company offering event production services.\n\n## Executive Office\n- SPS - A company providing executive office services.\n\n## Facilities Services\n- Service First Medical - A facilities services company specializing in medical facilities.\n- Command Group - A facilities services company offering a range of services.\n- United Systems of Arkansas - A facilities services company based in Arkansas.\n- TELUS Agriculture - A facilities services company focusing on agricultural solutions.\n- NEST International - A facilities services company with international operations.\n- ANRO - A facilities services company providing various services.\n- JLS Mailing Services - A facilities services company specializing in mailing services.\n\n## Financial Services Companies\n- Broadridge Financial Solutions - A global financial services company providing financial technology solutions.\n- Sun Life Financial - A global financial services company offering insurance and wealth management solutions.\n- Edenred - A financial services company specializing in payment solutions.\n- Ingo Money - A financial services company specializing in digital payment solutions.\n- FullThrottle Technologies - A financial services company providing financial technology solutions.\n\n## Food & Beverages\n- Waltz Health - A company specializing in health-related food and beverage solutions.\n\n## Furniture\n- Stylex - A furniture manufacturing company known for its office furniture and seating solutions.\n\n## Gambling & Casinos\n- Sports Innovation Lab - A company specializing in sports technology and innovation, particularly in the gambling and casino sector.\n\n## Genetic Testing and Diagnostics\n- Fulgent Genetics - A premier, full-service genomic testing company focused on transforming patient care in oncology, infectious, and rare diseases.\n\n## Healthcare\n- Undue Medical Debt - A nonprofit that acquires and abolishes medical debts for financially burdened individuals.\n- Sentara Healthcare - A not-for-profit health system recognized for its comprehensive healthcare services.\n- Marshfield Clinic System - A well-known health system that provides a range of healthcare services and insurance products.\n\n## Healthcare Insurance and Financial Services\n- Elevance Health - A well-known health insurance company recognized for its comprehensive health coverage plans.\n- Blue Cross and Blue Shield of Mississippi - A prominent health insurance provider, part of the larger Blue Cross Blue Shield Association.\n\n## Healthcare Services and Management\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services for hospitals, health systems, and physician groups.\n- Midwestern University - Known for its comprehensive health care education and community health care services through its multispecialty clinics.\n- MyPlace Health - Provides personalized care and coverage to older adults, enabling them to age safely in their homes and communities through the PACE model.\n\n## Healthcare Staffing and Technology\n- connectRN - A revolutionary healthcare staffing platform that connects qualified nurses with temporary job opportunities, addressing staffing shortages and improving patient care.\n\n## Hospitality\n- Trinity Resort Services - A company that provides a comprehensive range of world-class services to the vacation ownership industry, including financial, reservations, and contact center services.\n\n## Human Resources\n- AmeriBen - A third-party administrator specializing in self-funded health plans and other benefits services.\n- Netchex - A comprehensive Human Capital Management (HCM) solution provider, offering services such as payroll, time and attendance, benefits administration, and performance management.\n\n## Infection Prevention and Disinfection\n- Tru-D Smart UVC - A leader in UVC disinfection technology, providing intelligent solutions for healthcare facilities to ensure a germ-free environment.\n\n## Information Technology and Services\n- XL.net - An IT services and solutions provider.\n- The Longleaf Network - A managed IT services provider, offering a range of IT solutions and support services.\n- Snappt - A company that provides AI-powered rental application screening and fraud detection services.\n- Rune Labs - A neurotechnology company focused on developing AI-powered solutions for neurological disorders.\n- Asignet - A provider of IT and telecom expense management services, helping businesses optimize their IT and telecom expenses.\n\n## Insurance\n- J.B. Lloyd & Associates - A commercial insurance agency that has been serving clients since 1978, focusing on cost-effective risk management solutions.\n- Statewide Underwriting Services - Provides personal and commercial insurance coverage solutions for insurance brokers and agents.\n- MTI America - Offers workers' compensation ancillary healthcare solutions, including transportation, language services, physical medicine, home & catastrophic care, and durable medical equipment.\n- IDEAL3 - Provides strategic and effective claim services with empathy and respect, offering customized solutions for unique claims needs.\n- Alexander & Schmidt - Helps insurance industry partners maximize underwriting profitability by achieving lower loss ratios.\n\n## Internet\n- USSI Global - A leading provider of network, broadcast, and digital signage services, offering customized solutions for internet providers and broadcasters.\n\n## Investment Management\n- Brooklyn Investment Group - A white-label managed accounts platform for financial advisors and asset managers, offering custom direct indexing across equities and fixed income.\n- Charter Group Fund Administration - Provides fund administration services for established boutiques, hedge funds, managed accounts, new launches, and crypto funds, offering a cutting-edge platform and quality client service.\n\n## Legal Services\n- Questel - Offers a full complement of legal operations services, including ELM data integration, legal support services, legal interpretation services, and legal translation services.\n- Segal McCambridge Singer & Mahoney - A law firm providing creative advice and battle-tested trial experience for companies facing high-stakes litigation and business challenges.\n- ILYM Group - Provides consultative expertise, professionalism, and experience in class action administration, legal notification, and media representation.\n- doeLEGAL - Offers legal operations software solutions for ELM and eDiscovery, leveraging innovative LegalTech to optimize team efficiency and cost savings.\n- Mood K Law - A premier defense firm known for its creative, aggressive, and effective defense strategies, coupled with unparalleled client service.\n\n## Leisure, Travel & Tourism\n- Hershey Entertainment & Resorts - A well-known entertainment and resort company recognized for its comprehensive leisure and tourism services.\n\n## Logistics and Supply Chain\n- APL Maritime - A global shipping and logistics company with a significant presence in container shipping services and intermodal transportation networks.\n- Bamboo Rose - Specializing in product lifecycle management (PLM) and supply chain technology solutions for retailers.\n- Expedock - A company providing AI-powered logistics and freight management solutions.\n- Lefturn - A logistics and supply chain management company.\n- B2Gnow - Offering supplier diversity and grant management compliance software solutions.\n- Cash Connect - A company specializing in cash management and logistics solutions.\n\n## Management Consulting\n- AGM Consulting - An information technology services company providing consulting services in virtualized solutions, private and public cloud computing, data management, business continuity, disaster recovery, and complex infrastructure designs.\n- Vision Link Advisors - A compensation design firm helping mid-market companies create and sustain pay strategies that drive business growth.\n- Gr8 People - A company offering human resources and recruitment consulting services.\n- MDaudit - A company specializing in billing compliance and revenue cycle management software for healthcare providers.\n- AB Data - A company providing data management and consulting services.\n- Apex Software Technologies - A company offering software development and consulting services.\n- Paymedia - A company specializing in payment solutions and financial technology.\n- Breakaway Technologies - A company providing technology consulting and solutions.\n\n## Manufacturing\n- Innovative Solutions and Support - A company designing and manufacturing state-of-the-art avionics technology, including solid-state instruments and flat-panel displays for various aircraft.\n\n## Mechanical or Industrial Engineering\n- FleetWatcher - A fleet management telematics system designed for construction equipment.\n- M&S Engineering - A full-service engineering firm offering electrical, civil, MEP, survey, and SUE services.\n- Resonac - A chemical company that develops and provides individualized products for various fields.\n\n## Medical Devices\n- Trividia Health - A leading developer, manufacturer, and marketer of advanced performance products for people living with diabetes.\n- LifeSigns - Offers a wireless multi-patient digital monitoring system that bridges healthcare gaps.\n- ImplantBase - Helps medical device companies eliminate operational blind spots by digitally transforming their performance.\n\n## Oil & Energy\n- CMC Energy Services - A leading provider of program management, customer engagement, field services, call center support, and engineering for utility customer segments, focusing on energy efficiency and clean energy solutions.\n- EnergyNet.com - A platform for buying and selling oil and gas properties.\n\n## Pharmaceuticals\n- CaptureRx - Provides 340B third-party administrative services, helping safety net providers and pharmacies achieve their objectives through leading 340B solutions.\n\n## Printing\n- Presort First Class - A premier OKC printing company offering top-quality printing and friendly customer service, providing a complete array of design, print, and mail services.\n\n## RCM\n- Jorie Healthcare Partners - Offers comprehensive RCM services, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline processes.\n- HealthWare Systems - Offers fully integrated, customizable workflow solutions, revenue cycle management, and patient management software.\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services.\n- MDaudit - Specializes in billing compliance and revenue cycle management software.\n\n## Real Estate\n- Woodbury Capital - A real estate investment and management company.\n- CW Financial Services - A commercial real estate services company offering a range of financial solutions.\n- Entera Holdings - A real estate technology company providing a platform for single-family residential investments.\n- LiquidSpace - A company offering flexible office space solutions.\n- HqO - A real estate technology company providing a platform for office building management and tenant engagement.\n- Hekemian & Co - A real estate development and management company.\n- Harding And Carbone - A property tax consulting firm offering services for commercial and residential properties.\n\n## Real Estate - Property Management\n- Property Works - A real estate services company specializing in property management and maintenance.\n- Quarem - A real estate services company specializing in property management and leasing.\n\n## Real Estate - Software and Technology\n- Cherre - A real estate data management and intelligence platform.\n\n## Real Estate - Title Insurance and Escrow\n- Timios - A real estate services company specializing in title insurance and escrow services.\n\n## Retail\n- Shutterfly - An online retailer specializing in personalized photo products and services.\n- Logile - A retail technology company providing workforce management and scheduling solutions.\n\n## Robotics\n- Locus Robotics - Known for its autonomous mobile robots designed for warehouse and logistics applications.\n- Jorie Healthcare Partners - Offers services leveraging advanced technologies such as AI and Robotic Process Automation (RPA).\n\n## Software Development\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences.\n- Big Brass Band - A technology company specializing in software development and consulting.\n- Beneration - A technology company specializing in software development and consulting.\n\n## Sporting Goods\n- Alveo - A company specializing in sporting goods and equipment.\n\n## Technology\n- Clearview Live - A technology company offering live streaming and video conferencing solutions.\n- Anduin Transact - A technology company providing financial transaction and payment solutions.\n- Big Brass Band - Specializing in software development and consulting.\n- Beneration - Specializing in software development and consulting.\n\n## Telecommunications\n- Altafiber - A fiber-optic telecommunications company.\n- Agile Networks - A telecommunications company providing network infrastructure solutions.\n- Synchronoss Technologies - A telecommunications company offering cloud, messaging, and digital transformation solutions.\n- Call 4 Health - A telecommunications company specializing in healthcare communication solutions.\n- Mobivate - A telecommunications company providing mobile marketing and communication solutions.\n- Halo Communications - A telecommunications company offering communication and collaboration solutions.\n- Comm100 Network Corporation - A telecommunications company providing customer service and communication solutions.\n\n## Telehealth and Digital Health\n- Teladoc Health - A leading provider of telehealth services.\n- PlushCare - Offers telehealth services, providing online access to healthcare professionals for various medical needs.\n\n## Transportation/Trucking/Railroad\n- Enstructure - A company specializing in transportation and logistics services.\n\n## Utilities\n- Essential Utilities - A utilities company providing water and wastewater services.\n- Aqua America - A utilities company offering water and wastewater services.\n- Asplundh Tree Expert - A utilities company specializing in tree care and vegetation management services.\n- Davis H. Elliot Company - A utilities company providing electrical construction and maintenance services.\n\n## Wholesale\n- MTA Distributors - A wholesale distributor of various products."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[27940,620],"id":"d6eaca52-fd82-46c7-891c-2b2087b755ca","name":" Related Customers (Name)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"promptType":"define","text":"=# YOUR TASK\nYour task is to compare frameworks held by the prospect with the frameworks of the page they visited, finding matching frameworks.\n\nHere is data to use in the task:\nFrameworks Prospect Has: {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\nFrameworks of the page they visited: {{ $json.technical_data.page_visited_framework }}\n\n# YOUR OUTPUT\nYour output should be structured like this object: \n{\n\t\"matches_frameworks_held\": \"True\", \n\t\"matched_framework\": \"SOC 2\"\n}\n\nmatches_frameworks_held = This should be True or False depending if any of the frameworks held by the prospect matches any of the frameworks held by the page.\n\nmatched_framework = This should be a list of all the frameworks that match.\n\nMake sure both the values are strings\n\n\n#ADDITIONAL RULES\n- If prospect doesn't have any frameworks, matches_frameworks_held should be False and the matched_framework should be empty string.","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[19380,640],"id":"443d1b86-daa1-4a66-898d-3cab0795e3c0","name":"Matches framework of the Page","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.1,"position":[19300,840],"id":"4052ec8f-4f50-4600-8aa8-e07ac5538159","name":"OpenAI Chat Model - Matching Frameworks","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"matches_frameworks_held\": \"True\",\n\t\"matched_framework\": \"SOC 2\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[19620,840],"id":"2afcd174-bf80-479b-b960-51fcb10ec2a4","name":"Matched Frameworks - Parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding Confirmed Frameworks (Secondary)').first().json\n\noriginal.technical_data.matches_frameworks_held = $json?.output?.matches_frameworks_held || 'Not Found'\noriginal.technical_data.matched_framework = $json?.output?.matched_framework || 'Not Found'\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[19760,640],"id":"55e2dfcd-8089-4db9-a88b-0f14817d3eb1","name":"Combining Matched Frameworks"},{"parameters":{"name":"icp_job_title","description":"Use this prompt to calculate ICP Job Title ","jsCode":"const input = query\nconst prompt = `\nJob Title Scoring Assistant\nRole\nYou are a job title scoring assistant tasked with evaluating job titles to determine their potential decision-making authority for security and compliance purchases.\n\nHere is the data for calculation:\ntitle: ${input.user_role}\ncompany size: ${input.company_size}\n\nInput Data\nTitle: A job title string (e.g., \"Chief Information Security Officer\")\nCompany Size: A string representing company size or null if unknown (e.g., \"enterprise\", \"mid-market\", \"smb\", or \"null\")\nRequired Fields\n\n{\n  \"title\": \"string\",\n  \"company_size\": \"string | null\"\n}\n\nTitle Scoring System\nWeight: 3\n\nScore 4 (High Authority):\n1. C-Level Executives:\n   - CISO, CIO, CTO\n   - Chief AI Officer\n   - Chief Risk Officer\n   - Chief Compliance Officer\n   - Chief Security Officer\n\n2. VP/Director/Head of Technical Departments:\n   - Security\n   - Compliance\n   - IT Security\n   - Risk Management\n   - Information Security\n   - Cybersecurity\n   - Data Protection\n   - AI Governance\n   - Technology Risk\n\nScore 3 (Strong Influence):\n1. Management of Technical Teams:\n   - Security Manager\n   - Compliance Manager\n   - IT Audit Manager\n   - Risk Manager\n   - AI Security Architect\n   - Security Operations Manager\n\n2. Senior Technical Roles:\n   - Senior Security Engineer\n   - Senior Compliance Analyst\n   - Senior Risk Analyst\n   - Technical Security Lead\n   - Senior IT Auditor\n\nScore 2 (Contributing Role):\n1. Technical Individual Contributors:\n   - Security Analyst\n   - Compliance Analyst\n   - Risk Analyst\n   - IT Auditor\n   - Security Engineer\n   - GRC Specialist\n   - Project Manager (with security/compliance focus)\n   - Project Management Professional (PMP)\n\n2. Implementation Roles:\n   - Security Administrator\n   - System Administrator (with security focus)\n   - Technical Support (security systems)\n\nScore 1 (Limited Influence):\n1. Leadership in Non-Technical Departments:\n   - Head/Director/VP of:\n     - Marketing\n     - Sales\n     - Public Affairs\n     - Communications\n     - HR\n     - Finance\n     - Legal\n     - Operations\n     - Business Development\n\n2. Other Roles:\n   - All other positions not listed above\n   - Unknown titles\n   - Junior positions\n   - Non-security focused roles\n\nRegex Patterns for Title Matching\nFor each category, use the following regex patterns to identify titles:\n\nC-Level Pattern: /(chief|c-level|cio|cto|ciso|cco|cro)/i\nVP/Director Pattern: /(vp|vice president|director|head) of (security|compliance|risk|it security|information security|cybersecurity|data protection|ai governance|technology risk)/i\nManager Pattern: /(manager|management) (security|compliance|risk|it audit|ai security|security operations)/i\nSenior Technical Pattern: /(senior|lead) (security engineer|compliance analyst|risk analyst|it auditor)/i\nTechnical Contributor Pattern: /(security analyst|compliance analyst|risk analyst|it auditor|security engineer|grc specialist|project manager|pmp)/i\nImplementation Pattern: /(administrator|support) (security|system)/i\nNon-Technical Leadership Pattern: /(head|director|vp) of (marketing|sales|public affairs|communications|hr|finance|legal|operations|business development)/i\n\nCompany Size Context\nWhile the base score is determined by title alone, use company size as a confidence modifier:\n\nEnterprise (1000+ employees):\n- Full confidence in C-Level and VP/Director scores\n- Slightly lower confidence for Manager roles unless explicitly security-focused\n\nMid-Market (100-999 employees):\n- Project Management roles may have more influence than in enterprises\n- Increase confidence when title includes security/compliance terms\n\nSMB (<100 employees):\n- Leadership roles at all levels have potentially higher influence\n- Reduce confidence when there's ambiguity about security focus\n\nScoring Process\nStep 1: Title Matching\n- First try exact matches against the defined categories\n- If no exact match, apply regex patterns to determine title category\n- For project management titles, assess if they include security/compliance focus\n\nStep 2: Calculate Weighted Score\n- Multiply the base score by the weight (3) to calculate the final weighted score\n\nStep 3: Determine Confidence Level\n- Start with base confidence of 0.8\n- Increase to 1.0 for exact matches to listed titles\n- Decrease for ambiguous titles or when inference is required\n- Adjust based on company size context\n\nOutput Format\n\n{\n  \"base_score\": 2, \n  \"weighted_score\": 6, \n  \"rationale\": \"Project Management Professional (PMP) is categorized as a Contributing Role with some influence but not final decision-making authority in security/compliance purchases.\",\n  \"confidence\": 0.9\n}\n\nKey Notes\n- Base Score: The score based on title authority (1-4)\n- Weighted Score: The final score after applying the weight of 3 (ranging from 3 to 12)\n- Rationale: A clear explanation of the rationale behind the score\n- Confidence: The level of certainty in the scoring decision (0.5-1.0)\n\nImportant Rules\n- Default to Score 1 for any missing or unclear information\n- For ambiguous titles, use the lowest applicable score\n- Project Management roles:\n  * With explicit security/compliance focus: Score 2\n  * Without security focus: Score 2 (Contributing Role)\n  * Project Management Professional (PMP): Score 2\n- When in doubt, score conservatively\n\nExample Scoring\n\"CISO at Enterprise Company\":\n{\n  \"base_score\": 4,\n  \"weighted_score\": 12,\n  \"rationale\": \"C-level executive (CISO) with primary security responsibility\",\n  \"confidence\": 1.0\n}\n\n\"Project Management Professional (PMP) at Mid-Market Company\":\n{\n  \"base_score\": 2,\n  \"weighted_score\": 6,\n  \"rationale\": \"Project Management Professional falls under Contributing Role category. While PMPs manage resources and teams, they typically don't have final decision-making authority for security purchases.\",\n  \"confidence\": 0.9\n}\n\n\"Marketing Manager at SMB\":\n{\n  \"base_score\": 1,\n  \"weighted_score\": 3,\n  \"rationale\": \"Non-technical role with limited influence on security decisions\",\n  \"confidence\": 0.8\n}\n`\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"user_role\": \"Business Development Representative\",\n    \"company_size\":\"50-100 employees\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[20800,860],"id":"540d47b1-7e76-46fe-afde-6e32cc5fe16a","name":"ICP Job Title"},{"parameters":{"jsonSchemaExample":"[{\n    \"company_geolocation\":{\n      \"coordinates\": {\n        \"latitude\": 40.1013,\n        \"longitude\": -75.3836\n      },\n      \"location_quality\": {\n        \"precision\": \"approximate\",\n        \"matched_location\": {\n          \"city\": \"King of Prussia\",\n          \"state\": \"Pennsylvania\",\n          \"country\": \"USA\"\n        }\n      },\n      \"confidence\": 0.9,\n      \"explanation\": \"Coordinates represent approximate center of King of Prussia township area.\"\n    },\n\t\"job_title\" :{\n      \"base_score\": 4,\n      \"weighted_score\": 12,\n      \"rationale\": \"Modern security leadership role (Cloud Security Architect) listed in emerging_tech_roles.score_4\",\n      \"confidence\": 0.9\n    },\n   \"company_size\":{\n    \"base_score\": 1,\n    \"explanation\": \"Employee count unknown, defaulting to lowest score\",\n    \"confidence\": 0.5\n   },\n   \"intent\":{\n    \"base_score\": 1,\n    \"framework_multiplier\": 0.8,\n    \"final_weighted_score\": 2.4,\n    \"rationale\": \"Educational blog post with multiple framework focus indicates research phase rather than buying intent.\",\n    \"confidence\": 0.95\n   },\n  \"framework\":\n    {\n      \"framework_scores\": {\n        \"count\": 3,\n        \"has_complementary_pair\": true,\n        \"meets_industry_requirements\": false,\n        \"meets_geographic_requirements\": false\n      },\n      \"scoring\": {\n        \"base_score\": 4,\n        \"weighted_score\": 12,\n        \"components\": {\n          \"framework_count_score\": 3,\n          \"relationship_bonus\": 0.5,\n          \"requirement_bonus\": 0\n        }\n      },\n      \"explanation\": \"Base score of 3 for three frameworks. Added 0.5 for complementary pair (SOC 2 + ISO 27001). No bonus for requirements as missing SOX/GLBA. Final base score capped at 4 before applying weight of 3.\",\n      \"confidence\": 1.0\n    },\n  \"location\":{\n      \"location_scores\": {\n        \"distance_from_philadelphia\": 3.2,\n        \"is_local\": true\n      },\n      \"scoring\": {\n        \"base_score\": 4,\n        \"weighted_score\": 8\n      },\n      \"explanation\": \"Location is 3.2 miles from Philadelphia center, well within 60-mile radius. Exact distance calculated from coordinates.\",\n      \"confidence\": 1.0\n  },\n  \"industry\":{\n      \"base_score\": 4,\n      \"matched_industry\": \"Healthcare\",\n      \"matched_category\": \"Revenue Cycle Management\",\n      \"explanation\": \"Target industry - RCM alias match\",\n      \"confidence\": 0.9\n  },\n  \"overall_score\":{\n    \"totalScore\": 15,\n    \"componentScores\": {\n      \"jobTitle\": 3,\n      \"industry\": 2,\n      \"location\": 8,\n      \"companySize\": 2,\n      \"frameworks\": 0,\n      \"intent\": 0\n      },\n     \"maxPossibleScore\": 62\n  }\n}]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[21600,860],"id":"713e33a9-9c28-4c07-a336-dae074cc72fe","name":"ICP Score - Parser"},{"parameters":{"name":"icp_company_size","description":"Use this prompt to calculate ICP Company Size Score","jsCode":"const input = query\nconst prompt = `\nCompany Size Scoring Assistant\nRole\nScore companies based on employee count using a 1-4 scale with weight of 1.\n\nInformation\nEmployee Count: ${input.company_size}\nRequired Input\n\n{\n  \"employee_count\": \"number | null\"\n}\nScoring Criteria\nThe companys employee count is categorized as follows:\n\nScore 4: 500 or more employees\nScore 3: 200 to 499 employees\nScore 2: 50 to 199 employees\nScore 1: 0 to 49 employees\nRequired Output Format\n\n{\n  \"base_score\": {\n    \"type\": \"number\",\n    \"minimum\": 1,\n    \"maximum\": 4,\n    \"description\": \"Score based on employee count\"\n  },\n  \"explanation\": {\n    \"type\": \"string\",\n    \"description\": \"Explanation of the scoring decision\"\n  },\n  \"confidence\": {\n    \"type\": \"number\",\n    \"minimum\": 0,\n    \"maximum\": 1,\n    \"description\": \"Confidence in the provided employee count data\"\n  }\n}\nScoring Rules\nScore based solely on employee count ranges defined in the scoring criteria.\nDefault to score 1 when the employee count is unknown.\nSet confidence to 1.0 for known counts and 0.5 for unknown counts.\nEnsure consistent output formatting for clarity and uniformity.\nNo additional properties are allowed in the output.\nExample Inputs and Outputs\nKnown Employee Count (e.g., 750 employees)\nInput:\n\n{\n  \"employee_count\": 750\n}\nOutput:\n\n{\n  \"base_score\": 4,\n  \"explanation\": \"Company has 750 employees, which exceeds the 500-employee threshold for the highest score.\",\n  \"confidence\": 1.0\n}\nUnknown Employee Count\nInput:\n\n{\n  \"employee_count\": null\n}\nOutput:\n\n{\n  \"base_score\": 1,\n  \"explanation\": \"Employee count is unknown, defaulting to the lowest score.\",\n  \"confidence\": 0.5\n}\n\n`\n\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"company_size\": \"20 employees\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[20960,860],"id":"7aa96f66-461f-4b47-98b4-61f6c3776bea","name":"ICP Company Size"},{"parameters":{"name":"icp_intent","description":"Use this prompt to calculate ICP Intent Score","jsCode":"const input = query\nconst prompt = `\nIntent Scoring Assistant\nRole:\nYou are an intent-scoring assistant tasked with analyzing web page visits to determine the purchasing intent of a potential customer. Each visit is assessed based on page type and framework relevance, to produce a consistent and accurate score.\n\nHere is the data for calculation:\n- Page Visited URL: ${input.page_visited_url}\n- Company Confirmed Frameworks: ${input.company_confirmed_frameworks}\n- Page Visited Summary: ${input.page_visited_summary}\n- Page Visited Frameworks: ${input.page_visited_frameworks}\n\n\nRequired Input Data:\njson\nCopy\n{\n  \"url\": \"string\",\n  \"page_type\": \"string\",\n  \"page_summary\": \"string\",\n  \"framework_focus\": \"string | null\",\n  \"company_frameworks\": \"string[] | null\"\n}\nScoring Process:\nStep 1: Base Score Calculation (0-3)\nEvaluate the page type to assign a base score (0-3). The base score represents the general level of purchasing intent based on the content of the page.\n\nScore 3 (High Intent): Pages that strongly indicate buying intent.\n\nService offering pages\nProduct pages\nPricing pages\nSales contact pages\nFramework certification services\nImplementation services\nConsultation/demo request pages\nScore 2 (Medium Intent): Pages that suggest interest, but with a focus on information or exploration.\n\nCompany pages with detailed information about offerings (e.g., compliance solutions, consulting services, etc.)\nTechnical documentation\nCase studies\nROI calculators\nCertification preparation resources\nScore 1 (Low Intent): Pages that are more informational and not directly tied to purchasing decisions.\n\nBlog posts\nNews articles\nFramework comparisons\nIndustry trends\nGeneral educational content\nAbout us pages\nScore 0 (No Intent): Pages that do not suggest any immediate purchasing interest.\n\nUnclear or irrelevant page types\nStep 2: Framework Context Multiplier (0.8-1.0)\nEvaluate the framework relevance and apply a multiplier based on the pages alignment with the companys frameworks.\n\n1.0 Multiplier (Relevant Framework Focus):\nIf the page is focused on a framework the company already uses or may need, apply a 1.0 multiplier.\n\n0.8 Multiplier (Low Relevance):\nIf the page discusses multiple frameworks, or if its a framework-agnostic page, apply a 0.8 multiplier. This lower multiplier applies when the companys frameworks arent directly relevant to the page content.\n\nStep 3: Final Score Calculation\nCombine the base score and framework multiplier to determine the final score:\n\nFinal Score = Base Score  Framework Multiplier  3\n\nThe final score is then classified into three levels of confidence: high, medium, or low, based on the overall certainty about the pages intent.\n\nOutput Schema:\njson\nCopy\n{\n  \"base_score\": \"number\",  \n  \"framework_multiplier\": \"number\",  \n  \"final_weighted_score\": \"number\",  \n  \"rationale\": \"string\",  \n  \"confidence\": \"number\"\n}\nExample Scenarios and Expected Outputs:\nHigh Intent Example:\n\nInput:\n\njson\nCopy\n{\n  \"url\": \"/soc2-certification-services\",\n  \"page_type\": \"service\",\n  \"page_summary\": \"SOC 2 certification consulting services page\",\n  \"framework_focus\": \"SOC 2\",\n  \"company_frameworks\": [\"ISO 27001\"]\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 3,\n  \"framework_multiplier\": 1.0,\n  \"final_weighted_score\": 9,\n  \"rationale\": \"Service page with SOC 2 focus suggests high intent for certification services, even if SOC 2 is not yet in use by the company.\",\n  \"confidence\": 0.9\n}\nMedium Intent Example:\n\nInput:\n\njson\nCopy\n{\n  \"url\": \"/compliance-solutions\",\n  \"page_type\": \"service\",\n  \"page_summary\": \"General compliance solutions page\",\n  \"framework_focus\": \"null\",\n  \"company_frameworks\": [\"ISO 27001\"]\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 2,\n  \"framework_multiplier\": 0.8,\n  \"final_weighted_score\": 4.8,\n  \"rationale\": \"General company page with compliance interest. The lack of specific framework focus reduces relevance but still indicates moderate intent.\",\n  \"confidence\": 0.85\n}\nLow Intent Example:\n\nInput:\n\njson\nCopy\n{\n  \"url\": \"/blog/comparing-security-frameworks\",\n  \"page_type\": \"blog\",\n  \"page_summary\": \"Comparison of different security frameworks\",\n  \"framework_focus\": \"multiple\",\n  \"company_frameworks\": [\"SOC 2\"]\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 1,\n  \"framework_multiplier\": 0.8,\n  \"final_weighted_score\": 2.4,\n  \"rationale\": \"Blog post with multiple frameworks suggests an educational focus, indicating low to medium intent and research stage.\",\n  \"confidence\": 0.95\n}\nNo Intent Example (Default Case):\n\nInput:\n\njson\nCopy\n{\n  \"url\": \"/about-us\",\n  \"page_type\": \"about\",\n  \"page_summary\": \"General company information page\",\n  \"framework_focus\": \"null\",\n  \"company_frameworks\": [\"SOC 2\"]\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 0,\n  \"framework_multiplier\": 0.8,\n  \"final_weighted_score\": 0,\n  \"rationale\": \"General informational page with no strong focus on purchasing-related topics or relevant frameworks. No immediate purchasing intent.\",\n  \"confidence\": 0.7\n}\nKey Clarifications for Consistency:\nPage Type Importance:\nThe page type directly informs the base score. Pages like service and product offerings are always high intent (score 3). Pages that are informational in nature (blogs, news, educational content) should have low intent scores (1).\n\nFramework Relevance:\nPages that focus on a framework already used by the company should maintain a multiplier of 1.0, reflecting strong relevance. Pages with multiple frameworks or no specific framework focus should have a lower multiplier of 0.8.\n\nConfidence Rating:\nThe confidence level will vary based on the clarity of the intent. Pages with direct service/product offerings or highly relevant frameworks will have higher confidence scores.\n\n`\n\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"page_visited_url\": \"https://www.ispartnersllc.com/\",\n    \"company_confirmed_frameworks\":\"\",\n    \"page_visited_type\":\"\",\n    \"page_visited_summary\":\"\",\n    \"page_visited_frameworks\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[21120,860],"id":"398c881b-4f3f-4667-ad8c-b50c0c4fabdb","name":"ICP Intent"},{"parameters":{"name":"icp_framework","description":"Use this prompt to calculate ICP Framework Score","jsCode":"const input = query\nconst prompt = `\nRole: Security & Compliance Scoring Assistant\nYou are an evaluation assistant responsible for accurately scoring a company's security and compliance posture based on confirmed frameworks, geographic location, and industry. Your scoring must remain consistent and deterministic across repeated evaluations of the same input.\n\nCompany Information\nConfirmed Frameworks: ${input.company_confirmed_frameworks}\nCompany Location: ${input.company_location}\nIndustry: ${input.company_industry}\nEvaluation Criteria\nYour scoring is based on the confirmed frameworks used by the company. No assumptions should be made about potential compliance unless explicitly stated.\n\n1. Base Score Calculation (Framework Count Score)\nFramework Count\tBase Score\n3 or more\t3\n2\t2\n1\t1\n0\t0\nStrict Rule: If count = 0, then base_score = 0 and no bonus points should be added.\n\n2. Bonus Points Calculation\nComplementary Framework Pairs Bonus (+0.5 per valid pair)\nA valid complementary pair means two frameworks that are explicitly listed as complementary in the table below:\nSecurity: SOC 2 & ISO 27001, SOC 2 & NIST CSF\nHealthcare: HIPAA & HITRUST, HITRUST & SOC 2\nFinancial: SOC 1 & SOC 2, SOX & GLBA, NYDFS & ISO 27001\nGovernment: FISMA & NIST SP 800-53, CMMC & NIST SP 800-53\nPrivacy: GDPR & ISO 27001, CCPA & SOC 2, GDPR & CCPA\nAI Compliance: NIST AI RMF & ISO 42001, ISO 42001 & ISO 27001\nStrict Rule:\n\nIf no complementary pair exists, relationship_bonus = 0.\nIf a valid pair exists, relationship_bonus = 0.5.\nIndustry-Specific Compliance Bonus (+0.5 if all required industry frameworks are met)\nA company must meet all mandatory frameworks for its industry to receive this bonus.\nFinancial Services  Required: SOX, GLBA\nHealthcare  Required: HIPAA\nGovernment Contractors  Required: CMMC, FISMA\nTechnology  Recommended: SOC 2, ISO 27001\nAI Providers  Recommended: NIST AI RMF, ISO 42001\nStrict Rule:\n\nIf all required frameworks are met, requirement_bonus = 0.5.\nOtherwise, requirement_bonus = 0.\nGeographic Compliance Bonus (+0.5 if all required geographic frameworks are met)\nRegion\tRequired Frameworks\nEU\tGDPR\nCalifornia\tCCPA\nNew York (Financial Sector)\tNYDFS\nUS Federal\tFISMA, NIST SP 800-53\nUS Healthcare\tHIPAA\nStrict Rule:\n\nIf all required frameworks for the region are met, requirement_bonus += 0.5.\nIf not, requirement_bonus = 0.\n3. Final Score Calculation\nFinal Score = (Base Score + Bonus Points)  Weight Factor (3)\nCapping Rule: If (Base Score + Bonuses) > 4, cap the final base score at 4 before applying the weight.\nOutput Format (JSON Response)\nYour output must strictly follow this JSON structure to avoid inconsistencies:\n\njson\nCopy\nEdit\n{\n  \"framework_scores\": {\n    \"count\": <integer>, \n    \"has_complementary_pair\": <true/false>, \n    \"meets_industry_requirements\": <true/false>, \n    \"meets_geographic_requirements\": <true/false>\n  },\n  \"scoring\": {\n    \"base_score\": <integer>, \n    \"weighted_score\": <integer>, \n    \"components\": {\n      \"framework_count_score\": <integer>, \n      \"relationship_bonus\": <float>, \n      \"requirement_bonus\": <float>\n    }\n  },\n  \"explanation\": \"Base score of X for X frameworks. Added Y for complementary pair(s). Added Z for meeting geographic and industry requirements. Final base score capped at 4 before applying weight of 3.\",\n  \"confidence\": 1.0\n}\nConsistency Rules to Prevent Scoring Errors\nFramework count should always match the confirmed frameworks list. No assumptions should be made.\nIf count = 0, then:\nbase_score = 0\nrelationship_bonus = 0\nrequirement_bonus = 0\nFinal weighted score must be 0\nIf count  1, then scoring follows the structured rules above.\nWeighted Score Formula\nIf (Base Score + Bonuses)  4  Apply Weight Factor (3).\nIf (Base Score + Bonuses) > 4  Cap Base Score at 4 before applying the weight.\nExample Cases to Ensure Deterministic Outputs\nConfirmed Frameworks\tExpected Output\nCCPA, GDPR\tBase 2, Bonus 1.0, Weighted Score = 9\nSOC 2, ISO 27001\tBase 2, Bonus 0.5, Weighted Score = 7.5\nHIPAA\tBase 1, Bonus 0.5 (Healthcare), Weighted Score = 4.5\nNo confirmed frameworks\tBase 0, Bonus 0, Weighted Score = 0\n\n`\n\nreturn prompt ","specifyInputSchema":true,"jsonSchemaExample":"{\n  \"company_confirmed_frameworks\":\"\",\n  \"company_location\":\"West Chester , Pennsylvania , United States\",\n  \"company_industry\":\"Marketing And Advertising\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[21280,860],"id":"0f34b5bf-19c8-405a-89d0-2229b992990e","name":"ICP Framework"},{"parameters":{"name":"geolocation_finder","description":"Use this prompt to find the Geolocation for the Company","jsCode":"const input = query\nconst prompt = `\n# Geolocation Assistant\n## Role\nYou are a geolocation assistant that converts city, state, and country information into latitude and longitude coordinates.\n\nHere is the data:\nCity: ${input.company_location_city}\nState: ${input.company_location_state}\nCountry: ${input.company_location_country}\n\n## Required Input Data\n\n{\n  \"location\": {\n    \"city\": \"string\",\n    \"state\": \"string | null\",\n    \"country\": \"string\"\n  }\n}\n\n\n## Required Output Format\n\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"coordinates\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"latitude\": {\n          \"type\": \"number\",\n          \"description\": \"Latitude in decimal degrees\",\n          \"minimum\": -90,\n          \"maximum\": 90\n        },\n        \"longitude\": {\n          \"type\": \"number\",\n          \"description\": \"Longitude in decimal degrees\",\n          \"minimum\": -180,\n          \"maximum\": 180\n        }\n      },\n      \"required\": [\"latitude\", \"longitude\"]\n    },\n    \"location_quality\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"precision\": {\n          \"type\": \"string\",\n          \"enum\": [\"city_center\", \"approximate\", \"uncertain\"],\n          \"description\": \"Level of precision in coordinate determination\"\n        },\n        \"matched_location\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"city\": \"string\",\n            \"state\": \"string | null\",\n            \"country\": \"string\"\n          },\n          \"description\": \"The location details that were matched\"\n        }\n      },\n      \"required\": [\"precision\", \"matched_location\"]\n    },\n    \"confidence\": {\n      \"type\": \"number\",\n      \"minimum\": 0,\n      \"maximum\": 1,\n      \"description\": \"Confidence in coordinate accuracy\"\n    },\n    \"explanation\": {\n      \"type\": \"string\",\n      \"description\": \"Explanation of how coordinates were determined\"\n    }\n  },\n  \"required\": [\"coordinates\", \"location_quality\", \"confidence\", \"explanation\"],\n  \"additionalProperties\": false\n}\n\n\n## Examples\n\n### Example 1: Major City\nInput:\n\n{\n  \"location\": {\n    \"city\": \"Boston\",\n    \"state\": \"Massachusetts\",\n    \"country\": \"USA\"\n  }\n}\n\n\nOutput:\n\n{\n  \"coordinates\": {\n    \"latitude\": 42.3601,\n    \"longitude\": -71.0589\n  },\n  \"location_quality\": {\n    \"precision\": \"city_center\",\n    \"matched_location\": {\n      \"city\": \"Boston\",\n      \"state\": \"Massachusetts\",\n      \"country\": \"USA\"\n    }\n  },\n  \"confidence\": 1.0,\n  \"explanation\": \"Coordinates represent Boston city center. Major city with well-defined central coordinates.\"\n}\n\n\n### Example 2: Small City\nInput:\n\n{\n  \"location\": {\n    \"city\": \"King of Prussia\",\n    \"state\": \"Pennsylvania\",\n    \"country\": \"USA\"\n  }\n}\n\n\nOutput:\n\n{\n  \"coordinates\": {\n    \"latitude\": 40.1013,\n    \"longitude\": -75.3836\n  },\n  \"location_quality\": {\n    \"precision\": \"approximate\",\n    \"matched_location\": {\n      \"city\": \"King of Prussia\",\n      \"state\": \"Pennsylvania\",\n      \"country\": \"USA\"\n    }\n  },\n  \"confidence\": 0.9,\n  \"explanation\": \"Coordinates represent approximate center of King of Prussia township area.\"\n}\n\n\n### Example 3: Missing State\nInput:\n\n{\n  \"location\": {\n    \"city\": \"Paris\",\n    \"state\": null,\n    \"country\": \"France\"\n  }\n}\n\n\nOutput:\n\n{\n  \"coordinates\": {\n    \"latitude\": 48.8566,\n    \"longitude\": 2.3522\n  },\n  \"location_quality\": {\n    \"precision\": \"city_center\",\n    \"matched_location\": {\n      \"city\": \"Paris\",\n      \"state\": null,\n      \"country\": \"France\"\n    }\n  },\n  \"confidence\": 1.0,\n  \"explanation\": \"Coordinates represent Paris city center. Major international city with well-defined central coordinates.\"\n}\n\n\n## Precision Levels\n- city_center: Exact city center coordinates for well-defined cities\n- approximate: General area coordinates for smaller locations\n- uncertain: Best estimate for ambiguous locations\n\n## Confidence Scoring\n1.0: Major cities, state capitals, well-defined locations\n0.9: Smaller cities, well-defined municipalities\n0.8: Towns, suburbs without clear centers\n0.7: Ambiguous locations or potential naming conflicts\n0.5: Uncertain or poorly defined locations\n\n## Rules\n1. Return coordinates in decimal degrees\n2. Use negative values for West longitude and South latitude\n3. Provide appropriate confidence score based on location certainty\n4. Include clear explanation of coordinate determination\n5. Match exact location names when possible\n6. Default to city center for major cities\n7. No additional properties allowed in output JSON\n\n\n`\n\nreturn prompt ","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"company_location_city\": \"\",\n    \"company_location_state\" :\"\" ,\n    \"company_location_country\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[20400,860],"id":"594d11f7-85a3-4b36-855b-f2ca31d720a3","name":"Geolocation Assistant"},{"parameters":{"name":"icp_location","description":"Use this prompt to calculate ICP Location Score","jsCode":"const input = query \nconst prompt = `\n# Location Scoring Assistant\n## Role\nYou are a location scoring assistant who evaluates prospects based on their proximity to Philadelphia, Pennsylvania.\n## Information\n- Prospect Company Coordinates (if available): ${input.location_latitude} ${input.location_longitude}\n- Prospect Company City/State (if available): ${input.company_location}\n\n## Reference Location Data\n\n{\n  \"philadelphia_reference\": {\n    \"latitude\": 39.9526,\n    \"longitude\": -75.1652,\n    \"radius_miles\": 60\n  }\n}\n\n\n## Required Input Data\n\n{\n  \"company_location\": {\n    \"city\": \"string\",\n    \"state\": \"string | null\",\n    \"country\": \"string\",\n    \"coordinates\": {\n      \"latitude\": \"number | null\",\n      \"longitude\": \"number | null\"\n    }\n  }\n}\n\n\n## Scoring Process\n\n### Distance Calculation\nFor locations with coordinates:\n1. Use the Haversine formula to calculate exact distance\n2. Compare against 60-mile radius\n3. Set confidence score to 1.0\n\nFor locations without coordinates:\n1. Score based on city/state if in PA, NJ, or DE\n2. Set lower confidence score (0.8) for nearby cities without exact coordinates\n3. Score 1 with high confidence (1.0) for obviously distant locations\n\n### Scoring Rules\nBase Score:\n- Score 4: Within 60 miles of Philadelphia\n- Score 1: Outside 60 miles of Philadelphia\n\nWeight: Multiply base score by 2\n\n## Required Output Format\n\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"location_scores\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"distance_from_philadelphia\": {\n          \"type\": \"number\",\n          \"description\": \"Distance in miles from Philadelphia\"\n        },\n        \"is_local\": {\n          \"type\": \"boolean\",\n          \"description\": \"Whether within 60 mile radius\"\n        }\n      },\n      \"required\": [\"distance_from_philadelphia\", \"is_local\"]\n    },\n    \"scoring\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"base_score\": {\n          \"type\": \"number\",\n          \"enum\": [1, 4],\n          \"description\": \"Base score (4 if local, 1 if not)\"\n        },\n        \"weighted_score\": {\n          \"type\": \"number\",\n          \"enum\": [2, 8],\n          \"description\": \"Final score after applying location weight of 2\"\n        }\n      },\n      \"required\": [\"base_score\", \"weighted_score\"]\n    },\n    \"explanation\": {\n      \"type\": \"string\",\n      \"description\": \"Explanation of the scoring decision\"\n    },\n    \"confidence\": {\n      \"type\": \"number\",\n      \"minimum\": 0,\n      \"maximum\": 1,\n      \"description\": \"Confidence level in the location data\"\n    }\n  },\n  \"required\": [\"location_scores\", \"scoring\", \"explanation\", \"confidence\"],\n  \"additionalProperties\": false\n}\n\n\n## Example Inputs and Outputs\n\n### Example 1: Local Company with Coordinates\nInput:\n\n{\n  \"company_location\": {\n    \"city\": \"Camden\",\n    \"state\": \"NJ\",\n    \"country\": \"USA\",\n    \"coordinates\": {\n      \"latitude\": 39.9259,\n      \"longitude\": -75.1196\n    }\n  }\n}\n\n\nOutput:\n\n{\n  \"location_scores\": {\n    \"distance_from_philadelphia\": 3.2,\n    \"is_local\": true\n  },\n  \"scoring\": {\n    \"base_score\": 4,\n    \"weighted_score\": 8\n  },\n  \"explanation\": \"Location is 3.2 miles from Philadelphia center, well within 60-mile radius. Exact distance calculated from coordinates.\",\n  \"confidence\": 1.0\n}\n\n\n### Example 2: Distant Location without Coordinates\nInput:\n\n{\n  \"company_location\": {\n    \"city\": \"Los Angeles\",\n    \"state\": \"CA\",\n    \"country\": \"USA\",\n    \"coordinates\": null\n  }\n}\n\n\nOutput:\n\n{\n  \"location_scores\": {\n    \"distance_from_philadelphia\": null,\n    \"is_local\": false\n  },\n  \"scoring\": {\n    \"base_score\": 1,\n    \"weighted_score\": 2\n  },\n  \"explanation\": \"Location is clearly outside Philadelphia 60-mile radius based on city and state.\",\n  \"confidence\": 1.0\n}\n\n\n### Example 3: Nearby Location without Exact Coordinates\nInput:\n\n{\n  \"company_location\": {\n    \"city\": \"King of Prussia\",\n    \"state\": \"PA\",\n    \"country\": \"USA\",\n    \"coordinates\": null\n  }\n}\n\n\nOutput:\n\n{\n  \"location_scores\": {\n    \"distance_from_philadelphia\": null,\n    \"is_local\": true\n  },\n  \"scoring\": {\n    \"base_score\": 4,\n    \"weighted_score\": 8\n  },\n  \"explanation\": \"King of Prussia, PA is known to be within 60-mile radius of Philadelphia. Exact distance not calculated due to missing coordinates.\",\n  \"confidence\": 0.8\n}\n\n\n## Scoring Rules\n1. Always score 4 for locations within 60 miles\n2. Always score 1 for locations outside 60 miles\n3. Use exact coordinates when available\n4. Use city/state for well-known nearby locations\n5. Default to lower confidence when exact coordinates unavailable\n6. Score obvious distant locations with high confidence even without coordinates\n7. Multiply base score by weight of 2\n8. No additional properties allowed in output JSON\n\n`\n\n\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"company_location\":\"West Chester , Pennsylvania , United States\",\n    \"location_latitude\":\"40.1013\",\n    \"location_longitude\":\"-75.3836\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[20540,860],"id":"bd226100-5ba9-4c58-a398-e40705e96259","name":"ICP Location"},{"parameters":{"name":"icp_industry","description":"Use this prompt to calculate ICP Industry score","jsCode":"const input = query\nconst prompt = `\nIndustry Scoring Assistant\nRole\nScore companies based on alignment with target industries for security and compliance services.\n\nRequired Input\njson\nCopy\n{\n  \"industry\": \"${input.company_industry}\"\n}\nIndustry Classification\njson\nCopy\n{\n  \"target_industries\": {\n    \"Business Process Optimization\": {\n      \"aliases\": [\"BPO\", \"Business Process Outsourcing\", \"Process Management\", \"Business Services Optimization\"]\n    },\n    \"Data Services\": {\n      \"aliases\": [\"Data Centers\", \"Data-as-a-Service\", \"DaaS\", \"Data Management\", \"Data Processing Services\", \"Cloud Data Services\"]\n    },\n    \"Energy and Utilities\": {\n      \"aliases\": [\"Energy Services\", \"Utility Provider\", \"Power Generation\", \"Energy Management\", \"Utility Services\"]\n    },\n    \"Healthcare\": {\n      \"categories\": {\n        \"Healthcare Services\": [\"Medical Services\", \"Healthcare Providers\", \"Health Systems\", \"Medical Facilities\"],\n        \"Healthcare Technology\": [\"HealthTech\", \"Digital Health\", \"Health IT\"],\n        \"Revenue Cycle Management\": [\"RCM\", \"Medical Billing\", \"Healthcare Revenue\", \"Medical Revenue Management\"]\n      }\n    },\n    \"Financial Services\": {\n      \"categories\": {\n        \"Traditional Finance\": [\"Banking\", \"Financial Services\", \"Investment Services\"],\n        \"Financial Technology\": [\"Fintech\", \"Digital Banking\", \"Payment Processing\", \"Financial Software\"]\n      }\n    },\n    \"Government\": {\n      \"aliases\": [\"Public Sector\", \"Federal Agency\", \"State Agency\", \"Municipal Government\", \"Government Services\"]\n    },\n    \"Insurance\": {\n      \"categories\": {\n        \"Traditional Insurance\": [\"Insurance Provider\", \"Insurance Services\", \"Insurance Carrier\"],\n        \"Insurance Technology\": [\"InsurTech\", \"Digital Insurance\", \"Insurance Software\"]\n      }\n    },\n    \"Manufacturing\": {\n      \"categories\": {\n        \"Traditional Manufacturing\": [\"Industrial Manufacturing\", \"Production\", \"Manufacturing Services\"],\n        \"Advanced Manufacturing\": [\"Smart Manufacturing\", \"Digital Manufacturing\", \"Manufacturing Technology\"]\n      }\n    },\n    \"Software and Technology\": {\n      \"categories\": {\n        \"Software Development\": [\"SaaS\", \"Software Services\", \"Application Development\"],\n        \"Technology Services\": [\"IT Services\", \"Tech Solutions\", \"Digital Services\"],\n        \"Emerging Technology\": [\"AI/ML\", \"Cloud Services\", \"Cybersecurity\"]\n      }\n    },\n    \"Telecommunications\": {\n      \"aliases\": [\"Telecom\", \"Communications Services\", \"Network Services\", \"Telecommunications Technology\"]\n    }\n  }\n}\nScoring System\nExact Industry Match (Confidence 1.0): Direct match with the main industry category  Score = 4\nCategory Match (Confidence 0.9): Match with a specific sub-category  Score = 4\nAlias Match (Confidence 0.9): Match with an industry alias  Score = 4\nNo Match (Confidence 1.0): No match with the target industries  Score = 1\nPartial/Compound Match (Confidence 0.8): Multiple matches across categories  Score = 4 (highest match)\nOutput Format\njson\nCopy\n{\n  \"base_score\": 4,\n  \"matched_industry\": \"string\",\n  \"matched_category\": \"string\",\n  \"explanation\": \"string\",\n  \"confidence\": 1.0\n}\nExample Outputs\nExample 1: Direct Industry Match\nInput:\n\njson\nCopy\n{\n  \"industry\": \"Healthcare\"\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 4,\n  \"matched_industry\": \"Healthcare\",\n  \"matched_category\": \"Healthcare Services\",\n  \"explanation\": \"Direct match to Healthcare Services category in the target industry.\",\n  \"confidence\": 1.0\n}\nExample 2: Specific Category Match\nInput:\n\njson\nCopy\n{\n  \"industry\": \"HealthTech Platform\"\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 4,\n  \"matched_industry\": \"Healthcare\",\n  \"matched_category\": \"Healthcare Technology\",\n  \"explanation\": \"Match to the Healthcare Technology category in the target industry.\",\n  \"confidence\": 0.9\n}\nExample 3: Alias Match\nInput:\n\njson\nCopy\n{\n  \"industry\": \"RCM Solutions\"\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 4,\n  \"matched_industry\": \"Healthcare\",\n  \"matched_category\": \"Revenue Cycle Management\",\n  \"explanation\": \"Match to the Revenue Cycle Management category in the target industry.\",\n  \"confidence\": 0.9\n}\nExample 4: Non-Target Industry\nInput:\n\njson\nCopy\n{\n  \"industry\": \"Hospitality\"\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 1,\n  \"matched_industry\": \"Other\",\n  \"matched_category\": \"Non-Target\",\n  \"explanation\": \"Industry not in target sectors.\",\n  \"confidence\": 1.0\n}\n`\n\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"company_industry\": \"\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[20680,860],"id":"eb887e73-eaa9-4602-b7d1-a03b0c21db90","name":"ICP Industrty"},{"parameters":{"promptType":"define","text":"=--- OVERVIEW ---\nUse data from this object:\n{{ JSON.stringify($json)}}\n\n\n--- TASKS --- \n1) Firstly find the geolocation for the company\n2) Once we have geolocation of the company Calculate ICP Location Score\n3) Calculate ICP Industry score\n4) Calculate ICP Job Title \n5) Calculate ICP Company Size Score\n6) Calculate ICP Intent Score\n7) Calculate ICP Framework Score\n8) Check if the all diferent score values for all the categories (ICP Location Score, ICP Industry score, ICP Job Title score, ICP Company Size Score, ICP Intent Score, ICP Framework Score) fall into one of the provided valid values for that category in the list bellow: \n- Job Title ICP Valid Scores: 0 or 3 or 6 or 9 or 12\n- Company Size ICP Valid Scores: 0 or 1 or 2 or 3 or 4\n- Intent ICP Valid Scores: 0 or 3 or 6 or 9 or 12 or 15 or 18\n- Framework ICP Valid Scores: 0 or 3 or 6 or 9 or 12\n- Location ICP Valid Scores: 0 or 2 or 8\n- ICP Industry Valid Scores: 0 or 2 or 8\nIf any category dosn't have one of the valid scores provided, re-run the tool that calculates the score for that category.\nExamples:\n-Job title Score is 2 (invalid) but valid values are (0 , 3 , 6 , 9 , 12) so we re-calculate the Job Title Score.\n-Company Size ICP score is 5 (invalid) but valid scores are (0 , 1, 2 ,3 ,4) so we re-calculate the Company ICP Score.\n- Intent ICP score is 7 (invalid) but valid scores are (0,3,6,9,12,15,18) so we re-calculate the Intent ICP Score\n\nStrictly re-calculate up to two times for each category (Job Title, Company Size , Intent, etc.).\n\n9) Take a look at the scores again and if any category doesn't fall into a valid range set it's score to 0.\n10) Calculate the max possible score (maxPossibleScore in the output) using the calculator, this is the sum of all max possibles scores for each category:\n- Job Title Max score: 12\n- Industry Max score: 8\n- Location Max score: 8\n- Company Size Max scor: 4\n- Frameworks Max score: 12\n- Intent Max score: 18\nMax points = 12+8+8+4+12+18 = 62\n11) Calculate total score which is the sum of all the scores we got for each category (totalScore in the output) using the calculator.\nExample \n- Job Title Score: 3\n- Company Size Score: 0\n- Intent Score: 6\n- Framework Score: 9\n- Location Score: 2 (Include Location score in the totalScore sum, only if it's not local (is_local is equal to false), in onther cases act as it's score is 0 (when is_local is equal to false))\n- Industry Score: 2\n\nTotal score is the sum of 3 + 0 + 6 + 9 + 2 + 2  which is 22\n\n\n--- Final Output Example ---\nYour final response should be structured like this:\n[{\n    \"company_geolocation\":{\n      \"coordinates\": {\n        \"latitude\": 40.1013,\n        \"longitude\": -75.3836\n      },\n      \"location_quality\": {\n        \"precision\": \"approximate\",\n        \"matched_location\": {\n          \"city\": \"King of Prussia\",\n          \"state\": \"Pennsylvania\",\n          \"country\": \"USA\"\n        }\n      },\n      \"confidence\": 0.9,\n      \"explanation\": \"Coordinates represent approximate center of King of Prussia township area.\"\n    },\n\t\"job_title\" :{\n      \"base_score\": 4,\n      \"weighted_score\": 12,\n      \"rationale\": \"Modern security leadership role (Cloud Security Architect) listed in emerging_tech_roles.score_4\",\n      \"confidence\": 0.9\n    },\n   \"company_size\":{\n    \"base_score\": 1,\n    \"explanation\": \"Employee count unknown, defaulting to lowest score\",\n    \"confidence\": 0.5\n   },\n   \"intent\":{\n    \"base_score\": 1,\n    \"framework_multiplier\": 0.8,\n    \"final_weighted_score\": 2.4,\n    \"rationale\": \"Educational blog post with multiple framework focus indicates research phase rather than buying intent.\",\n    \"confidence\": 0.95\n   },\n  \"framework\":\n    {\n      \"framework_scores\": {\n        \"count\": 3,\n        \"has_complementary_pair\": true,\n        \"meets_industry_requirements\": false,\n        \"meets_geographic_requirements\": false\n      },\n      \"scoring\": {\n        \"base_score\": 4,\n        \"weighted_score\": 12,\n        \"components\": {\n          \"framework_count_score\": 3,\n          \"relationship_bonus\": 0.5,\n          \"requirement_bonus\": 0\n        }\n      },\n      \"explanation\": \"Base score of 3 for three frameworks. Added 0.5 for complementary pair (SOC 2 + ISO 27001). No bonus for requirements as missing SOX/GLBA. Final base score capped at 4 before applying weight of 3.\",\n      \"confidence\": 1.0\n    },\n  \"location\":{\n      \"location_scores\": {\n        \"distance_from_philadelphia\": 3.2,\n        \"is_local\": true\n      },\n      \"scoring\": {\n        \"base_score\": 4,\n        \"weighted_score\": 8\n      },\n      \"explanation\": \"Location is 3.2 miles from Philadelphia center, well within 60-mile radius. Exact distance calculated from coordinates.\",\n      \"confidence\": 1.0\n  },\n  \"industry\":{\n      \"base_score\": 4,\n      \"matched_industry\": \"Healthcare\",\n      \"matched_category\": \"Revenue Cycle Management\",\n      \"explanation\": \"Target industry - RCM alias match\",\n      \"confidence\": 0.9\n  },\n  \"overall_score\":{\n    \"totalScore\": 15,\n    \"componentScores\": {\n      \"jobTitle\": 3,\n      \"industry\": 2,\n      \"location\": 8,\n      \"companySize\": 2,\n      \"frameworks\": 0,\n      \"intent\": 0\n      },\n     \"maxPossibleScore\": 62\n  }\n}]","hasOutputParser":true,"options":{"maxIterations":60}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[20780,620],"id":"e9d058f6-6ef9-48e4-a248-8e49b2a1494e","name":"ICP Score - Agent V1","retryOnFail":true,"alwaysOutputData":false,"maxTries":5,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"// let original = $('Combining Matched Frameworks').first().json;\n// let input = $json.output[0]\n// const jobTitleAllowedScores = [0, 3, 6, 9, 12];\n// const industryAllowedScores = [0, 2, 8];\n// const locationAllowedScores = [0, 2, 8];\n// const companySizeAllowedScores = [0, 1, 2, 3, 4];\n// const frameworksAllowedScores = [0, 3, 6, 9, 12];\n// const intentAllowedScores = [0, 3, 6, 9, 12, 15, 18];\n\n// function validateScores(scores) {\n//     const { totalScore, componentScores, maxPossibleScore } = scores;\n\n  \n\n//     // Create a copy of the component scores to avoid modifying the original object\n//     let updatedComponentScores = { ...componentScores };\n\n//     // Check and set invalid component scores to 0\n//     if (!jobTitleAllowedScores.includes(updatedComponentScores.jobTitle)) {\n \n//         updatedComponentScores.jobTitle = 0;\n//     }\n\n//     if (!industryAllowedScores.includes(updatedComponentScores.industry)) {\n        \n//         updatedComponentScores.industry = 0;\n//     }\n\n//     if (!locationAllowedScores.includes(updatedComponentScores.location)) {\n       \n//         updatedComponentScores.location = 0;\n//     }\n\n//     if (!companySizeAllowedScores.includes(updatedComponentScores.companySize)) {\n        \n//         updatedComponentScores.companySize = 0;\n//     }\n\n//     if (!frameworksAllowedScores.includes(updatedComponentScores.frameworks)) {\n        \n//         updatedComponentScores.frameworks = 0;\n//     }\n\n//     if (!intentAllowedScores.includes(updatedComponentScores.intent)) {\n       \n//         updatedComponentScores.intent = 0;\n//     }\n\n//     // Recalculate the total score after adjustment, excluding 'location' score\n//     const updatedTotalScore = Object.entries(updatedComponentScores)\n//         .filter(([key]) => key !== 'location') // Exclude location from total calculation\n//         .reduce((sum, [, score]) => sum + score, 0);\n\n//     // Recalculate the max possible score after adjustment, excluding 'location' score\n//     const updatedMaxPossibleScore = Object.entries(updatedComponentScores)\n//         .filter(([key]) => key !== 'location') // Exclude location from max possible score calculation\n//         .reduce((sum, [key, score]) => {\n//             const allowedScores = {\n//                 jobTitle: jobTitleAllowedScores,\n//                 industry: industryAllowedScores,\n//                 companySize: companySizeAllowedScores,\n//                 frameworks: frameworksAllowedScores,\n//                 intent: intentAllowedScores\n//             };\n//             return sum + Math.max(...allowedScores[key]);\n//         }, 0);\n\n//     // Return the new object with corrected scores, excluding location from total and max score\n//     return {\n//         totalScore: updatedTotalScore,\n//         componentScores: updatedComponentScores,\n//         maxPossibleScore: updatedMaxPossibleScore\n//     };\n// }\n\n\n// const scores = input.overall_score\n// const updatedScores = validateScores(scores);\n// input.overall_score = updatedScores\n// function getTier(scores) {\n//     const { totalScore } = scores;\n\n//     if (totalScore >= 44 && totalScore <= 54) {\n//         return \"1\";\n//     } else if (totalScore >= 33 && totalScore <= 43) {\n//         return \"2\";\n//     } else if (totalScore >= 20 && totalScore <= 32) {\n//         return \"3\";\n//     } else {\n//         return \"\";  // If the totalScore doesn't fall into any of the ranges\n//     }\n// }\n// function getTierWithEmoji(scores) {\n//     const { totalScore } = scores;\n\n//     if (totalScore >= 44 && totalScore <= 54) {\n//         return \" Tier 1\";\n//     } else if (totalScore >= 33 && totalScore <= 43) {\n//         return \" Tier 2\";\n//     } else if (totalScore >= 20 && totalScore <= 32) {\n//         return \" Tier 3\";\n//     } else {\n//         return \"\";  // If the totalScore doesn't fall into any of the ranges\n//     }\n// }\n// const tier = getTier(input.overall_score);\n// input.total_score_string = tier\n// const tier_with_emoji = getTierWithEmoji(input.overall_score)\n// input.total_score_string_emoji =  tier_with_emoji\n// original.company_info.icp_score = input\n// return original\n\nlet original = $('Combining Matched Frameworks').first().json;\n\nlet input = $json?.output[0] ? $json?.output[0]  :{}; // Default to an empty object if $json.output[0] doesn't exist\n\nif (Object.keys(input).length === 0) {\n    // Handle the case where $json.output[0] doesn't exist\n    return original;\n}\n\nconst jobTitleAllowedScores = [0, 3, 6, 9, 12];\nconst industryAllowedScores = [0, 2, 8];\nconst locationAllowedScores = [0, 2, 8];\nconst companySizeAllowedScores = [0, 1, 2, 3, 4];\nconst frameworksAllowedScores = [0, 3, 6, 9, 12];\nconst intentAllowedScores = [0, 3, 6, 9, 12, 15, 18];\n\nfunction validateScores(scores) {\n    const { totalScore, componentScores, maxPossibleScore } = scores;\n\n    // Create a copy of the component scores to avoid modifying the original object\n    let updatedComponentScores = { ...componentScores };\n\n    // Check and set invalid component scores to 0\n    if (!jobTitleAllowedScores.includes(updatedComponentScores.jobTitle)) {\n        updatedComponentScores.jobTitle = 0;\n    }\n\n    if (!industryAllowedScores.includes(updatedComponentScores.industry)) {\n        updatedComponentScores.industry = 0;\n    }\n\n    if (!locationAllowedScores.includes(updatedComponentScores.location)) {\n        updatedComponentScores.location = 0;\n    }\n\n    if (!companySizeAllowedScores.includes(updatedComponentScores.companySize)) {\n        updatedComponentScores.companySize = 0;\n    }\n\n    if (!frameworksAllowedScores.includes(updatedComponentScores.frameworks)) {\n        updatedComponentScores.frameworks = 0;\n    }\n\n    if (!intentAllowedScores.includes(updatedComponentScores.intent)) {\n        updatedComponentScores.intent = 0;\n    }\n\n    // Recalculate the total score after adjustment, excluding 'location' score\n    const updatedTotalScore = Object.entries(updatedComponentScores)\n        .filter(([key]) => key !== 'location') // Exclude location from total calculation\n        .reduce((sum, [, score]) => sum + score, 0);\n\n    // Recalculate the max possible score after adjustment, excluding 'location' score\n    const updatedMaxPossibleScore = Object.entries(updatedComponentScores)\n        .filter(([key]) => key !== 'location') // Exclude location from max possible score calculation\n        .reduce((sum, [key, score]) => {\n            const allowedScores = {\n                jobTitle: jobTitleAllowedScores,\n                industry: industryAllowedScores,\n                companySize: companySizeAllowedScores,\n                frameworks: frameworksAllowedScores,\n                intent: intentAllowedScores\n            };\n            return sum + Math.max(...allowedScores[key]);\n        }, 0);\n\n    // Return the new object with corrected scores, excluding location from total and max score\n    return {\n        totalScore: updatedTotalScore,\n        componentScores: updatedComponentScores,\n        maxPossibleScore: updatedMaxPossibleScore\n    };\n}\n\nconst scores = input.overall_score;\nconst updatedScores = validateScores(scores);\ninput.overall_score = updatedScores;\n\nfunction getTier(scores) {\n    const { totalScore } = scores;\n\n    if (totalScore >= 44 && totalScore <= 54) {\n        return \"1\";\n    } else if (totalScore >= 33 && totalScore <= 43) {\n        return \"2\";\n    } else if (totalScore >= 20 && totalScore <= 32) {\n        return \"3\";\n    } else {\n        return \"\";  // If the totalScore doesn't fall into any of the ranges\n    }\n}\n\nfunction getTierWithEmoji(scores) {\n    const { totalScore } = scores;\n\n    if (totalScore >= 44 && totalScore <= 54) {\n        return \" Tier 1\";\n    } else if (totalScore >= 33 && totalScore <= 43) {\n        return \" Tier 2\";\n    } else if (totalScore >= 20 && totalScore <= 32) {\n        return \" Tier 3\";\n    } else {\n        return \"\";  // If the totalScore doesn't fall into any of the ranges\n    }\n}\n\nconst tier = getTier(input.overall_score);\ninput.total_score_string = tier;\nconst tier_with_emoji = getTierWithEmoji(input.overall_score);\ninput.total_score_string_emoji = tier_with_emoji;\n\noriginal.company_info.icp_score = input;\n\nreturn original;\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[21300,620],"id":"e3e94424-5a06-4968-bb7a-f8ee5fd99d65","name":"Formatting ICP Score"},{"parameters":{"model":"claude-3-5-haiku-20241022","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.2,"position":[20240,860],"id":"4adc15d3-e590-4f63-a089-1b01be97dc13","name":"Anthropic Chat Model1","credentials":{"anthropicApi":{"id":"h0MMyf5nQ4cycwwR","name":"searchactions.com: ispartnersllc.com - Visitor Enrichment"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolCalculator","typeVersion":1,"position":[21440,860],"id":"0d07ec38-7fef-40f9-89e8-d9a9969f0e43","name":"Calculator1"},{"parameters":{"method":"POST","url":"=https://api.lemlist.com/api/campaigns/cam_Wt8i7t78qQ5ypMxZW/leads/{{ $('Adding to database').first().json.user_info.primary_email }}","authentication":"predefinedCredentialType","nodeCredentialType":"lemlistApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"deduplicate","value":"true"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.data }}","options":{"redirect":{"redirect":{}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[32480,180],"id":"ae2c112c-5d1d-415b-b31b-36c42b78a00a","name":"Multiple Framework","notesInFlow":true,"credentials":{"lemlistApi":{"id":"J1YuRBkJqsZaV7CN","name":"ispartnersllc.com"}},"onError":"continueRegularOutput"},{"parameters":{"method":"POST","url":"=https://api.lemlist.com/api/campaigns/cam_oMBHEyNLnuGrorxbH/leads/{{ $('Adding to database').first().json.user_info.primary_email }}","authentication":"predefinedCredentialType","nodeCredentialType":"lemlistApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"deduplicate","value":"true"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.data }}","options":{"redirect":{"redirect":{}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[32480,-140],"id":"c214cbd1-0b22-40a8-a4a7-cff286af0af7","name":"Single Framework","notesInFlow":true,"credentials":{"lemlistApi":{"id":"J1YuRBkJqsZaV7CN","name":"ispartnersllc.com"}},"onError":"continueRegularOutput"},{"parameters":{"promptType":"define","text":"=--- INFORMATION TO USE IN THE TASK ---\nOverall prospect information:\n{{JSON.stringify($json) }}\nICP Scoring Information:\n{{ JSON.stringify($json.company_info.icp_score) }}\n\n--- TASK --- \n- Your goal is to summerize (provide reasoning) everything into one string regarding ICP Score (Output: \"summary\").\nKeep in mind in the totalScore and maxPossibleScore points the Location score isn't counted in because it's just a modifier.\nExamples:\n--The prospect from Diligent has a role as a Research Specialist within the Computer Software industry, which has a focus on governance. The company is fairly large with 2,599 employees and possesses multiple compliance frameworks (ISO 27001, SOC 2). However, the lack of specific location data hampers the scoring in that category. The intent shown by visiting a blog article, which discusses general audit testing methods, reveals limited immediate interest in specific compliance frameworks. Recommendations include monitoring for more focused engagement.\n--OhioHealth is a large not-for-profit health system with comprehensive healthcare services. It falls into the Hospital & Health Care industry, which is pertinent for compliance due to its regulatory requirements. The contact hold a Registered Nurse position, reflecting a limited influence on compliance or IT security. The company meets HIPAA compliance and has SOC 1 certifications, indicating attention to security standards, but the contact's role is not aligned with decision-making in compliance or security areas. The interest shown by visiting a blog article suggests a desire for knowledge but lacks actionable intent towards specific frameworks.\n--Company CDWG operates within the Information Technology & Services industry, with a significant employee base (5001-10000) indicating enterprise scale. They hold important compliance frameworks including NIST Cybersecurity Framework and potentially HITRUST. The contact's role as an Advanced Technology Account Executive suggests limited influence on compliance decisions. The interest shown in HITRUST indicates awareness of compliance frameworks but was represented in a blog context, highlighting a need for additional information.\n--Crocs, a large player in the Apparel & Fashion industry, employs over 5000 personnel. The VP of Digital Commerce demonstrates strong influence over technology strategies but does not directly relate to compliance or security leadership. Crocs has two established compliance frameworks but visited a blog article indicating low intent. Given the company's size and employee count, it should be monitored for potential interest in cybersecurity enhancements.\n\n- Write Job Title score summary (Output: \"job_title_summary\"), it needs to start with score and max possible points\n  Example:  3/12 Points - The title 'Research Specialist' does not match the higher scoring titles in the defined categories which include management or ownership positions in compliance or technical fields.\n- Write Industry score summary (Output: \"industry_summary\") it needs to start with score and max possible points\n  Example: 8/8 Points - The industry is 'Computer Software' which is a target industry for compliance solutions and technology, thus scoring a 4.\n- Write Location score summary (Output: \"location_summary\") it needs to start with score and max possible points\n  Example: 2/8 Points - No specific location is provided, therefore it's unclear if they fall within the 60-mile radius of Philadelphia, so the score defaults to 1.\n- Write Company Size summary (Output: \"company_size_summary\") it needs to start with score and max possible points\n  Example: 4/4 Points - The company has 2,599 employees, which qualifies them for a score of 4 (500+ employees).\n- Write Frameworks score summary (Output: \"frameworks_summary\") it needs to start with score and max possible points\n  Example: 12/15 Points - The company is confirmed to have frameworks ISO 27001 and SOC 2, and they also refer to SOC 2 and PCI DSS in the page visited, yielding a score of 4 for having three or more confirmed frameworks.\n- Write Intent score summary (Output: \"intent_summary\") it needs to start with score and max possible points\n  Example: 3/18 Points - The page visited is a blog article (contains '/blog/') which scores 1, and does not exclusively focus on a single framework applicable to the company, leading to a score of 1 for factor B.\n\n\n\n--- OUTPUT EXAMPLES ----\n{\n\t\"summary\": \"The prospect from Diligent has a role as a Research Specialist within the Computer Software industry, which has a focus on governance. The company is fairly large with 2,599 employees and possesses multiple compliance frameworks (ISO 27001, SOC 2). However, the lack of specific location data hampers the scoring in that category. The intent shown by visiting a blog article, which discusses general audit testing methods, reveals limited immediate interest in specific compliance frameworks. Recommendations include monitoring for more focused engagement.\",\n\t\"job_title_summary\": \"3/12 Points - The title 'Research Specialist' does not match the higher scoring titles in the defined categories which include management or ownership positions in compliance or technical fields\",\n  \"industry_summary\": \"8/8 Points - The industry is 'Computer Software' which is a target industry for compliance solutions and technology, thus scoring a 4.\",\n  \"location_summary\":\"2/8 Points - No specific location is provided, therefore it's unclear if they fall within the 60-mile radius of Philadelphia, so the score defaults to 1.\",\n  \"company_size_summary\":\"4/4 Points - The company has 2,599 employees, which qualifies them for a score of 4 (500+ employees)\",\n  \"frameworks_summary\":\"12/15 Points - The company is confirmed to have frameworks ISO 27001 and SOC 2, and they also refer to SOC 2 and PCI DSS in the page visited, yielding a score of 4 for having three or more confirmed frameworks.\",\n  \"intent_summary\":\"3/18 Points - The page visited is a blog article (contains '/blog/') which scores 1, and does not exclusively focus on a single framework applicable to the company, leading to a score of 1 for factor B.\"\n}\n\n\n{\n\t\"summary\": \"OhioHealth is a large not-for-profit health system with comprehensive healthcare services. It falls into the Hospital & Health Care industry, which is pertinent for compliance due to its regulatory requirements. The contact hold a Registered Nurse position, reflecting a limited influence on compliance or IT security. The company meets HIPAA compliance and has SOC 1 certifications, indicating attention to security standards, but the contact's role is not aligned with decision-making in compliance or security areas. The interest shown by visiting a blog article suggests a desire for knowledge but lacks actionable intent towards specific frameworks.\",\n\t\"job_title_summary\": \"3/12 Points - The title 'Registered Nurse' does not indicate a leadership role within compliance or security functions and therefore receives the lowest score.\",\n  \"industry_summary\": \"8/8 Points - The industry 'Hospital & Health Care' is strongly relevant to compliance given the regulatory environment in healthcare, qualifying for the highest score.\",\n  \"location_summary\":\"2/8 Points - The location is not specified, and as the company is based in Ohio, it likely is outside 60 miles of Philadelphia, which defaults to the lowest score.\",\n  \"company_size_summary\":\"4/4 Points - With an employee count of 10,001+, it qualifies as enterprise-level, receiving the highest score.\",\n  \"frameworks_summary\":\"6/15 Points - The company has two compliance frameworks (HIPAA and SOC 1), which qualifies for a score of 3 based on the number of frameworks.\",\n  \"intent_summary\":\"3/18 Points - The page visited is a blog article which receives a score of 1, and since it discusses frameworks without sufficient specificity about the company's implementation, Factor B also scores 1, resulting in a total intent score of 3.\"\n}\n\n\n","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[21880,620],"id":"3d3b401a-f8c0-45ac-a68d-a56ddaabb0e2","name":"ICP Summary","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.1,"position":[21840,840],"id":"9d5f357c-c352-4b32-b12e-067b743ca2a8","name":"OpenAI Chat Model - ICP Summary","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Formatting ICP Score').first().json\noriginal.company_info.icp_score.summary = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[22300,620],"id":"3421ce57-222d-41bb-9458-cb5c1d0847e5","name":"Combining ICP summary"},{"parameters":{"operation":"get","tableId":"website_visitors_new","filters":{"conditions":[{"keyName":"email","keyValue":"={{ $('Combining Email data').item.json.email }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1460,520],"id":"def4484a-12e0-4850-b204-1e766d610eb7","name":"Supabase","alwaysOutputData":true,"retryOnFail":true,"credentials":{"supabaseApi":{"id":"KAjqGpkvqbL6t5fA","name":"searchactions.com - Website Visitors Project"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff290191-5e4b-4f58-829a-366cd557683e","leftValue":"={{ $json.id }}","rightValue":"","operator":{"type":"number","operation":"exists","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1740,520],"id":"ff4c4ac6-39b8-458f-b836-b560d2ea1abc","name":"Already Enriched ?"},{"parameters":{"content":"# Checking if we already enriched the contact","height":660,"width":1160},"type":"n8n-nodes-base.stickyNote","position":[1320,380],"typeVersion":1,"id":"c89dac26-909e-4408-b021-7d8af8860783","name":"Sticky Note27"},{"parameters":{"operation":"update","tableId":"website_visitors","filters":{"conditions":[{"keyName":"id","condition":"eq","keyValue":"={{ $json.id }}"}]},"fieldsUi":{"fieldValues":[{"fieldId":"upcoming_meeting_data","fieldValue":"={{ $('Summarizing').item.json.upcoming_meeting_data }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[1700,1120],"id":"e618ae2b-540b-43a2-a73e-9722e2021eb6","name":"Updating Meeting information1","notesInFlow":true,"credentials":{"supabaseApi":{"id":"KAjqGpkvqbL6t5fA","name":"searchactions.com - Website Visitors Project"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"4c39f092-4511-48f7-af14-32f75764c84f","leftValue":"={{ $json.upcoming_meeting_data.hubspot_id }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"ddf19e53-5ad0-471f-a663-928836c958da","leftValue":"={{ $json.upcoming_meeting_data.meeting_time }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}}],"combinator":"or"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1460,1260],"id":"d80ea003-011c-4a2d-a821-5f9fd424daaf","name":"HubSpot meeting data exists ?"},{"parameters":{"jsonSchemaExample":"{\n\t\"summary\": \"\",\n\t\"job_title_summary\": \"3/12 Points - The title 'Research Specialist' does not match the higher scoring titles in the defined categories which include management or ownership positions in compliance or technical fields.\",\n  \"industry_summary\": \"8/8 Points - The industry is 'Computer Software' which is a target industry for compliance solutions and technology, thus scoring a 4.\",\n  \"location_summary\":\"2/8 Points - No specific location is provided, therefore it's unclear if they fall within the 60-mile radius of Philadelphia, so the score defaults to 1.\",\n  \"company_size_summary\":\" 4/4 Points - The company has 2,599 employees, which qualifies them for a score of 4 (500+ employees).\",\n  \"frameworks_summary\":\"12/15 Points - The company is confirmed to have frameworks ISO 27001 and SOC 2, and they also refer to SOC 2 and PCI DSS in the page visited, yielding a score of 4 for having three or more confirmed frameworks.\",\n  \"intent_summary\":\"3/18 Points - The page visited is a blog article (contains '/blog/') which scores 1, and does not exclusively focus on a single framework applicable to the company, leading to a score of 1 for factor B.\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[22120,860],"id":"313e847c-edb2-47e3-b04b-07200e9fbedc","name":"ICP Summary parser"},{"parameters":{"url":"https://linkedin-api8.p.rapidapi.com/get-profile-data-by-url","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"url","value":"={{ $json.user_info.social_urls.linked_in }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"x-rapidapi-host","value":"linkedin-api8.p.rapidapi.com"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[8360,700],"id":"c37f704f-0d36-4142-b2d5-1de6b79a7603","name":"LinkedIn - Profile Data","notesInFlow":true,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"ZgvHAs9mRvDYM7Ms","name":"searchactions.com - Rapid API - key "}},"onError":"continueRegularOutput","notes":"Real-Time LinkedIn Scraper (Rapid API)"},{"parameters":{"url":"https://linkedin-api8.p.rapidapi.com/get-profile-posts","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"username","value":"={{ $json.username }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"x-rapidapi-host","value":"linkedin-api8.p.rapidapi.com"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[8540,700],"id":"af302fc5-4ece-4f6d-9877-94dff0221069","name":"LinkedIn - Posts","alwaysOutputData":true,"notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"ZgvHAs9mRvDYM7Ms","name":"searchactions.com - Rapid API - key "}},"onError":"continueRegularOutput","notes":"Real-Time LinkedIn Scraper (Rapid API)"},{"parameters":{"url":"https://linkedin-api8.p.rapidapi.com/connection-count","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"username","value":"={{ $('LinkedIn - Profile Data').item.json.username }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"x-rapidapi-host","value":"linkedin-api8.p.rapidapi.com"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[8700,700],"id":"d3eb65f6-c5f3-439e-8dac-90becd99ec05","name":"LinkedIn - Connection & Follower Count","notesInFlow":true,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"ZgvHAs9mRvDYM7Ms","name":"searchactions.com - Rapid API - key "}},"onError":"continueRegularOutput","notes":"Real-Time LinkedIn Scraper (Rapid API)"},{"parameters":{"jsCode":"function isWithinLastMonth(timestamp) {\n  const now = new Date();\n  const oneMonthAgo = new Date(now.setMonth(now.getMonth() - 1));\n  \n  const timestampDate = new Date(timestamp);\n\n  return timestampDate >= oneMonthAgo;\n}\n\n\nlet original = $('Adding Normalized Job Title').first().json\nconst profile_data = $('LinkedIn - Profile Data')?.first()?.json || {}\nconst posts = $('LinkedIn - Posts')?.first()?.json?.data || []\nconst connection_count = $input?.first()?.json?.connection || 0\nconst follower_count = $input?.first()?.json?.follower || 0\nlet is_active_on_linked_in = false\n\nif(posts[0]?.postedDateTimestamp){\n  is_active_on_linked_in = isWithinLastMonth(posts[0].postedDateTimestamp)\n}\nconst linked_in_data = {\n  profile_data :profile_data,\n  posts : posts,\n  connection_count: connection_count,\n  follower_count: follower_count,\n  is_active_on_linked_in\n}\nconst company_linked_in_data = $input.first().json.data\n// ---- ASSIGNING ----\noriginal.company_info.linked_in_data = company_linked_in_data\noriginal.user_info.linked_in_data = linked_in_data\n\n// PROFILE PICTURE\nif(!original?.user_info?.profile_pick &&linked_in_data.profile_data.profilePicture ){\n  original.user_info.profile_pick =  linked_in_data.profile_data.profilePicture\n}\n// COMPANY LOGO\nif(!original?.company_info?.logo && $input.first()?.json?.data?.Images?.logo){\n  original.company_info.logo = $input.first().json.data.Images.logo\n}\n// COMPANY LOCATION\nif(!original?.company_info?.location?.city && $input.first().json?.data?.headquarter?.city){\n  original.company_info.location.city = $input.first().json.data.headquarter.city\n}\nif(!original?.company_info?.location?.country && $input.first().json?.data?.headquarter?.country){\n  original.company_info.location.country = $input.first().json.data.headquarter.country\n}\n// LOCATION\nif(!original?.user_info?.location?.country && profile_data?.geo?.country){\n  original.user_info.location.country = profile_data.geo.country\n}\nif(!original?.user_info?.location?.city && profile_data?.geo?.city ){\n  original.user_info.location.city = profile_data.geo.city\n}\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[9100,700],"id":"9ab4f472-a544-4d35-bca7-dfba200735ea","name":"Linked In Scraped Data"},{"parameters":{"content":"# Linked In Scraping\n","height":660,"width":920},"type":"n8n-nodes-base.stickyNote","position":[8300,380],"typeVersion":1,"id":"575e89db-42f3-481d-a375-c014b27edcd1","name":"Sticky Note28"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"3fb1ff01-7951-4c57-8296-c33a6b37243f","leftValue":"={{ $('Summarizing').item.json.prospect_source }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}},{"id":"93ea1960-87eb-46a6-b2c6-94c5ff1d5146","leftValue":"={{ $('Summarizing').item.json.prospect_source }}","rightValue":"hubspot","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1680,1360],"id":"2252218e-6a5b-4e76-9df7-8f00029845fc","name":"HubSpot Enrichment ?"},{"parameters":{"url":"https://linkedin-api8.p.rapidapi.com/get-company-by-domain","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"domain","value":"={{ $('Prospect final structure').item.json.company_info.domain }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"x-rapidapi-host","value":"linkedin-api8.p.rapidapi.com"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[8880,700],"id":"993ef032-add3-4e8a-9b5e-89f7a15bfad8","name":"LinkedIn - Company Information","notesInFlow":true,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"ZgvHAs9mRvDYM7Ms","name":"searchactions.com - Rapid API - key "}},"onError":"continueRegularOutput","notes":"Real-Time LinkedIn Scraper (Rapid API)"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const fallback_data = 'Not Found'\n\n// ----------------- CONTACT -------------------\nconst about = $json?.user_info?.report|| fallback_data\nconst content_sentence_compliance_benefits = fallback_data\nconst content_sentence_saw_compliance_status = fallback_data\nconst content_sentence_saw_linkedin_post = fallback_data\nconst content_sentence_social_proof = fallback_data\nconst enrichment_status = \"enriched\"\nconst icp_contact_score = $json?.company_info?.icp_score?.overall_score?.totalScore && $json.company_info.icp_score.overall_score.maxPossibleScore ? `${ $json.company_info.icp_score.overall_score.totalScore}/${$json.company_info.icp_score.overall_score.maxPossibleScore }` : fallback_data\nconst icp_contact_tier = $json?.company_info?.icp_score?.total_score_string|| fallback_data\nconst is_active_on_linkedin = $json.user_info?.linked_in_data?.is_active_on_linked_in ? \"True\" : 'False'\nconst job_challanges = $json?.user_info?.job_challenges || fallback_data\nconst job_responsibilities = $json?.user_info?.job_responsibilities || fallback_data\nconst job_title_normalized = $json.user_info.role || fallback_data\nconst linkedin_follower_count = $json?.user_info?.linked_in_data?.follower_count || 0\nconst linkedin_headline = $json?.user_info?.linked_in_data?.profile_data?.headline || fallback_data\nconst linkedin_summary = $json?.user_info?.linked_in_data?.profile_data?.summary || fallback_data\n\nreturn {\n  about,\n  content_sentence_compliance_benefits,\n  content_sentence_saw_compliance_status,\n  content_sentence_saw_linkedin_post,\n  content_sentence_social_proof,\n  enrichment_status,\n  icp_contact_score,\n  icp_contact_tier,\n  is_active_on_linkedin,\n  job_challanges,\n  job_responsibilities,\n  job_title_normalized,\n  linkedin_follower_count,\n  linkedin_headline,\n  linkedin_summary\n}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1980,1340],"id":"21c2c5d5-e63b-4249-9267-f95afa8511bb","name":"Formatting for HubSpot Contact - Update"},{"parameters":{"content":"\n","height":560,"width":1340,"color":5},"type":"n8n-nodes-base.stickyNote","position":[1300,1060],"typeVersion":1,"id":"5cd967f8-9637-4234-841d-93115e85b2f2","name":"Sticky Note10"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const input = $('HubSpot Enrichment ?').item.json\n\nconst company_info = input.company_info\nconst fallback_data = \"Not Found\"\nconst lemlist_data = input.lemlist_data\nconst about = company_info?.report || fallback_data\n\n\nlet auditors = company_info.framework_review?.confirmed_auditors || fallback_data\nif(auditors.length === 1 && auditors !== fallback_data){\n  auditors = auditors[0]\n}\nif(auditors.length >1 && auditors !== fallback_data){\n  auditors = auditors.slice(0, -1).join(', ') + ' and ' + auditors.slice(-1)\n}\nconst company_name_normalized = company_info?.name || fallback_data\nconst competitor = company_info?.competitor_classification?.is_competitor || \"False\" // True or False\nconst compliance_has_multiple_frameworks = company_info?.framework_review?.confirmed_frameworks && company_info?.framework_review?.confirmed_frameworks.length > 1 ? \"True\" : \"False\" // True or False\nconst compliance_has_single_framework = company_info?.framework_review?.confirmed_frameworks && company_info?.framework_review?.confirmed_frameworks.length === 1 ? \"True\" : \"False\" // True or False\n\nconst compliance_primary_frameworks = \"\" \n// CCPA\n// CMMC\n// DORA\n// FISMA\n// GDPR\n// GLBA\n// HIPAA\n// HITRUST\n// HITRUST AI RMF\n// ISO 27001\n// ISO 42001\n// MAR/SOX\n// MARS-E\n// NERC\n// NIST AI RMF\n// NIST CSF\n// NIST Cybersecurity for IoT\n// NIST SP 800-53\n// NYDFS\n// PCI DSS\n// SOC 1\n// SOC 2\n// SOC 3\n// SOC\nconst compliance_secondary_frameworks = \"\"\n\nconst content_email_1_sentence_bridge_1 = fallback_data\nconst content_email_1_sentence_bridge_2 = fallback_data\nconst content_email_1_sentence_closing = fallback_data\nconst content_email_1_sentence_how_we_help = fallback_data\nconst content_email_1_sentence_opening = fallback_data\nconst content_email_1_sentence_related_customers = fallback_data\n\nconst content_framework = lemlist_data['Content - framework'] || fallback_data\nconst content_frameworks =  lemlist_data['Content - frameworks'] || fallback_data\n\nconst content_related_customer = lemlist_data['Content - current customer'] || fallback_data\nconst content_related_customers = lemlist_data['Content - current customers'] || fallback_data\n\nconst employee_count = company_info?.size || fallback_data\nconst enrichment_status = \"Enriched\"\nconst grc_software = company_info?.auditor_grc_tools?.grc_tools && company_info?.auditor_grc_tools?.grc_tools.length > 0? company_info?.auditor_grc_tools?.grc_tools.join(\",\") : fallback_data \nconst headquarter = `${company_info?.location?.city ? company_info?.location?.city: \"\"}${company_info?.location?.state ? \", \" + company_info?.location?.state : \"\" }${company_info?.location?.country ? \", \" +  company_info?.location?.country : \"\" }`\nconst icp_company_score = company_info?.icp_score?.overall_score?.totalScore && company_info?.icp_score?.overall_score?.maxPossibleScore ? `${company_info?.icp_score?.overall_score?.totalScore}/${company_info?.icp_score?.overall_score?.maxPossibleScore}` : \"\"\nconst icp_company_tier = company_info?.icp_score?.total_score_string || fallback_data\n\nconst last_funding_round_amount = fallback_data\nconst last_funding_round_date = fallback_data\n\nconst linkedin_url = company_info?.social_urls?.linked_in || fallback_data\nconst partner_opprotunity = company_info?.partner_classification?.is_partner || \"False\"// True or False\nconst services = company_info?.products ? company_info?.products.join(\",\") : fallback_data\nconst specialities = company_info?.specialities ? company_info.specialities.join(\",\") : fallback_data\nconst tagline = company_info?.linked_in_data?.tagline || fallback_data\nconst years_in_business = company_info?.years_in_business || fallback_data\n\n\nreturn{\n  about,\n  auditors,\n  company_name_normalized,\n  competitor,\n  compliance_has_multiple_frameworks,\n  compliance_has_single_framework,\n  compliance_primary_frameworks,\n  compliance_secondary_frameworks,\n  content_email_1_sentence_bridge_1,\n  content_email_1_sentence_bridge_2,\n  content_email_1_sentence_closing,\n  content_email_1_sentence_how_we_help,\n  content_email_1_sentence_opening,\n  content_email_1_sentence_related_customers,\n  content_framework,\n  content_frameworks,\n  content_related_customer,\n  content_related_customers,\n  employee_count,\n  enrichment_status,\n  grc_software,\n  headquarter,\n  icp_company_score,\n  icp_company_tier,\n  last_funding_round_amount,\n  last_funding_round_date,\n  linkedin_url,\n  partner_opprotunity,\n  services,\n  specialities,\n  tagline,\n  years_in_business\n}\n\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2200,1340],"id":"82234ce5-51e6-46df-96a8-af8672e7b7a2","name":"Formatting for HubSpot Company - Updates"},{"parameters":{"promptType":"define","text":"=# Company Classification Prompt for I.S. Partners\n\n## GOAL\nYour goal is to accurately classify companies as either competitors or potential partners of I.S. Partners, while avoiding any incorrect classifications that could lead to business harm. You must protect I.S. Partners from inadvertently marketing to competitors while identifying valuable partnership opportunities.\n\n## ROLE\nYou are a specialized business analyst with expertise in:\n- IT compliance and audit services\n- Competitive analysis\n- Partnership evaluation\n- Service offering assessment\n- Industry classification\n\nYour primary responsibilities are to:\n1. Carefully analyze company descriptions and service offerings\n2. Identify explicit evidence of competitive services\n3. Evaluate partnership potential based on service synergy\n4. Make clear, evidence-based classifications\n5. Provide detailed reasoning for all decisions\n\n## CORE PRINCIPLE\nAccuracy is paramount. An incorrect classification could result in:\n- Sharing sensitive information with competitors\n- Missing valuable partnership opportunities\n- Damaging business relationships\n- Wasting marketing resources\n\n## STRICT EVIDENCE REQUIREMENT - READ FIRST\nA company can ONLY be classified as a competitor if compliance audit services are EXPLICITLY LISTED in their services or specialties.\n\nTo classify as competitor, MUST see phrases like:\n- \"We provide SOC 2 audits\"\n- \"We perform HIPAA certification\"\n- \"Our compliance audit services include...\"\n- \"We offer compliance certification\"\n- \"We provide compliance attestation\"\n\nNEVER:\n- Assume a service exists if not listed\n- Infer competitive services from industry presence\n- Classify as competitor without explicit service listing\n- Make assumptions about potential services\n- Classify based on hypotheticals\n\nIF NO EXPLICIT AUDIT SERVICES ARE LISTED  NOT A COMPETITOR\n\n## ABSOLUTE RULES\n1. NEVER classify based on hypothetical scenarios\n2. NEVER classify based on potential future services\n3. NEVER classify based on industry presence alone\n4. REQUIRE explicit evidence of competitive services\n5. Manufacturing companies are NOT competitors by default\n6. Internal compliance activities are NOT competitive services\n7. Working with auditors does NOT make a company a competitor\n8. Being audited does NOT make a company a competitor\n\n## CRITICAL EVIDENCE REQUIREMENTS\n- Must have clear evidence of providing compliance audit services to be a competitor\n- Must find specific mention of audit/certification services\n- Industry presence or company size does NOT indicate competitive status\n- Being regulated or compliant does NOT make a company a competitor\n- Manufacturing regulated products does NOT make a company a competitor\n- Internal compliance departments do NOT make a company a competitor\n- Working with external auditors does NOT make a company a competitor\n\n## ABOUT THE PROSPECT \nCompany Name:  {{ $json.company_info.name }}\nWebsite: {{ $json.company_info.domain }}\nLinkedIn URL: {{ $json.company_info.social_urls.linked_in }}\nDescription: {{ $json.company_info.report }}\nIndustry: {{ $json.company_info.industry }}\nServices: {{ $json.company_info.products ? $json.company_info.products.join(\",\") : \"\" }}\nSpecialities: {{ $json.company_info.specialities ? $json.company_info.specialities.join(\",\") : \"\" }}\n\n\n## I.S. PARTNERS CORE SERVICES\nI.S. Partners provides IT compliance and audit services, including:\n- SOC Audits (SOC 1, 2, 3, Cybersecurity, Supply Chain)\n- ISO Certifications (27001, 42001, 50001)\n- Compliance Audits (HIPAA/HITECH, PCI DSS, CMMC, CCPA, GDPR)\n- AI Compliance (NIST AI RMF, ISO 42001, HITRUST AI RMF)\n- Cybersecurity Frameworks (NIST CSF, SP 800-53)\n\n## CRITICAL DISTINCTIONS\n\n### WORKING WITH AUDITORS VS BEING AN AUDITOR\nDO NOT CONFUSE:\n- Being audited vs. Performing audits\n- Working with auditors vs. Being an auditor\n- Getting certified vs. Providing certification\n- Having external auditors vs. Being an external auditor\n\nThese phrases indicate a company USES audit services (NOT a competitor):\n- \"Works with external auditors\"\n- \"Validated by third-party auditors\"\n- \"Certified by independent auditors\"\n- \"Undergoes regular audits\"\n- \"Partners with compliance auditors\"\n- \"Verified by external assessors\"\n\nThese phrases indicate a company PROVIDES audit services (IS a competitor):\n- \"We perform audits\"\n- \"Our audit services include\"\n- \"We certify other companies\"\n- \"Our auditors assess\"\n- \"We provide compliance verification\"\n\n### HEALTHCARE TECHNOLOGY VENDORS\nDO NOT CLASSIFY AS COMPETITOR WHEN THEY:\n1. List compliance standards they meet\n2. Mention adhering to multiple frameworks\n3. Describe security certifications they've achieved\n4. Market their solutions as compliant\n5. Work with external auditors\n6. Maintain internal compliance programs\n\nCommon statements that do NOT indicate competitive services:\n- \"Our platform is HIPAA, HITRUST, and SOC 2 compliant\"\n- \"We meet NIST 800-53 requirements\"\n- \"Platform certified for multiple compliance frameworks\"\n- \"Solutions built to healthcare compliance standards\"\n- \"Adherence to HITRUST, SOC-2, and HIPAA standards\"\n- \"Validated by external auditors\"\n\n# PUBLIC ACCOUNTING FIRMS - SPECIAL RULES\n\n## AUTOMATIC COMPETITOR CLASSIFICATION\nPublic accounting and professional services firms that list \"Audit\" services are typically competitors, including:\n- Big 4 firms (Deloitte, EY, KPMG, PwC)\n- National accounting firms\n- Regional accounting firms that provide audit services\n- Professional services firms with audit practices\n\n## KEY INDICATORS OF COMPETITION\nWhen a company is a public accounting or professional services firm AND lists any of:\n- \"Audit services\"\n- \"Attestation services\"\n- \"Assurance services\"\n- \"Advisory services\" (in conjunction with audit)\n\nThey should be classified as competitors because these firms typically provide:\n- SOC audits\n- Compliance certifications\n- IT audit services\n- Security attestations\n\n## EXAMPLES\n\n### Example: Large Accounting Firm\n```\nCompany: Major Accounting LLP\nServices: Audit, Tax, Advisory, Consulting\n\nis_partner: FALSE\nis_competitor: TRUE\ncompetitor_reasoning: As a public accounting firm providing audit services, they compete with I.S. Partners in providing SOC audits and compliance certifications.\n```\n\n### Example: Regional Accounting Firm\n```\nCompany: Regional Accounting Group\nServices: Tax, Business Advisory, Wealth Management\n(Note: No audit services listed)\n\nis_partner: FALSE\nis_competitor: FALSE\npartner_reasoning: While an accounting firm, they do not provide audit services and therefore do not compete with I.S. Partners.\n```\n### FINANCIAL INSTITUTIONS - SPECIAL RULES\nFinancial institutions (banks, investment firms, etc.) require special attention:\n\nDO NOT CONFUSE:\n- Internal compliance activities vs. Providing compliance services\n- Having a compliance department vs. Offering compliance audits\n- Risk management operations vs. Compliance certification services\n- Regulatory reporting vs. Compliance auditing\n- Sanctions screening vs. Compliance assessments\n- Internal audit functions vs. External audit services\n\nCommon financial institution activities that are NOT competitive services:\n- Internal compliance programs\n- Risk management departments\n- Regulatory reporting\n- Sanctions screening\n- KYC/AML processes\n- Internal audits\n- Vendor risk assessments\n- Regulatory filings\n- Due diligence reviews\n\n### MANUFACTURING COMPANIES - SPECIAL RULES\nManufacturing companies, including:\n- Medical device manufacturers\n- Healthcare equipment producers\n- Hardware manufacturers\n- Pharmaceutical companies\n- Industrial equipment makers\n\nAre automatically NOT competitors unless there is explicit evidence they provide compliance audit services to other companies. Their status as manufacturers in regulated industries does NOT make them competitors.\n\n### BEING COMPLIANT VS. PROVIDING COMPLIANCE SERVICES\nA company stating they are compliant with standards is COMPLETELY DIFFERENT from providing compliance services.\n\nDO NOT CONFUSE:\n- Having certifications vs. Providing certifications\n- Being compliant vs. Making others compliant\n- Meeting standards vs. Auditing standards\n- Supporting compliance vs. Auditing compliance\n- Implementing compliant solutions vs. Certifying compliance\n- Manufacturing compliant products vs. Providing compliance audits\n\n### COMPLIANCE KEYWORDS ANALYSIS\n\nTHESE WORDS/PHRASES ALONE DO NOT INDICATE A COMPETITOR:\n- \"Compliant with...\"\n- \"Certified by...\"\n- \"Meets requirements of...\"\n- \"Built to standards of...\"\n- \"Adheres to...\"\n- \"In compliance with...\"\n- \"Achieved certification in...\"\n- \"Compliance support\"\n- \"Compliance implementation\"\n- \"Compliance preparation\"\n- \"Helps achieve compliance\"\n- \"FDA-compliant products\"\n- \"Regulated medical devices\"\n- \"HIPAA-compliant solutions\"\n- \"Internal audit team\"\n- \"Compliance department\"\n- \"Risk management\"\n- \"Regulatory reporting\"\n- \"Sanctions screening\"\n- \"KYC/AML processes\"\n- \"Due diligence\"\n- \"Vendor assessment\"\n- \"Regulatory compliance\"\n- \"Banking compliance\"\n\nTHESE WORDS/PHRASES INDICATE A COMPETITOR:\n- \"We certify...\"\n- \"We audit...\"\n- \"We assess compliance...\"\n- \"Provide certification services...\"\n- \"Compliance auditing...\"\n- \"We validate compliance...\"\n- \"Attestation services...\"\n- \"We verify compliance...\"\n- \"Compliance verification services\"\n- \"We perform compliance audits\"\n- \"Certification authority\"\n- \"Authorized compliance assessor\"\n\n## CLASSIFICATION RULES\n\n### IMMEDIATE DISQUALIFIERS\n- Any organization with .edu or .gov domain  DO NOT CLASSIFY\n- Any organization providing IT compliance audits or certifications  COMPETITOR\n- Organizations with no meaningful connection to IT, security, or compliance  NOT PARTNER\n- Manufacturing companies without audit services  NOT COMPETITOR\n- Financial institutions with only internal compliance  NOT COMPETITOR\n\n### COMPETITOR IDENTIFICATION\nA company is ONLY a competitor if they EXPLICITLY list services that:\n- Provide compliance audit/certification services to other companies\n- Market themselves as compliance auditors\n- Offer formal IT compliance assessments to external clients\n\nMust see these services clearly listed - no assumptions or hypotheticals.\n\n### PARTNER IDENTIFICATION\nA company must meet at least ONE of these criteria to be classified as a PARTNER:\n\n1. Direct Service Complementarity:\n   - Provides compliance readiness or preparation services\n   - Offers cybersecurity implementation or consulting\n   - Provides GRC software platforms\n   - Delivers IT security services or solutions\n   - Implements industry-specific compliant solutions\n\n2. Strong Industry Alignment:\n   - Focus on IT security or risk management\n   - Specializes in regulatory technology\n   - Provides managed security services\n   - Offers data protection solutions\n   - Delivers regulated industry solutions\n\n3. Clear Value Chain Connection:\n   - Services naturally lead to compliance needs\n   - Works with clients likely to need compliance audits\n   - Provides solutions that require compliance validation\n   - Offers complementary risk management services\n\nNOT sufficient for partnership alone:\n- Simply being in the technology sector\n- Having achieved compliance certifications\n- Occasional overlap in client base\n- Basic IT services without security focus\n- Hardware manufacturing, even for regulated industries\n- Being subject to compliance requirements\n- Having internal compliance programs\n- Performing internal audits\n\n## EXAMPLE ANALYSES\n\n### Example 1: Healthcare Technology Provider\n```\nServices Listed:\n- Real-Time Care Intelligence\n- Care coordination\n- Risk reduction\n- Prescription monitoring\n- Behavioral Health\n- Crisis Management\n\nis_partner: TRUE\nis_competitor: FALSE\npartner_reasoning: Provides healthcare technology solutions that require compliance validation. No audit services explicitly listed.\ncompetitor_reasoning: N/A\n```\n\n### Example 2: Clear Competitor\n```\nServices Listed:\n- SOC 2 Audit Services\n- HIPAA Compliance Certification\n- ISO 27001 Assessments\n\nis_partner: FALSE\nis_competitor: TRUE\npartner_reasoning: N/A\ncompetitor_reasoning: Explicitly lists compliance audit and certification services that compete with I.S. Partners' offerings.\n```\n\n### Example 3: Medical Device Manufacturer\n```\nCompany: MedDevice Corp\nServices: Medical device manufacturing, FDA-compliant products, healthcare equipment\n\nis_partner: FALSE\nis_competitor: FALSE\npartner_reasoning: Manufacturing medical devices, even in a regulated industry, does not create sufficient service synergy for partnership.\ncompetitor_reasoning: N/A\n```\n\n### Example 4: Large Financial Institution\n```\nCompany: Global Bank Corp\nServices: Commercial banking, investment services, risk management, internal compliance\n\nis_partner: FALSE\nis_competitor: FALSE\npartner_reasoning: While operating in financial services with robust internal compliance, they do not provide complementary services that create partnership opportunities. Their focus is on banking services, not IT or security solutions.\ncompetitor_reasoning: N/A\n```\n\n### Example 5: Financial Technology Provider\n```\nCompany: FinTech Solutions Inc\nServices: Payment processing, banking software, regulatory reporting tools\n\nis_partner: TRUE\nis_competitor: FALSE\npartner_reasoning: Provides financial technology solutions that require compliance validation and creates natural partnership opportunities through clients needing compliance audits.\ncompetitor_reasoning: N/A\n```\n\n## OUTPUT FORMAT\nFor each company analyzed, provide these specific fields:\n\nis_partner: [TRUE/FALSE]\nis_competitor: [TRUE/FALSE]\npartner_reasoning: [Detailed explanation if marked as partner, or \"N/A\" if not]\ncompetitor_reasoning: [Detailed explanation if marked as competitor, or \"N/A\" if not]\n","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[14280,640],"id":"345f8795-8646-489d-8e76-03bb253367c7","name":"Competitor/Partner Classification","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[14260,860],"id":"d7cf628a-3d07-4df5-a933-7c573ebb629a","name":"Competitor/Partner Classification Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"is_partner\": \"TRUE\",\n\t\"is_competitor\": \"FALSE\",\n    \"partner_reasoning\":\"\",\n    \"competitor_reasoning\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[14480,860],"id":"ae1387be-253f-4645-a3aa-bee469e09392","name":"Competitor/Partner Parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Combining Contact non-public information').item.json\nconst object = {\n  is_partner: $json?.output?.is_partner || \"\",\n  is_competitor: $json?.output?.is_competitor || \"\",\n  partner_reasoning: $json?.output?.partner_reasoning || \"\",\n  competitor_reasoning: $json?.output?.competitor_reasoning || \"\"\n}\n\noriginal.company_info.competitor_partner_classification = object\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[14640,640],"id":"32af7565-a124-4122-ab6e-01cbad3b17e0","name":"Adding Competitor Partner Classification"},{"parameters":{"promptType":"define","text":"=# AUTHORIZED FRAMEWORKS\nOnly these exact frameworks and certifications are authorized.  Any framework or certification not on this list is not authorized.\n\n* SOC 1\n* SOC 2\n* SOC 3\n* ISO 27001\n* HIPAA\n* PCI DSS\n* HITRUST\n* NIST AI RMF\n* HITRUST AI RMF\n* NIST AI Risk Management\n* NIST Cybersecurity for IoT\n* ISO 42001\n* ISO 50001\n* CMMC\n* CCPA\n* GDPR\n* GLBA\n* FISMA\n* MAR/SOX\n* MARS-E\n* NERC\n* NYDFS\n* NIST CSF\n* NIST SP 800-53\n# FRAMEWORK ANALYSIS \n{{ $json.company_info.framework_review.analysis_summary }}\n\n\n#TASK \nLet's extract the authorized frameworks from the analysis.  Your goal is to provide a response that tells us what authorized frameworks or certifications a company has based ONLY on the analysis provided.   Do not do any additional research.\n# OUTPUT\n- Your output only consists of the authorized frameworks.  \n- Use a comma to seperate multiple authorized frameworks.  \n- Do not include an explanation, context or any additional text. \n- If there are no authorized frameworks found, your response will be \"Not Found\"\n## OUTPUT EXAMPLE\n- For example, if the analysis includes ISO 9001 and ISO 45001, your output will be:  Not Found. \n- For example, if the analysis includes ISO 27001, ISO 17100, SOC 1, SOC 2, ISO 13485 and HITRUST, your response will be: ISO 27001, SOC 1, SOC 2, HITRUST\n- If there are no authorized frameworks in the analysis, your output will be: Not Found","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[17980,640],"id":"82a9ae2a-19f4-4380-a7db-c619835ad368","name":"Confirmed Frameworks (Primary)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[17940,860],"id":"22aafcb6-52f4-4658-a04a-8a16f68f8ccf","name":"OpenAI Chat Model - Confirmed Frameworks (Primary))","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Combining Framework Review').item.json\nconst confirmed_frameworks_primary = $json?.output || \"\"\n\noriginal.company_info.framework_review.confirmed_frameworks_primary = confirmed_frameworks_primary\n\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[18340,640],"id":"ece8ab1b-2ff9-40cd-88bd-78f347f7118c","name":"Adding Confirmed Frameworks (Primary)"},{"parameters":{"promptType":"define","text":"=# Framework Extraction Analysis\n\n### ROLE\nYou are a framework and certification extraction specialist who identifies any and all frameworks, certifications, or compliance standards that are not in our authorized list.\n\n### AUTHORIZED FRAMEWORKS\nOnly these exact frameworks and certifications are authorized. Any framework or certification not on this list is not authorized:\n\n* SOC 1\n* SOC 2\n* SOC 3\n* ISO 27001\n* HIPAA\n* PCI DSS\n* HITRUST\n* NIST AI RMF\n* HITRUST AI RMF\n* NIST AI Risk Management\n* NIST Cybersecurity for IoT\n* ISO 42001\n* ISO 50001\n* CMMC\n* CCPA\n* GDPR\n* GLBA\n* FISMA\n* MAR/SOX\n* MARS-E\n* NERC\n* NYDFS\n* NIST CSF\n* NIST SP 800-53\n\n### EXCLUSION RULES\nDo NOT extract or include in your output any mention of authorized frameworks, even when they appear as:\n1. Service offerings (e.g., \"HIPAA compliance services\")\n2. Compliance statements (e.g., \"HIPAA compliant\", \"PCI DSS compliance\")\n3. Product features (e.g., \"HIPAA-ready\", \"PCI DSS certified\")\n4. Consulting services (e.g., \"HIPAA consulting\", \"PCI consulting\")\n5. Implementation services (e.g., \"SOC 2 implementation\")\n6. With variations in spacing or punctuation\n7. Combined with other terms\n8. In any other context or variation\n\n### EXTRACTION RULES\n1. Extract any framework, certification, or compliance standard that:\n   - Is completely unrelated to anything in the authorized list\n   - Is an industry-specific standard not in the authorized list\n   - Is a facility or process certification\n   - Is a quality management standard not in the authorized list\n   - Contains terms like \"certified\", \"compliant\", \"compliance\", \"standards\" but is unrelated to authorized frameworks\n\n2. Include frameworks even when they appear as:\n   - Part of a larger description\n   - With or without version numbers\n   - With varying capitalization\n   - With or without spaces/hyphens\n\n### INPUT\nAnalysis Summary: {{ $json.company_info.framework_review.analysis_summary }}\nConfirmed Frameworks: {{ $json.company_info.framework_review.confirmed_frameworks }}\n\n\n### TASK\n1. Review all input fields for mentions of frameworks, certifications, and compliance standards\n2. Identify only those that are completely unrelated to the authorized frameworks list\n3. Exclude any mention of authorized frameworks, regardless of context or variation\n4. Extract the exact wording used for unauthorized frameworks\n\n### OUTPUT FORMAT\n- List unauthorized frameworks separated by commas\n- Use exact wording from the input\n- Do not include explanations or context\n- Respond with \"Not Found\" if no unauthorized frameworks are mentioned\n- Do not include variations of authorized frameworks\n\n### EXAMPLES\nInput: \"They maintain ISO Certified Cleanroom standards and follow cGMP requirements. They also offer HIPAA compliance services and PCI DSS consulting.\"\nOutput: ISO Certified Cleanroom, cGMP\n\nInput: \"The company provides HIPAA compliance services and PCI DSS implementation assistance.\"\nOutput: Not Found\n\nInput: \"Their facility is FDA registered and follows ISO 9001:2015 quality standards.\"\nOutput: FDA registered, ISO 9001:2015\n\n### OUTPUT\n[Your findings here]","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[18560,640],"id":"edabbd91-5d38-4ac8-ad05-be035275864b","name":"Confirmed Frameworks (Secondary)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[18540,860],"id":"3d94e3a5-7179-401a-a0c5-a63aa4f57420","name":"OpenAI Chat Model - Confirmed Frameworks (Secondary)","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Confirmed Frameworks (Primary)').item.json\nconst confirmed_frameworks_secondary = $json?.output || \"\"\n\noriginal.company_info.framework_review.confirmed_frameworks_secondary = confirmed_frameworks_secondary\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[18920,640],"id":"a923330f-12be-4be1-acfe-be16c35b8cdc","name":"Adding Confirmed Frameworks (Secondary)"},{"parameters":{"content":"# Competitor / Partner Classification\n","height":660,"width":940},"type":"n8n-nodes-base.stickyNote","position":[14080,380],"typeVersion":1,"id":"b20a9e98-b69f-4b87-a98b-a3fbf8815efe","name":"Sticky Note5"},{"parameters":{"content":"# AUDITOR / GRC TOOLS\n","height":660,"width":680},"type":"n8n-nodes-base.stickyNote","position":[16480,380],"typeVersion":1,"id":"07fd42ba-0189-41cd-b1db-5355d003c128","name":"Sticky Note7"},{"parameters":{"content":"# Find Compliance Frameworks\n\n","height":660,"width":2900},"type":"n8n-nodes-base.stickyNote","position":[17180,380],"typeVersion":1,"id":"435c3a35-5780-4644-ace6-f253b8e7ff5f","name":"Sticky Note11"},{"parameters":{"content":"# Company Name Normalized\n","height":660,"width":640},"type":"n8n-nodes-base.stickyNote","position":[6960,380],"typeVersion":1,"id":"89e1ea3e-5768-4f30-9dfc-f284adf3f43e","name":"Sticky Note15"},{"parameters":{"promptType":"define","text":"=You are tasked with normalizing a company name based on the following rules:\n1. **Preprocess the Name:**\n   - Strip any leading or trailing spaces from the company name.\n2. **Remove Legal Designations:**\n   - Remove any legal designations at the end or beginning of the company name, such as:\n     - Inc, LLC, Ltd, Limited, Corp, Corporation, Co, Company, LLP, LP, PLC, PC, PLLC, PA.\n     - This also applies to legal designations in any form with or without punctuation (e.g., Inc., Inc, etc.).\n3. **Remove Generic Business Descriptors:**\n   - Remove any generic business terms, especially if they appear at the end of the company name:\n     - Examples: Group, Holdings, Media, Solutions, Services, Systems, Technologies, International, Associates, Partners, Enterprises, Industries, Global, Network, Investment, Ventures, Consulting, Logistics, Management.\n\n4. **Simplify Educational Institutions:**\n   - If the company name contains keywords like \"university\", \"college\", \"institute\", or \"school\", simplify the name to include only the core institution name and the relevant keyword.\n   - Example: \"Harvard University School of Engineering\" becomes \"Harvard University\".\n\n5. **Handle Religious Organizations:**\n   - If the name contains religious keywords like \"church\", \"temple\", \"mosque\", \"synagogue\", \"ministry\", or \"chapel\", truncate the name to include only the first six words.\n   - Example: \"First Baptist Church of the Holy Savior\" becomes \"First Baptist Church\".\n\n6. **Handle Government Departments:**\n   - If the company name includes government-related keywords like \"department\", \"agency\", \"bureau\", \"office\", or \"administration\", truncate the name to the first eight words.\n   - Example: \"Department of Health and Human Services Office of Public Affairs\" becomes \"Department of Health and Human Services\".\n\n7. **Normalize Capitalization:**\n   - Ensure proper capitalization for each word in the company name.\n   - Maintain full uppercase for known abbreviations or acronyms like \"IBM\", \"NYC\", \"USA\", and \"UK\".\n   - For other words, capitalize the first letter unless the word is already in uppercase and is not an acronym.\n\nReturn the normalized company name following these rules.\n<Company Name>\n {{ $json.company_info.name }}","options":{"systemMessage":"You are an AI tasked with normalizing company names. Your job is to apply a set of rules to clean and standardize company names.  These rules involve removing legal designations, unnecessary business descriptors, handling special cases for educational institutions, religious organizations, and government departments, and ensuring proper capitalization. Always return the company name in a clean, standardized format according to the provided rules.\n\nIMPORTANT: Do not explain your response.  Your output will be the normalized company name. "}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[7020,700],"id":"4edbcd5a-da01-422c-bfa8-466ace48e883","name":"Company Name Normalized","alwaysOutputData":true},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[7020,900],"id":"b0ab8500-a84e-4b18-8c61-d8508364ae3c","name":"OpenAI Chat Model - Company Name Normalized","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Prospect final structure').item.json\nconst normalized_company_name = $json.output || \"\"\noriginal.company_info.name_normalized = normalized_company_name\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[7380,700],"id":"dc3a3fee-85f6-44cb-a4a3-ce4cc48adecb","name":"Adding Normalized Company Name"},{"parameters":{"content":"# Job Title Normalized","height":660,"width":640},"type":"n8n-nodes-base.stickyNote","position":[7620,380],"typeVersion":1,"id":"30f4bce9-7802-4bc4-80a4-7b86dbb26f67","name":"Sticky Note16"},{"parameters":{"promptType":"define","text":"=You are tasked with normalizing a job title based on the following rules:\n\n1. **Remove Trailing Phrases:**\n   - If the job title has trailing phrases starting with prepositions like \"at\", \"for\", \"with\", \"by\", or \"in\", remove everything starting from these prepositions.\n   - Example: \"Marketing Manager at Acme Corp\" becomes \"Marketing Manager\".\n\n2. **Extract Main Area of Responsibility:**\n   - If the job title includes terms related to areas of responsibility like \"Cloud\", \"Security\", \"Marketing\", or \"Finance\", extract and retain the key term. Use the first two words if no key term is found.\n   - Example: \"Director of Cloud Infrastructure\" becomes \"Director of Cloud\".\n\n3. **Handle Multiple Titles:**\n   - If the job title includes multiple roles or titles separated by \"and\" or \"&\", retain only the first role.\n   - Example: \"Head of Sales and Marketing\" becomes \"Head of Sales\".\n\n4. **Remove Common Prefixes:**\n   - Remove common prefixes such as \"Senior\", \"Junior\", \"Lead\", \"Principal\", \"Global\", \"Associate\", \"Assistant\".\n   - Example: \"Senior Product Manager\" becomes \"Product Manager\".\n\n5. **Simplify Titles:**\n   - Replace full titles with their commonly abbreviated versions:\n     - \"Chief Executive Officer\" becomes \"CEO\".\n     - \"Chief Technology Officer\" becomes \"CTO\".\n     - \"Chief Financial Officer\" becomes \"CFO\".\n     - \"Chief Operating Officer\" becomes \"COO\".\n     - \"Chief Marketing Officer\" becomes \"CMO\".\n     - \"Chief Information Officer\" becomes \"CIO\".\n     - \"Vice President\" becomes \"VP\".\n     - Example: \"Chief Financial Officer\" becomes \"CFO\".\n\n6. **Limit Word Count:**\n   - Limit the job title to a maximum of five words to keep it concise.\n   - Example: \"Senior Vice President of Global Marketing\" becomes \"Vice President of Marketing\".\n\n7. **Remove Redundant Words:**\n   - Remove standalone redundant words such as \"The\", \"I&D\", \"Licensed\", or \"Va\".\n   - Example: \"Licensed Manager\" becomes \"Manager\".\n\n8. **Remove Taglines:**\n   - If the job title includes promotional or tagline-like phrases such as \"Helping\", \"Building\", \"Creating\", \"Providing\", discard the entire title.\n   - Example: \"Helping Companies Grow\" becomes an empty string.\n\n9. **Normalize Capitalization:**\n   - Convert the job title to title case (capitalize the first letter of each word), while keeping certain abbreviations in uppercase (e.g., CEO, CTO).\n   - Example: \"senior engineer at ibm\" becomes \"Engineer at IBM\".\n<Job Title to Normalize>\n {{ $json.user_info.role }}\n\n\n\n<output>\nRespond with a JSON object.  The key fields will correspond to an output.  Format the JSON output like the example.  Only use multiple values in an array when your output has multiple values related to a key. The value can be a word, sentence or any string and it's capitalization should remain as you intended the output to be.  \nExample: \n{\n\"work_title_normalized\": \"value\"\n\n}\n","hasOutputParser":true,"options":{"systemMessage":"You are an AI tasked with normalizing job titles. Your job is to apply a set of rules to clean and standardize job titles. These rules involve removing trailing phrases, simplifying titles, handling multiple roles, removing unnecessary prefixes, and normalizing capitalization. Always return the job title in a clean, standardized format according to the provided rules."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[7740,700],"id":"501714c7-b566-4d2c-ab3d-152ad50ec43a","name":"Job Title Normalized","alwaysOutputData":true},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[7740,900],"id":"13b4a323-a4d1-40a0-90af-d49e56c55b80","name":"OpenAI Chat Model - Job Title Normalized","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"work_title_normalized\": \"IT Admin\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[7960,900],"id":"1ccf0bca-f02c-4116-b3e7-81213b833510","name":"Structured Output Parser - Job Title Normalized"},{"parameters":{"jsCode":"let original = $('Adding Normalized Company Name').first().json\nconst normalized_job_title = $input.first().json?.output?.work_title_normalized || \"\"\n\noriginal.user_info.role_normalized = normalized_job_title\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[8100,700],"id":"eab16252-1c3f-4591-8e38-0ca32ae9fb02","name":"Adding Normalized Job Title"},{"parameters":{"content":"# Personalization","height":660,"width":7620},"type":"n8n-nodes-base.stickyNote","position":[23360,380],"typeVersion":1,"id":"108247ca-f92b-4731-ab1c-41c1d5496d40","name":"Sticky Note13"},{"parameters":{"promptType":"define","text":"=# Task\nWrite the opening line of a cold email to a prospect. This line must:\n- Show you've done your homework about their company\n- Give a clear reason why you're reaching out now\n- Sound like a real person having a conversation\n- Be short and written at a 4th grade level\n\n# Input\n\n## About I.S. Partners\n### Location:  Horsham, PA (Outside of Philadelphia)\n### Description: I.S. Partners is a premier IT Compliance and Cybersecurity firm dedicated to helping companies secure their networks and data while achieving industry and government regulatory compliance and certification. With nearly two decades of experience, we specialize in providing comprehensive solutions that meet regulatory requirements and enhance our clients' overall security posture.\n### Services: \nWe offer a wide range of services and solutions across various frameworks:\n\nSOC 1, SOC 2, and SOC 3\nSOC for Cybersecurity\nHIPAA/HITECH and HITRUST\nPCI DSS\nISO 27001\nISO 42001\nISO 50001\nCMMC\nCCPA and GDPR\nGLBA\nFISMA\nMAR/SOX\nMARS-E\nNERC\nNYDFS\n\nNIST AI RMF\nISO 42001\nHITRUST AI RMF\n\nNIST CSF\nNIST SP 800-53\nNIST Cybersecurity for IoT\nNIST AI Risk Management\n\nPenetration Testing\nRisk Assessments\n\nInternal Audit\nIT Compliance & Certification\nAgreed Upon Procedures\n\n## Prospect Info\n\n### About: \n- Company name: {{ $json.company_info.name_normalized }}\n- Industry: {{ $json.company_info.industry }}\n- Specialities: {{ $json.company_info.specialities }}\n- What they do: {{ $json.company_info.description }}\n- Location: {{ $json.company_info.location.city }}{{ $json.company_info.location.state }}\n- Employees: {{ $json.company_info.size }}\n- Latest funding round: {{ $json.company_info.funding.latest_round_year }}\n- Latest funding amount: {{ $json.company_info.funding.latest_round_amount }}\n### Positive News (If any)\n- Type of news: {{ $json.company_info.positive_article.category }}\n- Recent positive news: {{ $json.company_info.positive_article.summary }}\n- Positive impact on company: {{ $json.company_info.positive_article.outcomes }}\n- Local impact on community: {{ $json.company_info.positive_article.local_impact }}\n- Impact on employees: {{ $json.company_info.positive_article.employee_reaction }}\n\n\n### Compliance Frameworks\n- Current compliance frameworks (if any): {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n\n# Writing Rules\n- Write in a conversational, casual yet direct tone.\n- Write at a 4th grade reading level using simple words and a short sentences.\n- Keep it short and punchy (1 sentence max)\n- Be genuinely interested, not fake-excited\n- OK to use casual writing (abbreviations, dashes, etc)\n- Do not use jargons or colorful adjectives and verbs\n- No adjectives unless absolutely needed\n- Mimic a real-life human conversation\n\n# Response Format\nChoose the appropriate template based on available information:\n\n## Scenario 1: Has Positive News\nTemplate:\n\"I was researching {{ $json.company_info.name }}  and saw [[news topic]] - [[quick genuine reaction]]\"\n\nQuick genuine reactions should:\n- short, direct and to the point\n- Connect to business impact (\"this will help you...\")\n- Stay grounded and realistic\n- Avoid overused phrases like \"congratulations\" or \"amazing\"\n- Use casual language like \"love seeing\" or \"I love this\"\n- You can say that the news relates to you, along with why, if it makes sense\n- Adjust tone based on news age (\"just saw\" for recent, \"was reading about\" for older)\n- written at a 4th grade level using simple words\n\nExamples by industry:\n- Healthcare: \"...helping doctors make faster decisions - that's literally life saving work - love it!\"\n- Fintech: \"...making investing easier for everyone - I'm not the \"saviest\" investor so that resonates with me\"\n- Tech: \"...launching that new AI platform - love seeing local companies innovate like this!\"\n\n## Scenario 2: Has Frameworks (No News)\nTemplate:\n\"I noticed {{ $json.company_info.name }} already has [[framework(s)]] in place - [[quick framework comment]]\"\n\nFramework comments should:\n- Connect to their business type\n- Acknowledge it as a smart decision\n- Mention multiple frameworks only if relevant\n- Stay casual and genuine\n\nExamples:\n- Single framework: \"noticed you've got SOC 2 in place - smart move.\"\n- Multiple frameworks: \"saw you're running SOC 2 + ISO together - I know it's difficult and time consuming mapping those controls.\" \n\n## Scenario 3: No News, No Frameworks\nTemplate:\n\"I noticed {{ $json.company_info.name }} is [[what they do]] in [[location]] - [[quick impact comment]]\"\n\nImpact comments should:\n- Focus on their core business value\n- Acknowledge real-world impact\n- Stay genuine and grounded\n- Connect to local community if relevant\n\nExamples:\n- Healthcare: \"noticed you're helping seniors live alone at home and that hits close to home for me.\"\n- Tech: \"saw how you're making AI accessible for small businesses - that's clutch!\"\n\n# Output\nProvide a single opening line following the appropriate template above. Do not explain your choice or provide multiple options.\n\n# IMPORTANT\n- Write at a 4th grade level using simple words and short sentences \n- Mimic a humans conversational tone\n\n","options":{"systemMessage":"You are a compliance sales professional who helps companies manage their IT compliance frameworks. You write in a casual, friendly way that makes complex compliance topics easy to understand. Your goal is to start genuine conversations, not to push sales.\n\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[23500,620],"id":"85b19f65-4d79-4e4f-9196-fd72d3093534","name":"Opening Sentence","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[23480,840],"id":"96c91c5d-ef1e-4c79-9ac7-ab8a0a993cdf","name":"OpenAI Chat Model - Opening Sentence","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"promptType":"define","text":"=#COMPANY INFO\nThis is the name of the company: {{ $json.company_info.name }}\n# TASK\nScrape the web to determine:\n1.  How much a company raised from from all its rounds of funding. \n2. The year of the latest round of funding\n3. The amount of the latest round of funding\n# IMPORTANT\nIf you can find the information, only output the amount they raised, the year of the latest round of funding and the amount of the latest round of funding. If you cannot determine any of the information, output Not found.","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[11300,700],"id":"68b986c4-0c52-4329-afdb-fd7426b9ee31","name":"Funding","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[11280,920],"id":"19bae70a-672e-4dd3-8e7d-182fd8ab983e","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"result\": \"\",\n\t\"latest_round_year\": \"\",\n    \"latest_round_amount\": \"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[11500,900],"id":"ab20cc21-15f2-4075-bd96-1c458cda1af7","name":"Structured Output Parser - Company Funding"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original =  $('Combining Company info. data').item.json\nconst funding = {\n  latest_round_year: $json?.output?.latest_round_year || \"\",\n  latest_round_amount: $json?.output?.latest_round_amount || \"\",\n  result: $json?.output?.result || \"\"\n}\noriginal.company_info.funding = funding\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[11660,700],"id":"a16d5150-e3eb-4330-82fc-d4c22d9c616c","name":"Adding Funding To Company"},{"parameters":{"promptType":"define","text":"=Scrape the web to find a recent positive news article for the company {{ $json.company_info.name }}(domain:{{ $json.company_info.domain }}).  The article must be no older than January 1st 2025.   If you find any article with a positive headline about this company, output only the url to the article. \n\nIMPORTANT ! - If not article URL was found return emtpy strings as it's URL.\n\n\n--- Output Structure ---\nYour Output should look like this:\n{\n\t\"article_url\": \"https://www.ispartnersllc.com/soc-audits/soc-1-services/\"\n}","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[11880,700],"id":"e4ed5a99-0bec-44b6-b035-85d75763f3db","name":"Company Positive Article","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[11860,900],"id":"498b74e5-fa23-493c-b6b5-bad68f5235ab","name":"OpenAI Chat Model - Company Positive Article","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"article_url\": \"https://www.ispartnersllc.com/soc-audits/soc-1-services/\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[12100,900],"id":"ca9b6bcc-a76c-4f8d-843a-27003f5c0590","name":"Structured Output Parser - Positive Article URL"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Funding To Company').item.json\noriginal.company_info.positive_article = {}\noriginal.company_info.positive_article.url = $json.output.article_url || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[12240,700],"id":"c7916fd9-3d07-4302-9f11-ee7042269b65","name":"Adding positive article URL"},{"parameters":{"promptType":"define","text":"=# News Article\nArticle URL: {{ $json.company_info.positive_article.url ? $json.company_info.positive_article.url : \"Not Found\"  }}\n#Task\nLet's analyze the news article and provide the following:\n1. Short summary of the article\n2. Classify the news in a category so that our team understands the main focus.  For example, is the focus of the article about a merger, sale, investment, new hire, acquisition, good will, event, new service or product, etc. \n3. Let's celebrate this positive news by finding the three best possible outcomes this news or event can bring to {{ $json.company_info.name }}  .\n4. If you work at {{ $json.company_info.name }}, why should you be excited about this move?  \n5. Does this news or event impact the local community? If not, respond with \"No Impact\".  If so, write a sentence that describes the impact. \n\n#Output\n- If no article URL is provided use empty strings in your response \n- Your response will be written at 6th grade level.\n- Your response will be concise, accurate and direct.\n- Speed is not a priority - accuracy is.  Take your time and prioritize accuracy and quality over speed.\n- Your output should be structured as the following object:\n{\n\t\"article_summary\": \"\",\n\t\"article_category\":\"\",\n    \"article_outcomes\":\"\",\n    \"article_employee_reaction\" : \"\",\n    \"article_local_impact\":\"\"\n}\n- Example of the output object if no URL is provided:\n{\n\t\"article_summary\": \"\",\n\t\"article_category\":\"\",\n    \"article_outcomes\":\"\",\n    \"article_employee_reaction\" : \"\",\n    \"article_local_impact\":\"\"\n}\n-","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[12460,700],"id":"f66d15e0-8ed2-47f5-9ad4-4af000713747","name":"Positive Article Analysis","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[12440,900],"id":"58fe5db9-f57e-411a-8321-200efbef8098","name":"OpenAI Chat Model - Positive Article Analysis","credentials":{"openAiApi":{"id":"4CyHGYBXbo8hGpRr","name":"searchactions.com: outeredge.biz - Website Visitor Enrichment"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"article_summary\": \"\",\n\t\"article_category\":\"\",\n    \"article_outcomes\":\"\",\n    \"article_employee_reaction\" : \"\",\n    \"article_local_impact\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[12660,900],"id":"4c9038ce-4cfb-4e59-81c3-f11086d46a81","name":"Structured Output Parser - Positive Article Analysis"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original =  $('Adding positive article URL').item.json\noriginal.company_info.positive_article.summary = $json?.output?.article_summary || \"\"\noriginal.company_info.positive_article.category = $json?.output?.article_category || \"\"\noriginal.company_info.positive_article.outcomes = $json?.output?.article_outcomes || \"\"\noriginal.company_info.positive_article.employee_reaction = $json?.output?.article_employee_reaction || \"\"\noriginal.company_info.positive_article.local_impact =$json?.output?.article_local_impact || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[12820,700],"id":"99930967-4801-446b-b3f5-a67bfe9aa51f","name":"Adding Article Analysis"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Prospect Report').item.json\noriginal.personalization = {}\noriginal.personalization.sentence_opening = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[23860,620],"id":"524e5bd3-28b1-43ec-ace4-74a8a5b7c688","name":"Adding Opening Sentence"},{"parameters":{"promptType":"define","text":"=# Goal \nYou are writing part of a sales email to a prospect.  The goal of this task is to write a two sentence bridge that connects the existing opening line of the email to a specific compliance problem and the pain that problem causes the business.  The two  sentences will be short and direct, with a clear cause and effect between them.\n\n# Writing Guidelines\n\n## Core Style Elements\n* Write at a 4th grade reading level\n* Use natural, conversational language\n* Keep sentences short and direct\n* Use casual abbreviations (b/c, w/, +)\n* Be confident and precise\n* OK to use exclamation points and occasional caps for emphasis\n\n## Language Do's and Don'ts\n\n### DO:\n* Use specific industry terms\n* If the specific frameworks that have are mentioned in the opening line, don't mention them all by name again.  For example, if the opening line says \"I noticed [[company name]] already has SOC 1, SOC 2, PCI DSS...\" then your bridge will refer to these frameworks as \"these frameworks\". \n* Mention team size when relevant\n* Use confident language when speaking about facts (\"means\", \"requires\", \"brings\")\n* Use less confident language when you are unsure (\"could\", \"may\", \"possibly\")\n* Use neutral terms (\"spent on\", \"dedicated to\", \"needed for\")\n* Be specific (\"security requirements\", \"data protection controls\", \"SOC 2 controls\", etc)\n* Prioritize aligning the problem in sentence 1 with the pain it causes in sentence 2.  There must be a direct connection.  This is critical.\n* If the opening line states that  {{ $json.company_info.name }} has ISO 27001 and SOC 2 frameworks, you will speak to the benefits of mapping ISO 27001 and SOC 2 controls:  Identify overlapping controls, removing redundant work and cutting down the time required from your team.   \n\n### DON'T:\n* Use corporate jargon or buzzwords\n* Show uncertainty (\"might\", \"could\", \"maybe\") UNLESS the fact you are stating is subjective, unknown or depends on other factors or variables that are not known.\n* Use negative language (\"lost to\", \"waste\", \"burden\")\n* Be vague (\"compliance rules\", \"extra requirements\")\n* Use emojis\n* Be overly enthusiastic\n* Use unnecessary adjectives\n* Use \"I think...\" statements\n* Make up information\n\n## Examples\n\nWRONG:\n```\n\"I'm reaching out b/c the new partnership might bring extra compliance rules your small team has to follow.\"\n- Uses uncertainty (\"might\")\n- Vague (\"extra compliance rules\")\n- Generic language\n```\n\nRIGHT:\n```\n\"I'm reaching out b/c partnering with institutional data providers means new security requirements to manage.\"\n- Confident (\"means\")\n- Specific (\"security requirements\")\n- Industry-relevant (\"institutional data\")\n```\n\n\n# Format\nTwo sentence bridge that follows this opening line in the email: {{ $json.personalization.sentence_opening }}\n# Required Input\n* First sentence (Personalized Opener): {{ $json.personalization.sentence_opening }}\n* Company name: {{ $json.company_info.name }}\n* Industry: {{ $json.company_info.industry }}\n* Company description/what they do: {{ $json.company_info.report }}\n* Frameworks they have (if known): {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n* News article summary (if exists): {{ $json.company_info.positive_article.summary }}\n* Type of news: {{ $json.company_info.positive_article.category }}\n* Impact on employees: {{ $json.company_info.positive_article.employee_reaction }}\n* Impact on community: {{ $json.company_info.positive_article.local_impact }}\n* Size of company: {{ $json.company_info.size }}\n* Latest round of funding: {{ $json.company_info.funding.latest_round_year }}\n* Amount of latest round of funding: {{ $json.company_info.funding.latest_round_amount }}\n\n# Pain Points to Include (Use One)\n* Time costs (specific hours per week/month/quarter)\n* Resource requirements (specific team members needed)\n* Revenue impact (delays in deals/partnerships)\n* Team burden (specific tasks/documentation requirements)\n* Compliance costs (audit preparation, certification costs)\n\n# Example Outputs By Scenario\n\n## Has News + No Framework:\n```\nFirst Line: \"I did some research on [[company name]] and saw an article about your acceptance of Medicaid - love seeing how you're making therapy more accessible.\"\n\nBridge Output:\nSentence one: \"I'm reaching out b/c accepting Medicaid means new rules to protect patient info.\"\nSentence two: \"This means your team could spend a ton of time each month just documenting HIPAA procedures and prepping for audits.\"\n```\n\n## Has News + Has Framework:\n```\nFirst Line: \"I saw [[company name]] acquired StarCite - great move!\"\n\nBridge Output:\nSentence one: \"I'm reaching out b/c mergers mean bringing different compliance programs together. \nSentence two: \"Most companies spend 3-4 months aligning their SOC 2 controls after an acquisition.\"\n```\n\n## No News + Has Framework:\n```\nFirst Line: \"I noticed you already have SOC 2 in place - smart move!\"\n\nBridge Output:\nSentence one: \"I'm reaching out b/c maintaining SOC 2 takes up a ton of dev time.\"\nSentence two: \"Most teams spend 40+ hours each quarter just gathering evidence and preparing for audits.\"\n```\n\n## No News + No Framework:\n```\nFirst Line: \"I noticed [[company name]] helps investment managers make better decisions - that's important work!\"\n\nBridge Output:\nSentence one: \"I'm reaching out b/c fintech companies need strong security to win those big enterprise clients. Sentence two: \"Most companies take 4-6 months to get compliant, which delays deals.\"\n```\n\n## IMPORTANT - Has ISO 27001 and SOC 2 Frameworks:\nIf the company has ISO 27001 and SOC 2 frameworks, you will ignore the news and use focus on the time and complexity required for mapping controls between these two frameworks.  \n```\nFirst Line: \"I did some research on [[company name]] and see you have SOC 2 & ISO 27001 - great move!\"\n\nBridge Output:\nSentence one: \"I'm reaching out because I know mapping controls between them is a pain - not to mention time consuming.   \nSentence two: \"Most companies spend several months aligning controls like incident response, access management, and encryption to meet both frameworks' requirements.\"\n```\n\n# Key Elements\n* Keep language simple and direct\n* Sound like a real person having a conversation\n* Connect directly to their news/situation or compliance framework(s) when possible\n* Include one specific, measurable pain point\n\n* Make the pain point relevant to their industry and size\n* Sentence 1 - Problem\n* Sentence 2 - Pain point directly related to problem\n* Sentence 1 and Sentence 2 MUST align.\n# Output\n- Write two sentences. \n-- Sentence one will be inserted into the field labeled \"bridge_sentence_1\".  \n-- Sentence two will be inserted into the field labeled \"bridge_sentence_2\".\n- Do not include an explanation, analysis or any other text except for the sentences\n# Important\n- Write at a 4th grade level using simple words and a friendly casual tone that mimics human conversation.\n- You write short, concise and direct sentences that are friendly, helpful and convincing without being false or untruthful\n- The bridge sentences you write will come after this opening line:  {{ $json.personalization.sentence_opening }}\n- The key is making sure the second sentence explains the specific pain of the problem mentioned in the first sentence. They should feel like natural cause and effect.\n\n\n","hasOutputParser":true,"options":{"systemMessage":"You are a friendly, helpful IT compliance consultant who works with companies to make their compliance programs better. You're knowledgeable but not pushy, and you genuinely care about helping companies handle compliance more efficiently. You talk like a real person having a casual business conversation - no corporate speak, no jargon, just straightforward talk.\n\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[24200,620],"id":"711bdaac-1d8a-452b-8de2-1b2d72f7c095","name":"Bridge","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[24180,840],"id":"ecfc003c-2483-4771-bfc7-2a06d856c9ac","name":"OpenAI Chat Model Bridge","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"bridge_sentence_1\": \"\",\n\t\"bridge_sentence_2\": \"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[24400,840],"id":"953415e5-1677-4012-9636-e557a18d52f3","name":"Structured Output Parser - Bridge"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Opening Sentence').item.json\noriginal.personalization.bridge_sentence_one = $json.output?.bridge_sentence_1 || \"\"\noriginal.personalization.bridge_sentence_two = $json.output?.bridge_sentence_2 || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[24560,620],"id":"03854a1f-a63e-4229-b4d7-5945525ddfa4","name":"Adding Bridge Sentence"},{"parameters":{"promptType":"define","text":"=## Context\nI.S. Partners (ispartnersllc.com) sales team is emailing prospects about helping save time and money on their IT Compliance needs.   This task is part of the process of writing personalized emails to a prospect.\n\n\n\n## Goal\nCreate one sentence that connects:\n1. The prospect's situation (news/changes)\n2. Their compliance frameworks\n3. The pain point mentioned\n4. How I.S. Partners helps\n5. Business benefit to them\n\n## Existing Email:\nHere is the email message you will be adding your sentence to.  Your sentence will be inserted into the [[HOW WE CAN HELP]] section.\n---\nHey there [[NAME]],\n\n{{ $json.personalization.sentence_opening }}\n{{ $('Bridge').item.json.output.bridge_sentence_1 }}\n{{ $('Bridge').item.json.output.bridge_sentence_2 }}\n\n[[HOW WE CAN HELP]]\nCheers!\n[[SENDER NAME]]\n---\n## Writing Style\n* Write at a 4th grade reading level\n* Use natural, conversational language\n* Keep sentences short and direct\n* Avoid corporate jargon and buzzwords\n* Use casual abbreviations (b/c, w/, +)\n* NO emojis or overly enthusiastic language\n* NO adjectives unless absolutely necessary\n* NO \"we think\" or \"we believe\" statements\n* Your sentence will convince the prospect that our solution is the best solution for their company.\n\n## Examples of Good Benefit Sentences:\n```\n\n\"We help companies cut documentation time up to 50% through smart automation and a dedicated team led by a senior auditor. \"\n\nFor companies with multiple frameworks:\n\"We help companies cut compliance time up to 50% by eliminating redundant controls using smart automation and our 20 years of experience.\"\n```\n\n## ABOUT PROSPECT COMPANY\n\n* Company name: {{ $json.company_info.name }}\n* Industry: {{ $json.company_info.industry }}\n* What they do: {{ $json.company_info.report }}\n* Current frameworks: {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n\n## TASK\nWrite the \"How we can help\" email sentence \n## OUTPUT\nYou will respond with one sentence and no additional context or explanation.  ","options":{"systemMessage":"You are a friendly, helpful IT compliance consultant writing a single sentence that shows how I.S. Partners can solve a prospect's specific compliance challenges."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[24880,620],"id":"611e173d-0b22-499c-be57-9658fc4c4cab","name":"How Can We Help - Sentence","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[24860,840],"id":"a1d8723e-9e8e-40c8-957e-ebbdb05c7853","name":"OpenAI Chat Model - How Can We Help ?","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Bridge Sentence').item.json\noriginal.personalization.how_can_we_help = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[25240,620],"id":"9315f13d-65a3-44ae-a693-5be3b5ae20a8","name":"Adding How Can We Help"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[25420,840],"id":"e83cfe8a-679e-4629-ac3f-c1145d7e2024","name":"Related Customers","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"promptType":"define","text":"=<INFORMATION>\n- Company Name:  {{ $json.company_info.name_normalized }}\n- Website: {{ $json.company_info.domain }}\n- Industry: {{ $json.company_info.industry }}\n- Specialty:  {{ $json.company_info.specialities }}\n- Description: {{ $json.company_info.report }}\n<TASK>\n{{ $json.company_info.name_normalized }} is a sales prospect.  We must prove that we have worked with other companies in their industry to land a huge deal with them.  Based on the information provided about the prospect, find four current customers in the same industry, or a closely related industry.\n<OUTPUT>\nRespond with the following sentence:\n\"We've done the same for companies like [[CURRENT CUSTOMERS]].\"\nReplace [[CURRENT CUSTOMERS]] with three (3) current customers.  \nFor example, if the industry of the potential customer is Healthcare, your response would be \"We've done the same for companies like Jorie Healthcare, DentaQuest and Intellicure.\"\nIf we do not have three (3) similar customers, then you can respond with one (1) or two (2) customers and format the sentence to match. \n\n<RULES>\n- Do not wrap your response in quotation marks\n- If the industry is not provided for the potential customer, then try to understand what industry they are in from the additional context provided, such as their specialization or the services and products they sell.\n- If you cannot find three (3) related current customers, then include how ever many you can find.  For example, if you can only find one related current customer than respond with \"We've done the same for companies like Mullen Coughlin.\"\nFor example, if you can only find two customers, than respond with \"We've done the same for companies like Mullen Coughlin and Acme.\"\n- Consider the current customer's industry and description to help you determine if it is related to the potential company's industry.  If the industry is not an exact match, consider matching based on closely related industries or on the services each offers.\n- Do not respond with an explanation or additional context.\n- If you are unable to find current customers that match the industry of this potential customer then your output will be: \"We've done the same for companies like Tommy Hilfiger (PVH), Shutterfly and Blue Cross Blue Shield.\" \n- Do not use \"I've\" to begin the sentence.  You will always use \"We've\" to begin the sentence.  This is important.\n\n","options":{"systemMessage":"<ROLE>\nYou are an expert assistant. You will use this list of current customers and their associated industries in your task.\n\nHere's the list of current customers organized by their respective industries:\n\n**Airlines/Aviation**\n- Rocketmiles - A travel rewards platform that allows users to earn miles and points from leading loyalty programs when booking hotels.\n\n**Apparel & Fashion**\n- PVH - A global apparel company known for its iconic brands such as Calvin Klein, Tommy Hilfiger, and Van Heusen.\n\n**Architecture & Planning**\n- Moseley Architects - A well-established architectural firm, providing comprehensive design and planning services for various projects.\n\n**Artificial Intelligence**\n- Bloomreach - A leading AI-driven platform for e-commerce and content management, helping businesses personalize customer experiences.\n- Tact.ai Technologies - Develops AI-powered sales workflow automation solutions to enhance sales productivity and customer engagement.\n- Jorie Healthcare Partners - Jorie offers comprehensive RCM services, including pre-authorization, patient registration, insurance verification, charge capture, and billing, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline these processes.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n**Automotive**\n- Noodoe - A provider of electric vehicle charging solutions, offering a range of charging products and services.\n- Xeal - Known for its innovative electric vehicle charging technology, focusing on smart charging solutions for various applications.\n- Moj.io - Designs, develops, and delivers connected car solutions that transform data into scalable services for partners and their customers.\n\n**Banking**\n- Beacon Financial Services - Personalized financial advice and services in areas such as retirement planning, estate planning, and asset management.\n\n**Biotechnology**\n- MCL Systems - A leading independent laboratory in Alabama, providing extensive laboratory services using state-of-the-art testing equipment.\n\n**BPO**\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n- AnswerNet - A provider of outsourced contact center services, offering a range of solutions including customer service, sales, and technical support.\n\n**Business Intelligence, Market Research, Data Analytics**\n- Datateer - A data analytics and consulting company.\n- Dynata - A company specializing in market research and data analytics solutions.\n- Epic Research - A company specializing in market research and data analytics solutions.\n- ReconMR - A company providing market research and data collection services.\n\n**Business Services/Consulting**\n- American Legal Records - A leading record retrieval company specializing in obtaining all types of records nationwide.\n- 3H Corporate Services - A corporate consulting and compliance company that provides expert services in areas such as corporate compliance reviews, national regulatory research, M&A due diligence, and state department desk and field audit representation and counseling.\n\n**Chemicals**\n- Flotek Industries - A global developer and distributor of advanced technology, including specialty chemicals, systems, and services for the energy and industrial markets.\n\n**Cloud Services & Hosting**\n- IDrive - A cloud storage and backup services company.\n- CyberLynk Network - A technology company offering web hosting, virtual private servers, and dedicated server solutions.\n\n**Collection Services**\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n\n**Commercial Real Estate**\n- CoStar Group - A leading provider of commercial real estate information, analytics, and online marketplaces, serving professionals and businesses.\n\n**Computer Software**\n- Bloomreach - A leading AI-driven platform for e-commerce personalization, enabling personalized marketing, product discovery, content, and conversational shopping.\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences for candidates, recruiters, employees, and managers.\n\n**Construction**\n- Kimball Construction - A Baltimore-based construction company known for self-performing critical portions of its projects, including pile driving, sheeting/shoring, and structural concrete.\n- Cleaver-Brooks - A complete boiler room solutions provider, offering a range of products and services to help businesses run efficiently.\n\n**Consumer Goods**\n- Favor Delivery - A food delivery service.\n- Backyard Adventures - A company specializing in outdoor play equipment.\n- Exceedra - A provider of consumer goods and retail solutions.\n\n**Consumer Services**\n- Bookmed Printing - A printing services company.\n- Image Process Design - A company offering image processing and design services.\n- VMS Group - A provider of consumer services and solutions.\n\n**Cybersecurity, Computer & Network Security**\n- Dynatrace - A leading provider of unified observability and security solutions, helping businesses monitor and secure their full stack on one AI-powered data platform.\n- SOC Prime - Builds collective cyber defense by fusing Detection as Code, Sigma, and MITRE ATT&CK to help teams proactively defend against emerging threats.\n\n**Data Analytics & Marketing Solutions**\n- Fullthrottle.ai - Known for its AI-driven data analytics and marketing solutions.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n**Data Processing Services**\n- Recordsforce - A company specializing in data processing services.\n\n**Direct Mail and Printing**\n- Cardinal Presort Services - A company offering direct mail marketing and presort services.\n- Polaris Direct - A company offering direct mail marketing and printing services.\n- Direct Mail Depot - A company specializing in direct mail marketing services.\n\n**Education**\n- Frontline Technologies - An education technology company.\n\n**Education Management**\n- Echo360 - An education management company focusing on learning analytics.\n- Folder Wave - A company offering education management solutions.\n\n**Electrical/Electronic Manufacturing**\n- Service Wire - A manufacturer of electrical wire and cable.\n- West Coast Magnetics - A company specializing in magnetic components and assemblies.\n\n**Events Services**\n- Vendelux - An events services company.\n- Vario Productions - A company offering event production services.\n\n**Executive Office**\n- SPS - A company providing executive office services.\n\n**Facilities Services**\n- Service First Medical - A facilities services company specializing in medical facilities.\n- Command Group - A facilities services company offering a range of services.\n- United Systems of Arkansas - A facilities services company based in Arkansas.\n- TELUS Agriculture - A facilities services company focusing on agricultural solutions.\n- NEST International - A facilities services company with international operations.\n- ANRO - A facilities services company providing various services.\n- JLS Mailing Services - A facilities services company specializing in mailing services.\n\n**Financial Services Companies**\n- Broadridge Financial Solutions - A global financial services company providing financial technology solutions.\n- Sun Life Financial - A global financial services company offering insurance and wealth management solutions.\n- Edenred - A financial services company specializing in payment solutions.\n- Ingo Money - A financial services company specializing in digital payment solutions.\n- FullThrottle Technologies - A financial services company providing financial technology solutions.\n\n**Food & Beverages**\n- Waltz Health - A company specializing in health-related food and beverage solutions.\n\n**Furniture**\n- Stylex - A furniture manufacturing company known for its office furniture and seating solutions.\n\n**Gambling & Casinos**\n- Sports Innovation Lab - A company specializing in sports technology and innovation, particularly in the gambling and casino sector.\n\n**Genetic Testing and Diagnostics**\n- Fulgent Genetics - A premier, full-service genomic testing company focused on transforming patient care in oncology, infectious, and rare diseases.\n\n**Healthcare**\n- Undue Medical Debt - A nonprofit that acquires and abolishes medical debts for financially burdened individuals.\n- Sentara Healthcare - A not-for-profit health system recognized for its comprehensive healthcare services.\n- Marshfield Clinic System - A well-known health system that provides a range of healthcare services and insurance products.\n\n**Healthcare Insurance and Financial Services**\n- Elevance Health - A well-known health insurance company recognized for its comprehensive health coverage plans.\n- Blue Cross and Blue Shield of Mississippi - A prominent health insurance provider, part of the larger Blue Cross Blue Shield Association.\n\n**Healthcare Services and Management**\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services for hospitals, health systems, and physician groups.\n- Midwestern University - Known for its comprehensive health care education and community health care services through its multispecialty clinics.\n- MyPlace Health - Provides personalized care and coverage to older adults, enabling them to age safely in their homes and communities through the PACE model.\n\n**Healthcare Staffing and Technology**\n- connectRN - A revolutionary healthcare staffing platform that connects qualified nurses with temporary job opportunities, addressing staffing shortages and improving patient care.\n\n**Hospitality**\n- Trinity Resort Services - A company that provides a comprehensive range of world-class services to the vacation ownership industry, including financial, reservations, and contact center services.\n\n**Human Resources**\n- AmeriBen - A third-party administrator specializing in self-funded health plans and other benefits services.\n- Netchex - A comprehensive Human Capital Management (HCM) solution provider, offering services such as payroll, time and attendance, benefits administration, and performance management.\n\n**Infection Prevention and Disinfection**\n- Tru-D Smart UVC - A leader in UVC disinfection technology, providing intelligent solutions for healthcare facilities to ensure a germ-free environment.\n\n**Information Technology and Services**\n- XL.net - An IT services and solutions provider.\n- The Longleaf Network - A managed IT services provider, offering a range of IT solutions and support services.\n- Snappt - A company that provides AI-powered rental application screening and fraud detection services.\n- Rune Labs - A neurotechnology company focused on developing AI-powered solutions for neurological disorders.\n- Asignet - A provider of IT and telecom expense management services, helping businesses optimize their IT and telecom expenses.\n\n**Insurance**\n- J.B. Lloyd & Associates - A commercial insurance agency that has been serving clients since 1978, focusing on cost-effective risk management solutions.\n- Statewide Underwriting Services - Provides personal and commercial insurance coverage solutions for insurance brokers and agents.\n- MTI America - Offers workers' compensation ancillary healthcare solutions, including transportation, language services, physical medicine, home & catastrophic care, and durable medical equipment.\n- IDEAL3 - Provides strategic and effective claim services with empathy and respect, offering customized solutions for unique claims needs.\n- Alexander & Schmidt - Helps insurance industry partners maximize underwriting profitability by achieving lower loss ratios.\n\n**Internet**\n- USSI Global - A leading provider of network, broadcast, and digital signage services, offering customized solutions for internet providers and broadcasters.\n\n**Investment Management**\n- Brooklyn Investment Group - A white-label managed accounts platform for financial advisors and asset managers, offering custom direct indexing across equities and fixed income.\n- Charter Group Fund Administration - Provides fund administration services for established boutiques, hedge funds, managed accounts, new launches, and crypto funds, offering a cutting-edge platform and quality client service.\n\n**Legal Services**\n- Questel - Offers a full complement of legal operations services, including ELM data integration, legal support services, legal interpretation services, and legal translation services.\n- Segal McCambridge Singer & Mahoney - A law firm providing creative advice and battle-tested trial experience for companies facing high-stakes litigation and business challenges.\n- ILYM Group - Provides consultative expertise, professionalism, and experience in class action administration, legal notification, and media representation.\n- doeLEGAL - Offers legal operations software solutions for ELM and eDiscovery, leveraging innovative LegalTech to optimize team efficiency and cost savings.\n- Mood K Law - A premier defense firm known for its creative, aggressive, and effective defense strategies, coupled with unparalleled client service.\n\n**Leisure, Travel & Tourism**\n- Hershey Entertainment & Resorts - A well-known entertainment and resort company recognized for its comprehensive leisure and tourism services.\n\n**Logistics and Supply Chain**\n- APL Maritime - A global shipping and logistics company with a significant presence in container shipping services and intermodal transportation networks.\n- Bamboo Rose - Specializing in product lifecycle management (PLM) and supply chain technology solutions for retailers.\n- Expedock - A company providing AI-powered logistics and freight management solutions.\n- Lefturn - A logistics and supply chain management company.\n- B2Gnow - Offering supplier diversity and grant management compliance software solutions.\n- Cash Connect - A company specializing in cash management and logistics solutions.\n\n**Management Consulting**\n- AGM Consulting - An information technology services company providing consulting services in virtualized solutions, private and public cloud computing, data management, business continuity, disaster recovery, and complex infrastructure designs.\n- Vision Link Advisors - A compensation design firm helping mid-market companies create and sustain pay strategies that drive business growth.\n- Gr8 People - A company offering human resources and recruitment consulting services.\n- MDaudit - A company specializing in billing compliance and revenue cycle management software for healthcare providers.\n- AB Data - A company providing data management and consulting services.\n- Apex Software Technologies - A company offering software development and consulting services.\n- Paymedia - A company specializing in payment solutions and financial technology.\n- Breakaway Technologies - A company providing technology consulting and solutions.\n\n**Manufacturing**\n- Innovative Solutions and Support - A company designing and manufacturing state-of-the-art avionics technology, including solid-state instruments and flat-panel displays for various aircraft.\n\n**Mechanical or Industrial Engineering**\n- FleetWatcher - A fleet management telematics system designed for construction equipment.\n- M&S Engineering - A full-service engineering firm offering electrical, civil, MEP, survey, and SUE services.\n- Resonac - A chemical company that develops and provides individualized products for various fields.\n\n**Medical Devices**\n- Trividia Health - A leading developer, manufacturer, and marketer of advanced performance products for people living with diabetes.\n- LifeSigns - Offers a wireless multi-patient digital monitoring system that bridges healthcare gaps.\n- ImplantBase - Helps medical device companies eliminate operational blind spots by digitally transforming their performance.\n\n**Oil & Energy**\n- CMC Energy Services - A leading provider of program management, customer engagement, field services, call center support, and engineering for utility customer segments, focusing on energy efficiency and clean energy solutions.\n- EnergyNet.com - A platform for buying and selling oil and gas properties.\n\n**Pharmaceuticals**\n- CaptureRx - Provides 340B third-party administrative services, helping safety net providers and pharmacies achieve their objectives through leading 340B solutions.\n\n**Printing**\n- Presort First Class - A premier OKC printing company offering top-quality printing and friendly customer service, providing a complete array of design, print, and mail services.\n\n**RCM**\n- Jorie Healthcare Partners - Offers comprehensive RCM services, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline processes.\n- HealthWare Systems - Offers fully integrated, customizable workflow solutions, revenue cycle management, and patient management software.\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services.\n- MDaudit - Specializes in billing compliance and revenue cycle management software.\n\n**Real Estate**\n- Woodbury Capital - A real estate investment and management company.\n- CW Financial Services - A commercial real estate services company offering a range of financial solutions.\n- Entera Holdings - A real estate technology company providing a platform for single-family residential investments.\n- LiquidSpace - A company offering flexible office space solutions.\n- HqO - A real estate technology company providing a platform for office building management and tenant engagement.\n- Hekemian & Co - A real estate development and management company.\n- Harding And Carbone - A property tax consulting firm offering services for commercial and residential properties.\n\n**Real Estate - Property Management**\n- Property Works - A real estate services company specializing in property management and maintenance.\n- Quarem - A real estate services company specializing in property management and leasing.\n\n**Real Estate - Software and Technology**\n- Cherre - A real estate data management and intelligence platform.\n\n**Real Estate - Title Insurance and Escrow**\n- Timios - A real estate services company specializing in title insurance and escrow services.\n\n**Retail**\n- Shutterfly - An online retailer specializing in personalized photo products and services.\n- Logile - A retail technology company providing workforce management and scheduling solutions.\n\n**Robotics**\n- Locus Robotics - Known for its autonomous mobile robots designed for warehouse and logistics applications.\n- Jorie Healthcare Partners - Offers services leveraging advanced technologies such as AI and Robotic Process Automation (RPA).\n\n**Software Development**\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences.\n- Big Brass Band - A technology company specializing in software development and consulting.\n- Beneration - A technology company specializing in software development and consulting.\n\n**Sporting Goods**\n- Alveo - A company specializing in sporting goods and equipment.\n\n**Technology**\n- Clearview Live - A technology company offering live streaming and video conferencing solutions.\n- Anduin Transact - A technology company providing financial"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[25460,620],"id":"73268aaf-a1c1-4aa3-aa40-d209faa155ac","name":"Related Customers Sentence","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding How Can We Help').item.json\noriginal.personalization.related_customers_sentence = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[25820,620],"id":"fde97b8a-911b-4e96-a323-9a03716335e7","name":"Adding Related Customers Sentence"},{"parameters":{"promptType":"define","text":"=\n## Context\nI.S. Partners (ispartnersllc.com) sales team is emailing prospects about helping save time and money on their IT Compliance needs.   This task is part of the process of writing personalized emails to a prospect.\n\n\n\n## Goal\nCreate one closing sentence that entices the prospect to reply or take the next step.\n\n## Existing Email:\nHere is the email message you will be adding your sentence to.  Your sentence will be inserted into the [[CLOSING]] section.\n---\nHey there [[NAME]],\n \n\n{{ $json.personalization.sentence_opening }}\n{{ $json.personalization.bridge_sentence_one }}\n{{ $json.personalization.bridge_sentence_two }}\n{{ $json.personalization.how_can_we_help }}\n[[CLOSING]]\n\nCheers!\n[[SENDER NAME]]\n---\n\n# Closing Sentence Format\n- The sentence will be short, direct and to the point. \n- The sentence should be a call to action or question, asking if the offer is interesting or challenging prospects to request more proof. \n- Match the tone and intent of the rest of the email \n- The CTA shouldn't ask for much effort \n- Asking a question or for the recipient to reply to an email is enough.\n- Use strong language.  Instead of \"trim time and costs\" say \"cut time and costs by 30% or more\"\n## Examples:\n- \"Does this resonate with you, or am I off-topic?\n\"\n- \"Is cutting [[framework]] time and costs important to you or am I off-topic?\" \n- \"Is [[how we can help]] worth a quick call to check what's possible?\"\n- \"Are you interested in cutting time and costs on [[Framework(s)]]?\"\n- \"Worth a convo?\"\n- \"This this could help your team?\"\n- \"Are you open to hearing how IS Partners can help?\"","options":{"systemMessage":"You are a friendly, helpful IT compliance sales rep writing a single sentence that shows how I.S. Partners can solve a prospect's specific compliance challenges. You write in short sentences using simple words at a 4th-grade reading level.  Short emails are a priority. You are a master at getting people to reply or take action."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[26040,620],"id":"5ceabcb8-e248-4fa0-86b0-c458700e7b08","name":"Closing Sentence","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[26000,840],"id":"0e711a64-a0db-4c34-8ac3-867030169084","name":"OpenAI Chat Model - Closing Sentence","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original =  $('Adding Related Customers Sentence').item.json\noriginal.personalization.closing_sentence = $json?.output || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[26420,620],"id":"b73481a2-5c51-47be-a4fc-2280b6acb722","name":"Adding Closing Sentence"},{"parameters":{"promptType":"define","text":"=# Information\n- Company Name: {{ $json.company_info.name }}\n- Industry: {{ $json.company_info.industry }}\n- Specialities:{{ $json.company_info.specialities }}\n- What they do:{{ $json.company_info.report }} \n- Location: {{ $json.user_info.location.city }} {{ $json.user_info.location.state }} {{ $json.user_info.location.country }}\n- Employees:{{ $json.company_info.size }}\n- Last funding round: {{ $json.company_info.funding.latest_round_year }}\n- Last funding amount: {{ $json.company_info.funding.latest_round_amount }}\n- Positive news:\n-- Type of news: {{ $json.company_info.positive_article.category }}\n-- Recent positive news: {{ $json.company_info.positive_article.summary }}\n-- Positive impact on company: {{ $json.company_info.positive_article.outcomes }}\n-- Local impact on community: {{ $json.company_info.positive_article.local_impact }}\n-- Impact on employees: {{ $json.company_info.positive_article.employee_reaction }}\n\n# Email\nHey there [[NAME]],\n\n{{ $json.personalization.sentence_opening }}\n{{ $json.personalization.bridge_sentence_one }}\n{{ $json.personalization.bridge_sentence_two }}\n{{ $json.personalization.how_can_we_help }}\n{{ $json.personalization.related_customers_sentence }}\n{{ $json.personalization.closing_sentence }}\n\n\nCheers,\n[[SENDER NAME]]\n\n## Role\nYou analyze and improve cold emails about IT compliance, ensuring they connect naturally to the prospect's business while maintaining a friendly, conversational tone.\n\n## Goal\nAnalyze the email for:\n1. Flow and readability\n2. Connection to prospect's business\n3. Natural transitions\n4. Appropriate tone\n5. Impact and clarity\n\n## Analysis Steps\n1. Review Prospect Info:\n- Core business/mission\n- Industry focus\n- Size/scale\n- Frameworks they have\n- Recent news (if any)\n\n2. Check Email Elements:\n- Do not include a greeting in the opening line. \n- Opening line should use the \"Why you, why now\" framework.  \"Why I'm reaching out to you, right now\" so that it's clear to the recipient up front why I'm reaching out\"\n- Bridge sentence 1\n- Bridge sentence 2\n- How we can help\n- Related customers (social proof)\n- Closing (call to action)\n\n3. Identify Issues:\n- Disconnected elements\n- Technical overload\n- Missed business connections\n- Tone inconsistencies\n- Redundant information\n\n## Improvement Guidelines\n* Write at a 4th grade reading level using simple words and short sentences\n* Use natural, conversational language that mimics a human, but keep the sentences short - one sentence to a line.\n* Keep sentences short and direct\n* Connect to their core business\n* Avoid listing multiple frameworks repeatedly\n* Make compliance relevant to their goals\n* Use casual abbreviations (b/c, w/, +) but don't overdo it\n* Maintain consistent tone throughout\n* Avoid jargon and colorful verbs and adjectives\n*  Avoid jargon and overly technical terms unless they are relevant to the recipient's field.\n* Do not insert related customers into any other sentence except for the \"Related Customers\" sentence and do not change the \"Related Customers\" sentence we've provided to you.   Here is that sentence:  \n{{ $json.personalization.related_customers_sentence }}\n* You will only write one sentence for each part.  You may write two sentences for a part if absolutely neccessary, but shorter emails take priority. \n* Do not change the closing sentence.\n\n\n## Output structure\nYour output should follow this structure\n{\n\t\"email_analysis\": \"\",\n\t\"email_opening_revised\": \"\",\n    \"bridge_sentence_1_revised\":\"\",\n    \"bridge_sentence_2_revised\":\"\",\n    \"how_we_can_help_revised\":\"\",\n    \"related_customers-1\":\"\",\n    \"closing_1\":\"\"\n}","hasOutputParser":true,"options":{"systemMessage":"You analyze and improve cold emails about IT compliance, ensuring they connect naturally to the prospect's business while maintaining a friendly, conversational tone."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[26640,620],"id":"c49e082e-138c-43fb-9a0a-15fb2104603b","name":"Email Analysis","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[26620,860],"id":"e80a2492-33f5-4f6c-a897-acb533833b97","name":"OpenAI Chat Model - Email Analysis","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"email_analysis\": \"\",\n\t\"email_opening_revised\": \"\",\n    \"bridge_sentence_1_revised\":\"\",\n    \"bridge_sentence_2_revised\":\"\",\n    \"how_we_can_help_revised\":\"\",\n    \"related_customers-1\":\"\",\n    \"closing_1\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[26840,860],"id":"2e4fadef-b6f1-4a7a-8d5d-dcbecff3a584","name":"Structured Output Parser - Email Analysis"},{"parameters":{"jsCode":"let original = $('Adding Closing Sentence').first().json\nconst email_analysis = {\n  opening_sentence : $input.first().json?.output?.email_opening_revised || \"\",\n  bridge_sentence_one:$input.first().json?.output?.bridge_sentence_1_revised || \"\",\n  bridge_sentence_two:$input.first().json?.output?.bridge_sentence_2_revised || \"\",\n  how_can_we_help: $input.first().json?.output?.how_we_can_help_revised || \"\",\nrelated_customers: ($input.first()?.json?.output?.['related_customers-1']) || \"\",\n\n  closing_sentence:$input.first().json.output?.closing_1 || \"\",\n}\noriginal.personalization.email_analysis = email_analysis\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[27000,620],"id":"30eb4a87-8084-40c8-b38f-4041a7b84dfe","name":"Adding Email Analysis"},{"parameters":{"promptType":"define","text":"=# GOAL\nWrite a short, catchy email subject line for the email below, following the guidelines provided.  This email is being sent to prospects that we have found through research.   \n\n# TASK\nLet's write the email subject line that will accompany this email: \n{{ $json.personalization.email_analysis.opening_sentence }}\n{{ $json.personalization.email_analysis.bridge_sentence_one }}\n{{ $json.personalization.email_analysis.bridge_sentence_two }}\n{{ $json.personalization.email_analysis.how_can_we_help }}\n{{ $json.personalization.email_analysis.related_customers }}\n{{ $json.personalization.email_analysis.closing_sentence }}\n\n# ABOUT THE PROSPECT\n### About: \n- Company name: {{ $json.company_info.name_normalized }}\n- Industry: {{ $json.company_info.industry }}\n- Specialities: {{ $json.company_info.specialities }}\n- What they do: {{ $json.company_info.report }}\n- Location: {{ $json.company_info.location.city }} {{ $json.company_info.location.state }}\n- Employees: {{ $json.company_info.size }}\n- Latest funding round: {{ $json.company_info.funding.latest_round_year }}\n- Latest funding amount: {{ $json.company_info.funding.latest_round_amount }}\n\n### Positive News (If any)\n- Type of news: {{ $json.company_info.positive_article.category }}\n- Recent positive news: {{ $json.company_info.positive_article.summary }}\n- Positive impact on company: {{ $json.company_info.positive_article.outcomes }}\n- Local impact on community: {{ $json.company_info.positive_article.local_impact }}\n- Impact on employees: {{ $json.company_info.positive_article.employee_reaction }}\n\n### Compliance Frameworks\n- Current compliance frameworks (if any): {{ $json.company_info.framework_review.confirmed_frameworks }}\n\n# GUIDELINES\n** IMPORTANT **\n- Use sentence case, but capitalize frameworks when applicable\n- Keep subjects to 1 - 8 words\n**Write personalized subject lines**  \n- Thoughts on your l[[POSITIVE NEWS]]\n- Congrats on XYZ!\n- Loved reading about [[[POSITIVE NEWS STORY]]]!  \n\n## Pain Point\n- Need help with [[painpoint]]?, Happy with 50% open rates?, idea for [[painPoint]]  \nWhy this works: It addresses the prospects pain point and offers actionable solutions.  \nUse these two lines as the pain point:\n{{ $json.personalization.email_analysis.bridge_sentence_one }}\n{{ $json.personalization.email_analysis.bridge_sentence_two }}\n\n\n\n\n- Ideas & feedback for you & [[companyname]]  \n- Hey [[firstName]], congrats on your funding round  \nHow to use: Use a specific trigger (e.g., funding round, new job, IPO) and congratulate the prospect. Then, offer a valuable resource or idea for their next steps.\n\n\n\n\n","options":{"systemMessage":"You are an expert email copywriter for IS Partners, and IT compliance and cybersecurity firm."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[27220,620],"id":"b7ea6515-6cc7-4e79-8fd3-28b56e9fb6ac","name":"Email Subject"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[27220,840],"id":"fe510aa5-9f3a-49cd-9701-ac22b4eec28b","name":"OpenAI Chat Model - Email Subject","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Email Analysis').item.json\noriginal.personalization.email_subject = $json?.output || \"\"\n\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[27580,620],"id":"fd25b1da-d31c-412d-b7e5-e1bc27d9cf2e","name":"Adding Email Subject"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding Email Subject').item.json\noriginal.personalization.related_customer = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[28300,620],"id":"d8729da2-366f-487c-b163-2a7559e65fd3","name":"Adding Related Customer"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Related Customer').item.json\noriginal.personalization.related_customers = $json?.output || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[28920,620],"id":"39fc04b7-06f2-4b04-a4c7-85a6922a8891","name":"Adding Related Customers"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"211a6ab2-2a2a-486b-b114-743c934ec3c8","leftValue":"={{ $json.original.personalization['Compliance - Has Multiple Frameworks'] }}","rightValue":"False","operator":{"type":"string","operation":"equals"}}],"combinator":"or"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[32060,-20],"id":"47872a27-9292-490d-a180-917cde64b3d6","name":"Do they have single framework ?"},{"parameters":{"content":"# Lemlist\n","height":480,"width":1380,"color":4},"type":"n8n-nodes-base.stickyNote","position":[31280,-140],"typeVersion":1,"id":"4e7d2b94-f6fe-409f-ab0e-942740182909","name":"Sticky Note17"},{"parameters":{"content":"# HubSpot\n","height":720,"width":1800,"color":4},"type":"n8n-nodes-base.stickyNote","position":[31280,340],"typeVersion":1,"id":"9eaaef8b-14c4-4f97-b825-079ca906a066","name":"Sticky Note26"},{"parameters":{"content":"# Slack","height":260,"width":1140,"color":4},"type":"n8n-nodes-base.stickyNote","position":[31280,1060],"typeVersion":1,"id":"f447816c-b02f-42ea-81ff-1c376ed61720","name":"Sticky Note14"},{"parameters":{"jsCode":"const data = {\n\"ICP - Contact Tier\":$input.first().json.company_info.icp_score.total_score_string || \"Not Found\",  \n\"Page Visited - URL\":$input.first().json.technical_data.page_visited_url || \"Not Found\",\n\"Page Visited - Framework\":$input.first().json.technical_data.page_visited_framework || \"Not Found\",\n\"Page Visited - Matched Framework\":$input.first().json.technical_data.matched_framework || \"Not Found\",\n\"Page Visited - Matches Framework Held\":$input.first().json.technical_data.matches_frameworks_held || \"Not Found\",\n\"Page Visited - Topic\":$input.first().json.technical_data.page_visited_topic || \"Not Found\",\n\"Page Visited - Keyword Mentioned\":$input.first().json.technical_data.page_visited_keyword || \"Not Found\",\n\"Job Responsibilties\":$input.first().json.user_info.job_responsibilities || \"Not Found\",\n\"Job Challenges\":$input.first().json.user_info.job_challenges || \"Not Found\",\n\"firstName\":$input.first().json.user_info.first_name || \"Not Found\",\n\"lastName\":$input.first().json.user_info.last_name || \"Not Found\",\n\"email\":$input.first().json.user_info.primary_email || \"Not Found\",\n\"phone\":$input.first().json.user_info.phone_number || \"Not Found\",\n\"linkedinUrl\":$input.first().json.user_info.social_urls.linked_in || \"Not Found\",\n\"companyName\":$input.first().json.company_info.name_normalized || \"Not Found\",\n\"companyDomain\":$input.first().json.company_info.domain || \"Not Found\",\n\"jobTitle\":$input.first().json.user_info.role_normalized || \"Not Found\",\n\"picture\":$input.first().json.user_info.profile_pick || \"Not Found\",\n\"Industry\": $input.first().json.company_info.industry || \"Not Found\",\n\"Company Name\":$input.first().json.company_info.name || \"Not Found\",\n\"Years in Business\":$input.first().json.company_info.years_in_business || \"Not Found\",\n\"Company Name - Normalized\":$input.first().json.company_info.name_normalized || \"Not Found\",\n\"Employee Count\":$input.first().json.company_info.size || \"Not Found\",\n\"About\":$input.first().json.company_info.report || \"Not Found\",\n\"Compliance - Primary Frameworks\":$input.first().json.company_info.framework_review.confirmed_frameworks_primary || \"Not Found\",\n\"Auditors\":$input.first().json.company_info.framework_review.confirmed_auditors || \"Not Found\",\n\"GRC Software\":$input.first().json.company_info.framework_review.confirmed_grc_tools || \"Not Found\",\n\"Competitor\":$input.first().json.company_info.competitor_partner_classification.is_competitor || \"Not Found\",\n\"Content - Related Customers\":$input.first().json.personalization.related_customers || \"Not Found\",\n\"Content - Related Customer\":$input.first().json.personalization.related_custome || \"Not Found\",\n\"Content - Framework\":$input.first().json.personalization['Content-Framework'] || \"Not Found\",\n\"Content - Frameworks\":$input.first().json.personalization['Content-Frameworks'] || \"Not Found\",\n\"Compliance - Has Single Framework\":$input.first().json.personalization['Compliance - Has Single Framework'] || \"Not Found\",\n\"Compliance - Has Multiple Frameworks\":$input.first().json.personalization['Compliance - Has Multiple Frameworks'] || \"Not Found\",\n\"Partner Opportunity\":$input.first().json.company_info.competitor_partner_classification.is_partner || \"Not Found\",\n\"Services\": Array.isArray($input.first().json.company_info.products) && $input.first().json.company_info.products.length > 0 ? \n    $input.first().json.company_info.products.join(\",\") : \"Not Found\",\n\"Specialities\": Array.isArray($input.first().json.company_info.specialities) && $input.first().json.company_info.specialities.length > 0 ? \n    $input.first().json.company_info.specialities.join(\",\") : \n    \"Not Found\",\n\"LinkedIn Page\":$input.first().json.company_info.social_urls.linked_in || \"Not Found\",\n\"Last Funding Round Date\":$input.first().json.company_info.funding.latest_round_year || \"Not Found\",\n\"Last Funding Round Amount\":$input.first().json.company_info.funding.latest_round_amount || \"Not Found\",\n\"Content - Email 1 - Sentence - Opening\":$input.first().json.personalization.email_analysis.opening_sentence || \"Not Found\",\n\"Content - Email 1 - Sentence - Bridge 1\":$input.first().json.personalization.email_analysis.bridge_sentence_one || \"Not Found\",\n  \"Content - Email 1 - Sentence - Bridge 2\":$input.first().json.personalization.email_analysis.bridge_sentence_two || \"Not Found\",\n  \"Content - Email 1 - Sentence - How We Help\":$input.first().json.personalization.email_analysis.how_can_we_help || \"Not Found\",\n  \"Content - Email 1 - Sentence - Related Customers\":$input.first().json.personalization.email_analysis.related_customers || \"Not Found\",\n  \"Content - Email 1 - Sentence - Closing\":$input.first().json.personalization.email_analysis.closing_sentence || \"Not Found\",\n  \"Recent News URL\": $input.first().json.company_info.positive_article.url || \"Not Found\",\n  \"Recent News Article Summary\":$input.first().json.company_info.positive_article.summary|| \"Not Found\",\n  \"Recent LinkedIn Post\":$input.first().json.user_info.linked_in_data.posts && $input.first().json.user_info.linked_in_data.posts.length > 0 ? $input.first().json.user_info.linked_in_data.posts[0].text : \"Not Found\",\n  \"Page Visited Type\":$input.first().json.technical_data.page_visited_type || \"Not Found\",\n  \"Visit Intent\":$input.first().json.user_info.visit_intent || \"Not Found\"\n}\nreturn {data, original:$input.first().json}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[31360,0],"id":"2004cfc1-a3f2-4665-bdc4-22abbf7a89e7","name":"Lemlist Data","alwaysOutputData":false},{"parameters":{"promptType":"define","text":"=Your task is to count how many frameworks Prosect has and format them correctly from the given string.\nHere are the frameworks:  {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n\nYour output should be structured as the following object:\n{\n \"framework\":\"SOC 1\",\n \"frameworks\": \"\",\n \"has_single_framework\": \"True\",\n \"has_multiple_frameworks\" : \"False\"\n}\n\nMore information\n- framework key should be populated if prospect has only one framework (using the framework prospect has)\n- frameworks key should be populated if prospect has more then one framework, but it must have this structure \"SOC 2, HIPAA, CCPA and GDPR\", notice how\nwe placed the \"and\" at the end of the list.\n- has_single_framework should be \"True\" if the prospect has only one framework, in other cases it should be \"False\"\n- has_multiple_frameworks should be \"True\" if the prospect has more then one framework, in other cases it should be \"False\"\n\nExamples:\nInput string is SOC 2\nOutput object should look like this:\n{\n \"framework\":\"SOC 2\",\n \"frameworks\": \"\",\n \"has_single_framework\": \"True\",\n \"has_multiple_frameworks\" : \"False\"\n}\n---------------\nInput string is \"SOC 2, SOC 1\"\nOutput object should look like this:\n{\n \"framework\":\"\",\n \"frameworks\": \"SOC 2 and SOC 1\",\n \"has_single_framework\": \"False\",\n \"has_multiple_frameworks\" : \"True\"\n}\n\n---------------------------\n\nInput string is \"SOC 2, SOC 1, HIPAA\"\nOutput object should look like this:\n{\n \"framework\":\"\",\n \"frameworks\": \"SOC 2,SOC 1 and HIPAA\",\n \"has_single_framework\": \"False\",\n \"has_multiple_frameworks\" : \"True\"\n}","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[29100,620],"id":"8471cab3-3425-455b-b07f-e283ec5197a7","name":"Has a Single framework or multiple ?","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[29040,840],"id":"2c06fa13-4224-44f0-a0ad-482549f9a577","name":"OpenAI Chat Model - Framework Count","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n \"framework\":\"\",\n \"frameworks\": \"SOC 2,SOC 1 and HIPAA\",\n \"has_single_framework\": \"False\",\n \"has_multiple_frameworks\" : \"True\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[29340,840],"id":"ebb7b556-4ebc-44d8-90b0-5b94cf851282","name":"Structured Output Parser - Framework Count"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Related Customers').item.json\noriginal.personalization['Content-Framework'] = $json.output.framework\noriginal.personalization['Content-Frameworks'] = $json.output.frameworks\noriginal.personalization['Compliance - Has Single Framework'] = $json.output.has_single_framework\noriginal.personalization['Compliance - Has Multiple Frameworks'] = $json.output.has_multiple_frameworks\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[29440,620],"id":"4e8db1aa-9530-4aaf-a711-29f6a1b29fc6","name":"Adding Framework Count"},{"parameters":{"httpMethod":"POST","path":"vector-v3","options":{}},"id":"76e0ca1e-b909-4d03-be74-35c200a69258","name":"Vector Data","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-2140,720],"webhookId":"05853312-769d-41e6-adb7-8a8a352d90dd"},{"parameters":{"httpMethod":"POST","path":"rb2b-v3","options":{}},"id":"9eaf07d6-2fbd-4f4c-b119-473a9cdae983","name":"RB2B Data","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-2140,560],"webhookId":"9ec4d875-b9bb-4776-9e4e-aba247c3a68b"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst input = $input.item.json.body;\n\nconst first_name = input['First Name'] || \"\"\nconst last_name = input['Last Name'] || \"\"\nconst role = input['Title'] || \"\"\n\nconst primary_email = input['Business Email'] || \"\"\nconst personal_emails = []\nconst work_emails = [primary_email]\n\nconst linked_in = input[\"LinkedIn URL\"] || \"\"\nconst city = input[\"City\"] || \"\"\nconst state = input[\"State\"] || \"\"\nconst zip = input[\"Zipcode\"] ||\"\"\n\nconst company_name = input['Company Name'] || \"\"\nconst company_size = input['Employee Count'] || \"\"\nconst company_revenue = input[\"Estimate Revenue\"] || \"\"\nconst company_domain = input['Website'] || \"\"\nconst company_industry = input[\"Industry\"] || \"\"\n \nconst formatted = {\n  \"user_info\":{\n    \"first_name\": first_name,\n    \"last_name\": last_name,\n    \"role\": role,\n    \"primary_email\": primary_email,\n    \"personal_emails\":  personal_emails,\n    \"work_emails\": work_emails,\n    \"phone_numbers\":[],\n    \"social_urls\":{\n     \"linked_in\": linked_in,\n    },\n    \"location\":{\n      \"city\": city ,\n      \"state\":state,\n      \"zip\":zip\n    },\n    \"page_visited\": input[\"Referrer\"] || \"\"\n  },\n  \"company_info\":{\n    name: company_name,\n    size: company_size,\n    revenue:company_revenue,\n    domain:company_domain,\n    industry:company_industry,\n    social_urls:{\n     linked_in:\"\",\n     facebook:\"\",\n     twitter:\"\",\n     instagram: \"\",\n    },\n    phone_numbers:[],\n    \"location\":{\n      \"city\":\"\",\n      \"state\":\"\",\n      \"country\":\"\",\n      \"address\":\"\",\n      \"zip\":\"\",\n    }\n  },\n   technical_data:{\n    \"page_visited_url\": input['Captured URL'] || \"\",\n    \"utmCampaign\": input.utmCampaign || \"\",\n    \"utmContent\": input.utmContent || \"\",\n    \"utmMedium\": input.utmMedium || \"\",\n    \"utmSource\": input['Referrer'] || \"\",\n    \"utmTerm\": input.utmTerm || \"\",\n    \"vvid\": input.vvid || \"\",\n    \"hem\": input.hem\n  }\n}\n\n\nreturn formatted;"},"id":"3436444e-3164-44f9-be96-fd1616bcbec0","name":"RB2B Data normalization","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1800,560]},{"parameters":{"authentication":"appToken","resource":"company","operation":"searchByDomain","domain":"={{ $('HubSpot Data').item.json.original.company_info.domain }}","options":{}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[32240,580],"id":"d72418aa-0133-4df2-8832-d3adfd5588c8","name":"Finding HubSpot Company","alwaysOutputData":true,"notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"SGEVzaM2J2agghKD","name":"searchactions.com"}}},{"parameters":{"authentication":"appToken","email":"={{ $json.original.user_info.primary_email }}","additionalFields":{"customPropertiesUi":{"customPropertiesValues":[{"property":"job_challenges","value":"={{ $json.data['Job Challenges'] }}"},{"property":"job_responsibilities","value":"={{ $json.data['Job Responsibilities'] }}"},{"property":"job_title_normalized","value":"={{ $json.data['Company Name - Normalized'] }}"},{"property":"about_the_contact","value":"={{ $json.data['About Contact'] }}"},{"property":"content_sentence_social_proof","value":"={{ $json.data['Content - Sentence - Social Proof'] }}"},{"property":"content_sentence_saw_compliance_status","value":"={{ $json.data['Content - Sentence - Saw Compliance Status'] }}"},{"property":"content_sentence_compliance_benefits","value":"={{ $json.data['Content - Sentence - Compliance Benefits'] }}"},{"property":"linkedin_follower_count","value":"={{ $json.data['LinkedIn Follower Count'] }}"},{"property":"is_active_on_linkedin","value":"={{ $json.data['Is active on LinkedIn'] }}"},{"property":"linkedin_summary","value":"={{ $json.data['LinkedIn Summary'] }}"},{"property":"linkedin_headline","value":"={{ $json.data['LinkedIn Headline'] }}"},{"property":"enrichement_status","value":"enriched"}]}},"options":{}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[31980,580],"id":"c692a661-01a6-439a-a642-00323376c3fc","name":"Updating HubSpot Contact","notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{},"type":"n8n-nodes-base.limit","typeVersion":1,"position":[32500,580],"id":"d908028a-1acb-4e8d-8fb8-08d4f0a0b3c5","name":"Limit"},{"parameters":{"authentication":"appToken","resource":"company","operation":"update","companyId":{"__rl":true,"value":"={{ $json.companyId }}","mode":"id"},"updateFields":{"customPropertiesUi":{"customPropertiesValues":[{"property":"icp_company_score","value":"={{ $('HubSpot Data').item.json.data['ICP - Company Score'] }}"},{"property":"icp_company_tier","value":"={{ $('HubSpot Data').item.json.data['ICP - Company Tier'] }}"},{"property":"lemlistfoundedon","value":"={{ $('HubSpot Data').item.json.data['Years in Business'] }}"},{"property":"company_name_normalized","value":"={{ $('HubSpot Data').item.json.data['Company Name - Normalized'] }}"},{"property":"lemlistsize","value":"={{ $('HubSpot Data').item.json.data['Employee Count'] }}"},{"property":"company_summary","value":"={{ $('HubSpot Data').item.json.data['About Company'] }}"},{"property":"confirmed_certs_frameworks","value":"={{ $('HubSpot Data').item.json.data['Compliance - Primary Frameworks'] }}"},{"property":"compliance_secondary_frameworks","value":"={{ $('HubSpot Data').item.json.data['Compliance - Secondary Frameworks'] }}"},{"property":"auditors","value":"={{ $('HubSpot Data').item.json.data.Auditors }}"},{"property":"grc_software","value":"={{ $('HubSpot Data').item.json.data['GRC Software'] }}"},{"property":"competitor","value":"={{ $('HubSpot Data').item.json.data.Competitor }}"},{"property":"content_related_customers","value":"={{ $('HubSpot Data').item.json.data['Content - Related Customers'] }}"},{"property":"content_related_customer","value":"={{ $('HubSpot Data').item.json.data['Content - Related Customer'] }}"},{"property":"content_framework","value":"={{ $('HubSpot Data').item.json.data['Content - Framework'] }}"},{"property":"content_frameworks","value":"={{ $('HubSpot Data').item.json.data['Content - Frameworks'] }}"},{"property":"compliance_has_single_framework_","value":"={{ $('HubSpot Data').item.json.data['Compliance - Has Single Framework'] }}"},{"property":"compliance_has_multiple_frameworks","value":"={{ $('HubSpot Data').item.json.data['Compliance - Has Multiple Frameworks'] }}"},{"property":"partner_opportunity","value":"={{ $('HubSpot Data').item.json.data['Partner Opportunity'] }}"},{"property":"services","value":"={{ $('HubSpot Data').item.json.data.Services }}"},{"property":"lemlistspecialities","value":"={{ $('HubSpot Data').item.json.data.Specialities }}"},{"property":"lemlistprofileurl","value":"={{ $('HubSpot Data').item.json.data['LinkedIn Page'] }}"},{"property":"last_funding_round_date","value":"={{ $('HubSpot Data').item.json.data['Last Funding Round Date'] }}"},{"property":"last_funding_round_amount","value":"={{ $('HubSpot Data').item.json.data['Last Funding Round Amount'] }}"},{"property":"content_email_1_sentence_opening","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Opening'] }}"},{"property":"content_email_1_sentence_bridge_1","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Bridge 1'] }}"},{"property":"content_email_1_sentence_bridge_2","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Bridge 2'] }}"},{"property":"content_email_1_sentence_how_we_help","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - How We Help'] }}"},{"property":"content_email_1_sentence_related_customers","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Related Customers'] }}"},{"property":"content_email_1_sentence_closing","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Closing'] }}"},{"property":"enrichement_status","value":"enriched"}]}}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[32760,580],"id":"0b6cddd2-a474-4c9e-8076-8854d1bd4d28","name":"Updating HubSpot Company","notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"method":"POST","url":"=https://api.clay.com/v3/sources/webhook/pull-in-data-from-a-webhook-dc91b6a2-8223-4fc0-9bac-21f0ab81742b","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.data }}","options":{"redirect":{"redirect":{}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[31740,-320],"id":"ecd5eda9-dcfc-4483-9950-ebf3f1307a39","name":"Sent to Clay","notesInFlow":true},{"parameters":{"content":"# Clay\n\n\n","height":260,"width":1140,"color":4},"type":"n8n-nodes-base.stickyNote","position":[31280,-400],"typeVersion":1,"id":"25c353e3-6fdb-4a18-92b0-2f67e4c22d18","name":"Sticky Note30"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"2962c159-f615-43d5-a13f-9fd1923242b4","leftValue":"={{ $json.company_info.icp_score.total_score_string }}","rightValue":"1","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[31400,620],"id":"d0d51787-82eb-4aa5-9d31-e494238c3237","name":"Is Tier 1 ?"},{"parameters":{"promptType":"define","text":"=Data to use in the task\nConfirmed frameworks: {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\nFramework Analysis: {{ $json.company_info.framework_review.analysis_summary }}\n\nTask:\nWrite one casual sentence mentioning a compliance framework discovered during research on the prospect.\n\nWriting Style:\n- Use a 6th-grade reading level.\n- Include contractions.\n- Be conversational and direct.\n- Skip uncertain findings.\n- Don't include quotation marks in your response.\n\nContent Requirements:\n-State where you found it (e.g., website, trust center, LinkedIn, etc.).\n-Only include confirmed frameworks.\n-Mention the specific framework name.\n-Remove unnecessary words like \"compliance\" or \"certification\" when possible.\n-If there are no confired frameworks return empty response \nExample Sentences:\n-Website Examples:\n--\"Your security page shows you have SOC 2.\"\n--\"I see you have both GDPR and CCPA on your website.\"\n--\"Spotted your ISO 27001 badge on your homepage.\"\n-Trust Center Examples:\n--\"Found ISO 27001 in your trust center.\"\n--\"Your trust page lists HIPAA and PCI.\"\n--\"Just saw your SOC 2 Type 2 in the trust center.\"\n-LinkedIn Examples:\n--\"Your company LinkedIn mentions FedRAMP.\"\n--\"Noticed CMMC on your LinkedIn profile.\"\n--\"Your LinkedIn shows you're NIST compliant.\"\n-Other Sources:\n--\"Your recent press release mentions SOC 2 Type 2.\"\n--\"Saw NIST compliance in your annual report.\"\n--\"Your about page shows you have HIPAA.\"\n\nDo Not Write:\n-\"I found references to potential SOC 2 compliance.\"\n-\"Your company appears to have compliance achievements.\"\n-\"Research shows you may be pursuing certification.\"\n\nSkip Compliance Mention If:\n-You only found old or expired certifications.\n-The framework status is unclear.\n-You found third-party mentions without official confirmation.\n-You cannot confirm the exact framework name.","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[29700,620],"id":"3eb5dc9e-beda-4e48-a709-bc730c0bc2ab","name":"Framework research results","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.1,"position":[29640,820],"id":"aa42fcfb-4f74-4fee-b4e8-6a8d3700d040","name":"OpenAI Chat Model - Framework research results","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsCode":"const original = $('Adding Framework Count').first().json\nlet sentence = $json?.output || ''\nif($('Adding Framework Count').item.json.company_info.framework_review.confirmed_frameworks.length === 0){\n  sentence = ''\n}\noriginal.company_info.framework_review.framework_research_results = sentence\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[30080,620],"id":"2f7d7d52-ec68-4a6e-af6c-104cb370f795","name":"Adding Framework Research Results"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[30340,820],"id":"dce4125e-e6d4-49b1-810f-e802f9d5b7d1","name":"Single Framework Benefits (Casual) Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"benefit_sentence\": \"\",\n\t\"benefit_framework\": \"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[30560,820],"id":"b087e151-3ca6-4fa5-8f12-573bed25480b","name":"Structured Output Parser"},{"parameters":{"jsCode":"const original = $('Adding Framework Count').first().json\noriginal.personalization.benefit_sentence = $input.first().json?.output?.benefit_sentence || \"\"\noriginal.personalization.benefit_framework = $input.first().json?.output?.benefit_framework || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[30700,620],"id":"da731fc0-d78a-4bf4-b2ba-883b0f17810d","name":"Adding Content - Benefit"},{"parameters":{"promptType":"define","text":"=### INFORMATION\nA prospect visited a page on our website about {{$json.technical_data.page_visited_framework}}.  The prospect's company currently has implemented the following IT Compliance Audits/Certifications: \n\nCurrent Frameworks Held by Company {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n\nWe believe their reason for visiting is: {{$json.user_info.visit_intent}}\n\n### COMPLIANCE FRAMEWORK BENEFITS\n## SOC 1 Benefits:\nKeep your clients' money safe, land those big company deals, and get your books in perfect shape.\n\n## SOC 2\nStart winning business in strict industries, show clients their data is in good hands, and beef up your security game.\n\n## SOC 1 & 2:\nShow the world you take security seriously, win over those hard-to-please enterprise clients, and handle their data like a pro.\n\n## HIPAA:\nGet more healthcare clients, keep patient info safe from hackers, and make your medical work run smoother.\n\n## HITRUST:\nLand bigger healthcare deals, nail multiple security checks at once, and make your security way simpler.\n\n## PCI DSS:\nStart taking cards safely, keep your customers safe from fraud, and dodge those nasty breach fines.\n\n## ISO 27001:\nWin business worldwide, show everyone you're serious about security, and keep your data locked down tight.\n\n## ISO 42001:\nWin more AI business, show your AI can be trusted, and build better tech the right way.\n\n## ISO 50001:\nCut your power bills big time, show you care about the planet, and win over eco-friendly customers.\n\n## CMMC:\nGet in on those defense contracts, keep government secrets safe, and level up your security setup.\n\n## CCPA:\nDo business in California, handle customer info the right way, and avoid those huge privacy fines.\n\n## GDPR:\n\nDo business in Europe, handle customer info the right way, and avoid those huge privacy fines.\n\n## GLBA:\nLand more banking business, keep customer money info safe, and stop hackers in their tracks.\n\n## FISMA:\nWin those government deals, handle federal info like a pro, and make your security rock-solid.\n\n## MAR/SOX:\nGet investors to trust you more, stop money mishaps before they happen, and run a tighter ship.\n\n## MARS-E:\nGet in on healthcare exchange deals, keep health records super safe, and nail those ACA requirements.\n\n## NERC:\nBreak into the power industry, keep the grid safe from attacks, and keep everything running smooth.\n\n## NYDFS:\nGet more NY banking business, lock down financial info tight, and boost your security setup.\n\n## NIST AI RMF:\nWin more AI contracts, build AI that people trust, and handle AI risks like a pro.\n\n## HITRUST AI RMF:\nGet more healthcare AI deals, knock out multiple AI requirements at once, and keep your AI risks in check.\n\n## NIST CSF:\nLand government contracts, meet security standards easily, and make your cyber defense strong.\n\n## NIST SP 800-53:\nGet federal contracts rolling in, nail multiple security requirements, and stay ahead of new threats.\n\n## NIST IoT:\nWin more smart device deals, keep connected gadgets safe, and stop IoT hackers cold.\n\n## NIST AI RMF:\nLand bigger AI projects, build AI that works right, and keep AI problems from happening.\n\n<TASK>\nLet's choose the framework that this prospect is most interested in and select a benefit sentence to send them.  Consider the page the prospect visited first, then consider if there is a connection between the compliance framework of the page they visited and current compliance frameworks/certficiations held by ${input.company_info.name}.   Sometimes there will be two frameworks associated with a page.  In this situation, choose the framework that you believe the person is most interested in.  ${input.company_info.name};s current frameworks/certifications that they have, if they have any.  \n\n<OUTPUT>\nYour output will have two parts.   The first part will be the main framework you chose.   The second part will be the benefit sentence related to that framework.  Do not explain your answer or add any additional words to the output.    For example, if the framework/certification is SOC 1, your output will be:  Keep your clients' money safe, land those big company deals, and get your books in perfect shape.\n\nIf the page is about SOC 1 and SOC 2, and you are unable to choose the best framework, you can respond with the SOC 1 & 2 Benefits, which combine SOC 1 and SOC 2 benefits. \n\nIf you are unable to determine a framework/certification, then your output should be \"Unable to determine\" \n\nThe benefit sentence will be inserted into the \"benefit_sentence\" field.   The framework you choose will be inserted into the \"benefit_framework\" field. \n\nFor example, if HITRUST is the framework the person was interested in, then you would insert the \"Land bigger healthcare deals, nail multiple security checks at once, and make your security way simpler.\n\"  into the \"benefits_sentence\" field and \"HITRUST\" into the \"benefit_framework\".  \n\nFor example, if NIST AI RMF is the framework, then you will insert \"Get federal contracts rolling in, nail multiple security requirements, and stay ahead of new threats.\n\"  into the \"benefits_sentence\" field and \"NIST AI RMF\" into the \"benefit_framework\".  \n\n<IMPORTANT>\nDo not include the word \"Benefits\" in the \"benefit_framework\" output.  The \"benefit_framework\" will be the framework/certification.  It should not include the word \"benefits\".","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[30340,620],"id":"7efcd926-5fd7-48ad-8e57-c873ed1d567f","name":"Content Benefit","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let PrimaryFrameworks = [];\nif ($json.company_info.framework_review.confirmed_frameworks_primary && $json.company_info.framework_review.confirmed_frameworks_primary !== \"Not Found\") {\n  PrimaryFrameworks = $json.company_info.framework_review.confirmed_frameworks_primary.split(\",\");\n  PrimaryFrameworks = PrimaryFrameworks.map(framework => framework.trim());\n}\n\n\nconst data = {\n  \"Phone (Contact)\":$json.user_info.phone_number,\n  \"Email (Contact)\":$json.user_info.primary_email,\n  \"LinkedIn Profile URL\":$json.user_info.social_urls.linked_in,\n  \"Job Title\":$json.user_info.role,\n  \"Job Challenges\":$json.user_info.job_challenges,\n  \"Job Responsibilities\":$json.user_info.job_responsibilities,\n  \"Job Title Normalized\":$json.user_info.role_normalized,\n  \"Picture\":$json.user_info.profile_pick,\n  \"About Contact\":$json.user_info.report,\n  \"ICP - Contact Score\":\"\",\n  \"ICP - Contact Tier\":\"\",\n  \"Industry\":$json.company_info.industry,\n  \"ICP - Company Score\":`${$json.company_info.icp_score.overall_score.totalScore}/${$json.company_info.icp_score.overall_score.maxPossibleScore}`,\n  \"ICP - Company Tier\": $json.company_info.icp_score.total_score_string,\n  \"Company Name\": $json.company_info.name,\n  \"Years in Business\":$json.company_info.years_in_business,\n  \"Company Name - Normalized\":$json.company_info.name_normalized,\n  \"Employee Count\": $json.company_info.size,\n  \"About Company\": $json.company_info.report,\n  \"Compliance - Primary Frameworks\":PrimaryFrameworks,\n  \"Compliance - Secondary Frameworks\":$json.company_info.framework_review.confirmed_frameworks_secondary,\n  \"Auditors\":$json.company_info.framework_review.confirmed_auditors,\n  \"GRC Software\":$json.company_info.framework_review.confirmed_grc_tools,\n  \"Competitor\":$json.company_info.competitor_partner_classification.is_competitor === \"FALSE\" ? \"False\" : \"True\",\n  \"Content - Related Customers\":$json.personalization.related_customers,\n  \"Content - Related Customer\":$json.personalization.related_customer,\n  \"Content - Sentence - Social Proof\": $json.personalization.email_analysis.related_customers,\n  \"Content - Framework\":$json.personalization['Content-Framework'],\n  \"Content - Frameworks\": $json.personalization['Content-Frameworks'],\n  \"Content - Sentence - Saw Compliance Status\": $json.company_info.framework_review.framework_research_results,\n  \"Content - Sentence - Compliance Benefits\": $json.personalization.benefit_sentence,\n  \"Compliance - Has Single Framework\":$json.personalization['Compliance - Has Single Framework'],\n  \"Compliance - Has Multiple Frameworks\":$json.personalization['Compliance - Has Multiple Frameworks'],\n  \"Partner Opportunity\":$json.company_info.competitor_partner_classification.is_partner === \"FALSE\" ? \"False\" : \"True\",\n  \"Services\":$json.company_info.products ? $json.company_info.products.join(\",\"):\"\",\n  \"Specialities\":$json.company_info.specialities && $json.company_info.specialities.length > 0 ? $json.company_info.specialities.join(\",\") :\"\",\n  \"LinkedIn Page\":$json.company_info.social_urls.linked_in,\n  \"LinkedIn Follower Count\":$json.user_info.linked_in_data.follower_count,\n  \"Is active on LinkedIn\":$json.user_info.linked_in_data.is_active_on_linked_in === \"false\" ? \"False\" : \"True\",\n  \"Last Funding Round Date\":$json.company_info.funding.latest_round_year,\n  \"Last Funding Round Amount\":$json.company_info.funding.latest_round_amount,\n  \"Street Address\":$json.company_info.location.address,\n  \"City\":$json.company_info.location.city,\n  \"State\":$json.company_info.location.state,\n  \"Postal Code\":$json.company_info.location.zip,\n  \"Country\":$json.company_info.location.country,\n  \"Content - Email 1 - Sentence - Opening\":$('Code').item.json.personalization.email_analysis.opening_sentence,\n  \"Content - Email 1 - Sentence - Bridge 1\":$('Code').item.json.personalization.email_analysis.bridge_sentence_one,\n  \"Content - Email 1 - Sentence - Bridge 2\": $json.personalization.bridge_sentence_two,\n  \"Content - Email 1 - Sentence - How We Help\": $('Code').item.json.personalization.email_analysis.how_can_we_help,\n  \"Content - Email 1 - Sentence - Related Customers\":$('Code').item.json.personalization.email_analysis.related_customers,\n  \"Content - Email 1 - Sentence - Closing\":$('Code').item.json.personalization.email_analysis.closing_sentence ,\n  \"LinkedIn Summary\":$json.user_info.linked_in_data.profile_data.summary,\n  \"LinkedIn Headline\":$json.user_info.linked_in_data.profile_data.headline\n}\n\nreturn {data, original:$json}\n\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[31720,580],"id":"76b1ce1f-01f4-4e2c-b67d-7b889f9ea732","name":"HubSpot Data"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"1d2215d6-2933-4c5e-ba6a-61cd9a9fe362","leftValue":"={{ $json.original.company_info.icp_score.total_score_string }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}},{"id":"18380cd9-f5b7-43fa-a9a5-f2ca82fde0fb","leftValue":"={{ $json.original.company_info.icp_score.total_score_string }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"253620e7-de9b-43b1-a71b-de39e41b3e3b","leftValue":"={{ $json.data.Competitor }}","rightValue":"FALSE","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}},{"id":"af094130-1c5a-4b94-ab88-994a9cbb7a14","leftValue":"={{ $json.original.company_info.icp_score.total_score_string }}","rightValue":"1","operator":{"type":"string","operation":"notEquals"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[31740,0],"id":"cd6e9ae1-645d-45bd-8858-3c2eb095d6b5","name":"Does Prospect have a Tier ? AND they are not a competitor"},{"parameters":{"authentication":"appToken","resource":"contactList","email":"={{ $json.original.user_info.primary_email }}","listId":1129},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[31960,820],"id":"9892ca14-1c32-46e6-82c5-57fd028aaf86","name":"Add to a list","credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-2140,900],"id":"25a4d634-83d3-45c2-b2e0-1ea6cee15f2e","name":"When Executed by Another Workflow"}],"connections":{"Anthropic Chat Model":{"ai_languageModel":[[{"node":"Finding Missing data Agent","type":"ai_languageModel","index":0}]]},"Anhtropic Query":{"main":[[{"node":"Finding Missing data Agent","type":"main","index":0}]]},"Summarizing":{"main":[[{"node":"Anhtropic Query","type":"main","index":0}]]},"Anthropic Response":{"main":[[{"node":"Email Finder Agent","type":"main","index":0}]]},"Combining Email data":{"main":[[{"node":"Supabase","type":"main","index":0}]]},"Finding Linked In query":{"main":[[{"node":"Finding Linked In2","type":"main","index":0}]]},"Is personal LinkedIn present?":{"main":[[{"node":"Is personal OR company LinkedIn present?","type":"main","index":0}],[{"node":"Finding Linked In query","type":"main","index":0}]]},"Is personal OR company LinkedIn present?":{"main":[[{"node":"Profile Search","type":"main","index":0}],[{"node":"Mobile Finder query","type":"main","index":0}]]},"Mobile Finder query":{"main":[[{"node":"Mobile Finder","type":"main","index":0}]]},"Company Search query":{"main":[[{"node":"Do we have Linked in, company domain or company name ?","type":"main","index":0}]]},"Do we have Linked in, company domain or company name ?":{"main":[[{"node":"Company Search","type":"main","index":0}],[{"node":"Summarizing User Info","type":"main","index":0}]]},"Company Search":{"main":[[{"node":"Summarizing User Info","type":"main","index":0}]]},"Combining Company - User - Technical Data":{"main":[[{"node":"Analyzing data","type":"main","index":0}]]},"Finding Linked In2":{"main":[[{"node":"Is personal OR company LinkedIn present?","type":"main","index":0}]]},"Profile Search":{"main":[[{"node":"Mobile Finder query","type":"main","index":0}]]},"Mobile Finder":{"main":[[{"node":"Company Search query","type":"main","index":0}]]},"Summarizing Company Info":{"main":[[{"node":"Summarizing Technical Data","type":"main","index":0}]]},"Summarizing User Info":{"main":[[{"node":"Summarizing Company Info","type":"main","index":0}]]},"Page Information prompt":{"main":[[{"node":"Page Visited Agent","type":"main","index":0}]]},"Page info - Output parser":{"ai_outputParser":[[{"node":"Page Visited Agent","type":"ai_outputParser","index":0}]]},"Page Visited Agent":{"main":[[{"node":"Combining Page Info. Data","type":"main","index":0}]]},"About the Contact - Output parser":{"ai_outputParser":[[{"node":"About the Contact Agent","type":"ai_outputParser","index":0}]]},"Combining Page Info. Data":{"main":[[{"node":"About the Company prompt","type":"main","index":0}]]},"About the Company prompt":{"main":[[{"node":"About the Company Agent","type":"main","index":0}]]},"Combining Contact non-public information":{"main":[[{"node":"Competitor/Partner Classification","type":"main","index":0}]]},"Combining Company info. data":{"main":[[{"node":"Funding","type":"main","index":0}]]},"About the contact prompt":{"main":[[{"node":"About the Contact Agent","type":"main","index":0}]]},"About the Company Agent":{"main":[[{"node":"Combining Company info. data","type":"main","index":0}]]},"About the Contact Agent":{"main":[[{"node":"Combining Contact non-public information","type":"main","index":0}]]},"Finding Missing data Agent":{"main":[[{"node":"Anthropic Response","type":"main","index":0}]]},"Finding Missing Data - Parser":{"ai_outputParser":[[{"node":"Finding Missing data Agent","type":"ai_outputParser","index":0}]]},"Analyzing data":{"main":[[{"node":"Prospect final structure","type":"main","index":0}]]},"Prospect final structure":{"main":[[{"node":"Company Name Normalized","type":"main","index":0}]]},"Analyzing data - Parser":{"ai_outputParser":[[{"node":"Analyzing data","type":"ai_outputParser","index":0}]]},"About Company - Parser":{"ai_outputParser":[[{"node":"About the Company Agent","type":"ai_outputParser","index":0}]]},"Framework Agent - First":{"main":[[{"node":"Combining frameworks  - 1","type":"main","index":0}]]},"Framework First - Parser":{"ai_outputParser":[[{"node":"Framework Agent - First","type":"ai_outputParser","index":0}]]},"Framework Agent - Second":{"main":[[{"node":"Combining frameworks - 2","type":"main","index":0}]]},"Framework Second - Parser":{"ai_outputParser":[[{"node":"Framework Agent - Second","type":"ai_outputParser","index":0}]]},"Auditor & GRC Tool Agent":{"main":[[{"node":"Combining Auditor & GRC Tool","type":"main","index":0}]]},"Auditor & GRC Tool - Parser":{"ai_outputParser":[[{"node":"Auditor & GRC Tool Agent","type":"ai_outputParser","index":0}]]},"Combining Auditor & GRC Tool":{"main":[[{"node":"Frameworks - Review Agent","type":"main","index":0}]]},"Combining frameworks  - 1":{"main":[[{"node":"Framework Agent - Second","type":"main","index":0}]]},"Combining frameworks - 2":{"main":[[{"node":"Auditor & GRC Tool Agent","type":"main","index":0}]]},"Frameworks - Review Agent":{"main":[[{"node":"Combining Framework Review","type":"main","index":0}]]},"OpenAI Chat Model - Page Info":{"ai_languageModel":[[{"node":"Page Visited Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Company Info":{"ai_languageModel":[[{"node":"About the Company Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Contact info.":{"ai_languageModel":[[{"node":"About the Contact Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Auditor & GRC Tool":{"ai_languageModel":[[{"node":"Auditor & GRC Tool Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Framework First":{"ai_languageModel":[[{"node":"Framework Agent - First","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Framework Second":{"ai_languageModel":[[{"node":"Framework Agent - Second","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Framework Review":{"ai_languageModel":[[{"node":"Frameworks - Review Agent","type":"ai_languageModel","index":0}]]},"Framework review - Parser":{"ai_outputParser":[[{"node":"Frameworks - Review Agent","type":"ai_outputParser","index":0}]]},"Combining Framework Review":{"main":[[{"node":"Confirmed Frameworks (Primary)","type":"main","index":0}]]},"Prospect Report":{"main":[[{"node":"Opening Sentence","type":"main","index":0}]]},"Adding to database":{"main":[[{"node":"Lemlist Data","type":"main","index":0},{"node":"Sending out slack notification","type":"main","index":0},{"node":"Is Tier 1 ?","type":"main","index":0}]]},"Vector data normalization":{"main":[[{"node":"Summarizing","type":"main","index":0}]]},"HubSpot Integration- Data Normalization":{"main":[[{"node":"Summarizing","type":"main","index":0}]]},"Summarizing Technical Data":{"main":[[{"node":"Combining Company - User - Technical Data","type":"main","index":0}]]},"Lead magic Email Finder":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Findymail Email Finder 1":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Findymail Email Finder 2":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Prospeo Email Finder":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"LeadMagic Email Validation":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Split Out":{"main":[[{"node":"Combining Email data","type":"main","index":0}]]},"Email Finder Agent":{"main":[[{"node":"Split Out","type":"main","index":0}]]},"OpenAI Chat Model - Email finder":{"ai_languageModel":[[{"node":"Email Finder Agent","type":"ai_languageModel","index":0}]]},"Email Finder Parser":{"ai_outputParser":[[{"node":"Email Finder Agent","type":"ai_outputParser","index":0}]]},"Analyzing data Open AI Model":{"ai_languageModel":[[{"node":"Analyzing data","type":"ai_languageModel","index":0}]]},"Findymail Email Finder 3":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Data Normalization":{"main":[[{"node":"Prospect Report","type":"main","index":0}]]}," Related Customers (Names)":{"main":[[{"node":"Adding Related Customers","type":"main","index":0}]]}," Related Customers (Names) Model":{"ai_languageModel":[[{"node":" Related Customers (Names)","type":"ai_languageModel","index":0}]]}," Related Customers (Name) Model":{"ai_languageModel":[[{"node":" Related Customers (Name)","type":"ai_languageModel","index":0}]]}," Related Customers (Name)":{"main":[[{"node":"Adding Related Customer","type":"main","index":0}]]},"Matches framework of the Page":{"main":[[{"node":"Combining Matched Frameworks","type":"main","index":0}]]},"OpenAI Chat Model - Matching Frameworks":{"ai_languageModel":[[{"node":"Matches framework of the Page","type":"ai_languageModel","index":0}]]},"Matched Frameworks - Parser":{"ai_outputParser":[[{"node":"Matches framework of the Page","type":"ai_outputParser","index":0}]]},"Combining Matched Frameworks":{"main":[[{"node":"ICP Score - Agent V1","type":"main","index":0}]]},"ICP Job Title":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Score - Parser":{"ai_outputParser":[[{"node":"ICP Score - Agent V1","type":"ai_outputParser","index":0}]]},"ICP Company Size":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Intent":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Framework":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"Geolocation Assistant":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Location":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Industrty":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Score - Agent V1":{"main":[[{"node":"Formatting ICP Score","type":"main","index":0}]]},"Formatting ICP Score":{"main":[[{"node":"ICP Summary","type":"main","index":0}]]},"Anthropic Chat Model1":{"ai_languageModel":[[{"node":"ICP Score - Agent V1","type":"ai_languageModel","index":0}]]},"Calculator1":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"Multiple Framework":{"main":[[]]},"Single Framework":{"main":[[]]},"ICP Summary":{"main":[[{"node":"Combining ICP summary","type":"main","index":0}]]},"OpenAI Chat Model - ICP Summary":{"ai_languageModel":[[{"node":"ICP Summary","type":"ai_languageModel","index":0}]]},"Combining ICP summary":{"main":[[{"node":"Data Normalization","type":"main","index":0}]]},"Supabase":{"main":[[{"node":"Already Enriched ?","type":"main","index":0}]]},"Already Enriched ?":{"main":[[],[{"node":"Is personal LinkedIn present?","type":"main","index":0}]]},"HubSpot meeting data exists ?":{"main":[[{"node":"Updating Meeting information1","type":"main","index":0}],[{"node":"HubSpot Enrichment ?","type":"main","index":0}]]},"ICP Summary parser":{"ai_outputParser":[[{"node":"ICP Summary","type":"ai_outputParser","index":0}]]},"LinkedIn - Profile Data":{"main":[[{"node":"LinkedIn - Posts","type":"main","index":0}]]},"LinkedIn - Posts":{"main":[[{"node":"LinkedIn - Connection & Follower Count","type":"main","index":0}]]},"LinkedIn - Connection & Follower Count":{"main":[[{"node":"LinkedIn - Company Information","type":"main","index":0}]]},"Linked In Scraped Data":{"main":[[{"node":"Page Information prompt","type":"main","index":0}]]},"HubSpot Enrichment ?":{"main":[[{"node":"Formatting for HubSpot Contact - Update","type":"main","index":0}]]},"LinkedIn - Company Information":{"main":[[{"node":"Linked In Scraped Data","type":"main","index":0}]]},"Formatting for HubSpot Contact - Update":{"main":[[{"node":"Formatting for HubSpot Company - Updates","type":"main","index":0}]]},"Mockup Data":{"main":[[]]},"Competitor/Partner Classification Model":{"ai_languageModel":[[{"node":"Competitor/Partner Classification","type":"ai_languageModel","index":0}]]},"Competitor/Partner Parser":{"ai_outputParser":[[{"node":"Competitor/Partner Classification","type":"ai_outputParser","index":0}]]},"Competitor/Partner Classification":{"main":[[{"node":"Adding Competitor Partner Classification","type":"main","index":0}]]},"Adding Competitor Partner Classification":{"main":[[{"node":"Framework Agent - First","type":"main","index":0}]]},"OpenAI Chat Model - Confirmed Frameworks (Primary))":{"ai_languageModel":[[{"node":"Confirmed Frameworks (Primary)","type":"ai_languageModel","index":0}]]},"Confirmed Frameworks (Primary)":{"main":[[{"node":"Adding Confirmed Frameworks (Primary)","type":"main","index":0}]]},"Adding Confirmed Frameworks (Primary)":{"main":[[{"node":"Confirmed Frameworks (Secondary)","type":"main","index":0}]]},"OpenAI Chat Model - Confirmed Frameworks (Secondary)":{"ai_languageModel":[[{"node":"Confirmed Frameworks (Secondary)","type":"ai_languageModel","index":0}]]},"Confirmed Frameworks (Secondary)":{"main":[[{"node":"Adding Confirmed Frameworks (Secondary)","type":"main","index":0}]]},"Adding Confirmed Frameworks (Secondary)":{"main":[[{"node":"Matches framework of the Page","type":"main","index":0}]]},"OpenAI Chat Model - Company Name Normalized":{"ai_languageModel":[[{"node":"Company Name Normalized","type":"ai_languageModel","index":0}]]},"Company Name Normalized":{"main":[[{"node":"Adding Normalized Company Name","type":"main","index":0}]]},"Adding Normalized Company Name":{"main":[[{"node":"Job Title Normalized","type":"main","index":0}]]},"OpenAI Chat Model - Job Title Normalized":{"ai_languageModel":[[{"node":"Job Title Normalized","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Job Title Normalized":{"ai_outputParser":[[{"node":"Job Title Normalized","type":"ai_outputParser","index":0}]]},"Job Title Normalized":{"main":[[{"node":"Adding Normalized Job Title","type":"main","index":0}]]},"Adding Normalized Job Title":{"main":[[{"node":"LinkedIn - Profile Data","type":"main","index":0}]]},"OpenAI Chat Model - Opening Sentence":{"ai_languageModel":[[{"node":"Opening Sentence","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Funding","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Company Funding":{"ai_outputParser":[[{"node":"Funding","type":"ai_outputParser","index":0}]]},"Funding":{"main":[[{"node":"Adding Funding To Company","type":"main","index":0}]]},"Adding Funding To Company":{"main":[[{"node":"Company Positive Article","type":"main","index":0}]]},"OpenAI Chat Model - Company Positive Article":{"ai_languageModel":[[{"node":"Company Positive Article","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Positive Article URL":{"ai_outputParser":[[{"node":"Company Positive Article","type":"ai_outputParser","index":0}]]},"Company Positive Article":{"main":[[{"node":"Adding positive article URL","type":"main","index":0}]]},"Adding positive article URL":{"main":[[{"node":"Positive Article Analysis","type":"main","index":0}]]},"OpenAI Chat Model - Positive Article Analysis":{"ai_languageModel":[[{"node":"Positive Article Analysis","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Positive Article Analysis":{"ai_outputParser":[[{"node":"Positive Article Analysis","type":"ai_outputParser","index":0}]]},"Positive Article Analysis":{"main":[[{"node":"Adding Article Analysis","type":"main","index":0}]]},"Adding Article Analysis":{"main":[[{"node":"About the contact prompt","type":"main","index":0}]]},"Opening Sentence":{"main":[[{"node":"Adding Opening Sentence","type":"main","index":0}]]},"Adding Opening Sentence":{"main":[[{"node":"Bridge","type":"main","index":0}]]},"OpenAI Chat Model Bridge":{"ai_languageModel":[[{"node":"Bridge","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Bridge":{"ai_outputParser":[[{"node":"Bridge","type":"ai_outputParser","index":0}]]},"Bridge":{"main":[[{"node":"Adding Bridge Sentence","type":"main","index":0}]]},"Adding Bridge Sentence":{"main":[[{"node":"How Can We Help - Sentence","type":"main","index":0}]]},"OpenAI Chat Model - How Can We Help ?":{"ai_languageModel":[[{"node":"How Can We Help - Sentence","type":"ai_languageModel","index":0}]]},"How Can We Help - Sentence":{"main":[[{"node":"Adding How Can We Help","type":"main","index":0}]]},"Adding How Can We Help":{"main":[[{"node":"Related Customers Sentence","type":"main","index":0}]]},"Related Customers":{"ai_languageModel":[[{"node":"Related Customers Sentence","type":"ai_languageModel","index":0}]]},"Related Customers Sentence":{"main":[[{"node":"Adding Related Customers Sentence","type":"main","index":0}]]},"Adding Related Customers Sentence":{"main":[[{"node":"Closing Sentence","type":"main","index":0}]]},"OpenAI Chat Model - Closing Sentence":{"ai_languageModel":[[{"node":"Closing Sentence","type":"ai_languageModel","index":0}]]},"Closing Sentence":{"main":[[{"node":"Adding Closing Sentence","type":"main","index":0}]]},"Adding Closing Sentence":{"main":[[{"node":"Email Analysis","type":"main","index":0}]]},"OpenAI Chat Model - Email Analysis":{"ai_languageModel":[[{"node":"Email Analysis","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Email Analysis":{"ai_outputParser":[[{"node":"Email Analysis","type":"ai_outputParser","index":0}]]},"Email Analysis":{"main":[[{"node":"Adding Email Analysis","type":"main","index":0}]]},"Adding Email Analysis":{"main":[[{"node":"Email Subject","type":"main","index":0}]]},"OpenAI Chat Model - Email Subject":{"ai_languageModel":[[{"node":"Email Subject","type":"ai_languageModel","index":0}]]},"Email Subject":{"main":[[{"node":"Adding Email Subject","type":"main","index":0}]]},"Adding Email Subject":{"main":[[{"node":" Related Customers (Name)","type":"main","index":0}]]},"Adding Related Customer":{"main":[[{"node":" Related Customers (Names)","type":"main","index":0}]]},"Adding Related Customers":{"main":[[{"node":"Has a Single framework or multiple ?","type":"main","index":0}]]},"Do they have single framework ?":{"main":[[{"node":"Single Framework","type":"main","index":0}],[{"node":"Multiple Framework","type":"main","index":0}]]},"Lemlist Data":{"main":[[{"node":"Does Prospect have a Tier ? AND they are not a competitor","type":"main","index":0},{"node":"Sent to Clay","type":"main","index":0}]]},"OpenAI Chat Model - Framework Count":{"ai_languageModel":[[{"node":"Has a Single framework or multiple ?","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Framework Count":{"ai_outputParser":[[{"node":"Has a Single framework or multiple ?","type":"ai_outputParser","index":0}]]},"Has a Single framework or multiple ?":{"main":[[{"node":"Adding Framework Count","type":"main","index":0}]]},"Adding Framework Count":{"main":[[{"node":"Framework research results","type":"main","index":0}]]},"Vector Data":{"main":[[{"node":"Vector data normalization","type":"main","index":0}]]},"RB2B Data":{"main":[[{"node":"RB2B Data normalization","type":"main","index":0}]]},"RB2B Data normalization":{"main":[[{"node":"Summarizing","type":"main","index":0}]]},"Finding HubSpot Company":{"main":[[{"node":"Limit","type":"main","index":0}]]},"Updating HubSpot Contact":{"main":[[{"node":"Finding HubSpot Company","type":"main","index":0}]]},"Limit":{"main":[[{"node":"Updating HubSpot Company","type":"main","index":0}]]},"Is Tier 1 ?":{"main":[[{"node":"HubSpot Data","type":"main","index":0}],[]]},"OpenAI Chat Model - Framework research results":{"ai_languageModel":[[{"node":"Framework research results","type":"ai_languageModel","index":0}]]},"Framework research results":{"main":[[{"node":"Adding Framework Research Results","type":"main","index":0}]]},"Adding Framework Research Results":{"main":[[{"node":"Content Benefit","type":"main","index":0}]]},"Single Framework Benefits (Casual) Model":{"ai_languageModel":[[{"node":"Content Benefit","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Content Benefit","type":"ai_outputParser","index":0}]]},"Content Benefit":{"main":[[{"node":"Adding Content - Benefit","type":"main","index":0}]]},"Adding Content - Benefit":{"main":[[{"node":"Adding to database","type":"main","index":0}]]},"HubSpot Data":{"main":[[{"node":"Updating HubSpot Contact","type":"main","index":0},{"node":"Add to a list","type":"main","index":0}]]},"Does Prospect have a Tier ? AND they are not a competitor":{"main":[[{"node":"Do they have single framework ?","type":"main","index":0}],[]]},"When Executed by Another Workflow":{"main":[[{"node":"HubSpot Integration- Data Normalization","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"8b842739-bf78-42fb-ba56-839055f229e3","triggerCount":2,"tags":[{"createdAt":"2024-09-16T17:47:31.046Z","updatedAt":"2024-09-16T17:47:31.046Z","id":"S6G5nzOVVSQAgvEd","name":"ispartnersllc.com"}]}