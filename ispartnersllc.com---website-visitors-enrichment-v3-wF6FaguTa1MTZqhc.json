{"createdAt":"2025-02-26T20:45:24.469Z","updatedAt":"2025-03-07T23:28:26.000Z","id":"wF6FaguTa1MTZqhc","name":"ispartnersllc.com - Website Visitors Enrichment V3","active":true,"nodes":[{"parameters":{"content":"","height":710,"width":39327,"color":5},"id":"61b6b0a8-152c-4f30-8a8a-e6f501e71f58","name":"Sticky Note18","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-33520,680]},{"parameters":{"content":"# Email","height":657.5396701276555,"width":1638.5456474464108},"id":"a692360c-1ff9-4401-b86c-961a9cf5f1a4","name":"Sticky Note19","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-31720,700]},{"parameters":{"content":"# Profile Search\n","height":662.0009562366216,"width":474.6057449096941},"id":"85d7cc92-ce87-4420-8f7f-bbb7045d0484","name":"Sticky Note20","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-28100,700]},{"parameters":{"content":"# Mobile Finder\n","height":668.0153059386458,"width":531.407552793027},"id":"d6bcfc52-f329-4844-9579-edf7bdc01c57","name":"Sticky Note21","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-27600,700]},{"parameters":{"content":"# Company Search","height":665.6974451120005,"width":616.2127612181199},"id":"5ec1f19c-e061-4f24-8248-cfd8292c22c6","name":"Sticky Note22","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-27040,700]},{"parameters":{"content":"# Finding Linked In","height":662.0009562366216,"width":744.3058102443995},"id":"4767451a-c0a5-4c1d-a694-fc8d36fb6a3f","name":"Sticky Note23","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-28860,700]},{"parameters":{"content":"# Combining enriched data","height":666.3611607590979,"width":1104.1482358361466},"id":"609050d6-85af-4c5c-b414-966eff1b16f2","name":"Sticky Note24","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-26400,700]},{"parameters":{"content":"# Finding most probable data","height":666,"width":846},"id":"1bb7e68a-39f8-48b3-887d-9ab23e280896","name":"Sticky Note25","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-25280,700]},{"parameters":{"model":"claude-3-5-sonnet-20241022","options":{}},"id":"76bb7461-3cd7-424f-b45b-d2b92d08b870","name":"Anthropic Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.2,"position":[-32360,1200],"credentials":{"anthropicApi":{"id":"h0MMyf5nQ4cycwwR","name":"searchactions.com: ispartnersllc.com - Visitor Enrichment"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const input = $('Summarizing').first().json\n\nconst message = `\n${JSON.stringify(input)}\n-- YOUR TASK --\nFill out missing information about the company and the user\n(User that visited Client's website and their Company).\nUse the data that exists to help you out in your task.\n\nThe most important data that we need are:\n- Users First Name and Last Name\n- Users Primary Email (This is important to find)\n- Users Linked IN profile URL \n- Company Linked IN profile URL\n- Company Name and Domain\n- Users Profile Picture URL (Find on Linked in or Scraping the Web)\n\n-- TASK EXAMPLE -- \nIf there is for example Company name provided, use that to search \nadditional information about that Company on the internet (Size, Revenue, Domain, etc.).\nCompany domain can be also helpful: ${input.company_info.domain}.\n\n\n-- INFORMATION ABOUT PROVIDED OBJECT KEY'S --- \n- User info Object\nfirst_name (First Name of the User)\nlast_name (Last Name of the User) \nrole (Users role / title in the Company)\nprimary_email (Users primary email) \npersonal_emails (Array of users personal emails)\nwork_emails (Array of users work emails)\nphone_numbers (Array of Users phone numbers )\nsocial_urls (Object providing Social URL's of the User)\nlocation (Object providing users Location)\n- Company Info Object\nname (Name of the Company)\nsize (Company's number of employees)\nrevenue (Company's revenue)\ndomain (Domain of companies Website)\nindustry (The industry that the Company is in)\nsocial_urls (Object of Company's social URL's )\nphone_numbers (Array of Company's phone numbers)\nlocation (Object providing Company's location)\n\n\n--- RULES ---\na) IMPORTANT! Do not fill any information about technical_data and upcoming_meeting_data but include them in your response.\nb) Try to have as little empty values for the key's inside the object.\n`\n\n\nreturn {message:message};\n//.replace(/\\s/g, '')"},"id":"28b42d4d-9386-4744-b5ac-1e2ac7c1d96b","name":"Anhtropic Query","type":"n8n-nodes-base.code","typeVersion":2,"position":[-32560,960]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const formatted = {\n  \"user_info\":{\n    \"first_name\": \"Cameron\" ,\n    \"last_name\": \"Fulton\",\n    \"role\":\"\",\n    \"primary_email\": \"\",\n    \"personal_emails\":  [],\n    \"work_emails\": [],\n    \"phone_numbers\":[],\n    \"social_urls\":{\n     \"linked_in\": \"\",\n    },\n    \"location\":{\n      \"city\": \"\" ,\n      \"state\":\"\",\n      \"zip\":\"\"\n    },\n  },\n  \"company_info\":{\n    name: \"Search Actions\",\n    size: \"\",\n    revenue: \"\",\n    domain: \"https://www.searchactions.com/\",\n    industry: \"\",\n    social_urls:{\n     linked_in: \"https://www.linkedin.com/company/searchactions\",\n     facebook: \"\",\n     twitter: \"\",\n     instagram: \"\",\n    },\n    phone_numbers:[],\n    \"location\":{\n      \"city\":\"\",\n      \"state\":\"\",\n      \"country\":\"\",\n      \"address\":\"\",\n      \"zip\":\"\",\n    }\n  },\n   technical_data:{\n    \"page_visited_url\": \"https://example.com/home\" || \"\",\n    \"utmCampaign\": \"Winter Campaign\" || \"\",\n    \"utmContent\": \"product_launch\" || \"\",\n    \"utmMedium\": \"email\" || \"\",\n    \"utmSource\": \"newsletter\" || \"\",\n    \"utmTerm\": \"new_product\" || \"\",\n    \"vvid\": \"1234abcd\" || \"\",\n    \"hem\": \"heme123\"\n  }\n}\nreturn formatted\n"},"id":"9d824ade-74a5-49fc-83e2-4b9cd7aa9d03","name":"Mockup Data","type":"n8n-nodes-base.code","typeVersion":2,"position":[-33180,720]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst input = $input.item.json;\n\nconst user_info = input.user_info\nconst company_info = input.company_info\nconst technical_data = input.technical_data\nconst upcoming_meeting_data = input?.upcoming_meeting_data \nconst formatted_data = {\n prospect_source: $json?.prospect_source || \"\",\n user_info:{\n    \"first_name\" : user_info.first_name || \"\",\n    \"last_name\" : user_info.last_name || \"\" ,\n    \"role\": user_info.role || \"\",\n    \"primary_email\" : user_info.primary_email || \"\",\n    \"personal_emails\" : user_info.personal_emails || [],\n    \"work_emails\" : user_info.work_emails || [],\n    \"phone_numbers\": user_info.phone_numbers || [],\n    \"social_urls\":{\n      \"linked_in\" :user_info.social_urls.linked_in || \"\",\n      \"facebook\": user_info.social_urls.facebook || \"\",\n      \"twitter\" : user_info.social_urls.twitter || \"\",\n      \"git_hub\": user_info.social_urls.git_hub || \"\",\n      \"blog\": user_info.social_urls.blog || \"\",\n      \"stackoverflow\": user_info.social_urls.stackoverflow || \"\",\n      \"pitchbook\": user_info.social_urls.pitchbook || \"\",\n      \"monster\": user_info.social_urls.monster || \"\",\n      \"crunchbase\": user_info.social_urls.crunchbase || \"\",\n      \"angellist\": user_info.social_urls.angellist || \"\",\n      \"indeed\": user_info.social_urls.indeed || \"\",\n      \"glassdoor\": user_info.social_urls.glassdoor || \"\",\n    },\n    \"location\":{\n      \"city\": user_info.location.city || \"\",\n      \"state\": user_info.location.state || \"\",\n      \"country\": user_info.location.country || \"\",\n      \"address\": user_info.location.address || \"\",\n      \"zip\": user_info.location.zip || \"\"\n    },\n },\n company_info:{\n   \"name\": company_info.name || \"\",\n   \"size\": company_info.size || \"\",\n   \"revenue\": company_info.revenue || \"\",\n   \"domain\": company_info.domain || \"\",\n   \"industry\": company_info.industry || \"\",\n   \"specialities\": [],\n   \"social_urls\":{\n     \"linked_in\": company_info.social_urls.linked_in || \"\",\n     \"facebook\" : company_info.social_urls.facebook || \"\",\n     \"twitter\": company_info.social_urls.twitter || \"\",\n     \"instagram\": company_info.social_urls.instagram || \"\",\n     \"blog\": company_info.social_urls.blog || \"\",\n     \"stackoverflow\": company_info.social_urls.stackoverflow || \"\",\n     \"pitchbook\": company_info.social_urls.pitchbook || \"\",\n     \"monster\": company_info.social_urls.monster || \"\",\n     \"crunchbase\": company_info.social_urls.crunchbase || \"\",\n     \"angellist\": company_info.social_urls.angellist || \"\",\n     \"indeed\": company_info.social_urls.indeed || \"\",\n     \"glassdoor\": company_info.social_urls.glassdoor || \"\",\n   },\n   \"phone_numbers\": company_info.phone_numbers || [],\n   \"location\":{\n     \"city\" : company_info.location.city || \"\",\n     \"state\": company_info.location.state || \"\",\n     \"country\": company_info.location.country || \"\",\n     \"address\": company_info.location.address || \"\",\n     \"zip\": company_info.location.zip || \"\",\n    }\n },\n technical_data:{\n    \"company_id\":$json.technical_data.company_id || \"\",\n    \"page_visited_title\": technical_data.page_visited_title || \"\",\n    \"page_visited_url\": technical_data.page_visited_url || \"\",\n    \"utmCampaign\":technical_data.utmCampaign || \"\",\n    \"utmContent\": technical_data.utmContent || \"\",\n    \"utmMedium\": technical_data.utmMedium || \"\",\n    \"utmSource\": technical_data.utmSource || \"\",\n    \"utmTerm\":technical_data.utmTerm || \"\",\n    \"vvid\": technical_data.vvid || \"\",\n    \"hem\": technical_data.hem || \"\"\n  },\n upcoming_meeting_data: upcoming_meeting_data || {\n    meeting_with: \"\",\n    meeting_time:  \"\",\n    lifecycle_stage:  \"\",\n    form_message: \"\",\n    hubspot_id: \"\"\n  }\n}\nreturn formatted_data;"},"id":"0903ade9-4b52-4577-925e-3c366da0b52f","name":"Summarizing","type":"n8n-nodes-base.code","typeVersion":2,"position":[-32800,960]},{"parameters":{"content":"# Finding Missing data using AI","height":660,"width":921},"id":"a0e7476f-9143-4f84-a218-ab3828cef43c","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-32660,700]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const user_info = $json?.output?.user_info  || null\nconst company_info = $json?.output?.company_info  || null\nconst technical_data = $json?.output?.technical_data  || null\nconst fallback = $('Summarizing').first().json\n\nlet prospect = {}\n\n\n\nif(user_info && company_info && technical_data){\n  prospect =  {\n  user_info:user_info,\n  company_info:company_info,\n  technical_data: technical_data\n}\n}else{\n  prospect = {\n  user_info:fallback.user_info,\n  company_info:fallback.company_info,\n  technical_data:fallback.technical_data\n }\n}\n\n\nreturn prospect\n\n"},"id":"5d152deb-4369-4891-b674-253127c6de73","name":"Anthropic Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[-32020,960]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const formatted = {\n  email: $json?.email || \"\",\n  status: $json?.status || \"\",\n  is_domain_catch_all: $json?.is_domain_catch_all ? \"true\" :\"false\" ,\n  mx_record: $json?.mx_record || \"\" ,\n  mx_provider: $json?.mx_provider || \"\",\n  mx_security_gateway:$json?.mx_security_gateway  ? \"true\" :\"false\" ,\n  company_name: $json?.company_name || \"\",\n  company_industry:$json?.company_industry ||\"\" ,\n  company_size:$json?.company_size || \"\" ,\n  company_founded:$json?.company_founded || \"\" ,\n  company_location:$json?.company_location || {} ,\n  company_linkedin_url:$json?.company_linkedin_url || \"\" ,\n  company_facebook_url: $json?.company_facebook_url || \"\",\n  company_twitter_url: $json?.company_twitter_url || \"\",\n  company_type: $json?.company_type ||\"\"\n};\n\nreturn formatted;"},"id":"44ff783e-7569-4b4e-bec5-9dbb990d8d15","name":"Combining Email data","type":"n8n-nodes-base.code","typeVersion":2,"position":[-30280,840]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let query = {}\nconst anthropic_response = $('Anthropic Response')?.first()?.json\nconst email_data = $('Combining Email data')?.first()?.json\n\nconst personal_email = anthropic_response?.user_info?.primary_email || anthropic_response?.user_info?.personal_emails[0] || email_data?.email || null\n\nif(personal_email){\n  query.personal_email = personal_email\n}\n\nconst work_email = anthropic_response?.user_info?.work_emails[0]\nif(work_email){\n  query.work_email = work_email\n}\n\nreturn {query: query};"},"id":"ee8d7268-89bf-4846-8113-86d0813a9e8e","name":"Finding Linked In query","type":"n8n-nodes-base.code","typeVersion":2,"position":[-28640,1100]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"8f76ed7b-d138-4cb3-8222-41eed0b74261","leftValue":"={{ $('Anthropic Response').item.json.user_info.social_urls.linkedin }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"99313796-efb3-4947-a47d-450ec44dfd11","leftValue":"={{ $('Combining Email data').item.json.email }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}}],"combinator":"or"},"looseTypeValidation":true,"options":{}},"id":"dd67e44a-ded1-48fc-ba19-06ec6f324609","name":"Is personal LinkedIn present?","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-28800,840]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"b6eb8329-6460-444c-90e8-a9cdf8dcde11","leftValue":"={{ $('Anthropic Response').item.json.user_info.social_urls.linkedin }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"3d756f01-b5b7-4035-9283-84d85f2d0eeb","leftValue":"={{ $('Anthropic Response').item.json.company_info.social_urls.linkedin }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"bcedea83-7c76-49c1-a177-e2fffebc8bf3","leftValue":"={{ $('Combining Email data').item.json.company_linkedin_url }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}}],"combinator":"or"},"options":{}},"id":"aa4369d9-efe6-4643-8849-36e2b017fb8a","name":"Is personal OR company LinkedIn present?","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-28280,880]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst input = $input.item.json;\nlet query= {}\n\nconst email_data =  $('Combining Email data').first().json\n\nconst linked_in = $('Anthropic Response')?.first()?.json?.user_info?.social_urls?.linked_in ||$('Anthropic Response')?.first()?.json?.company_info?.social_urls?.linked_in || email_data?.company_linkedin_url || email_data?.company_linkedin_url || input?.company_linkedin_url || \"\"\n\n\n// const personal_email = $('Anthropic Response').first()?.json?.user_info?.primary_email || $('Anthropic Response').first()?.json?.user_info?.personal_emails[0] || $('Email Validation').first()?.json?.email || $('Email Finder').first().json?.email\n\nconst personal_email = email_data?.email || $('Anthropic Response').first()?.json?.user_info?.primary_email || $('Anthropic Response').first()?.json?.user_info?.personal_emails[0] \n\n\nconst work_email = $('Anthropic Response')?.first()?.json?.user_info?.work_emails[0]\n\nif(linked_in){\n  query.profile_url = linked_in\n}\nif(personal_email){\n  query.personal_email = personal_email\n}\nif(work_email){\n  query.work_email = work_email\n}\n\nreturn {query: query};"},"id":"5ebe6319-b9c1-4e03-9ac8-ac94e7d159b2","name":"Mobile Finder query","type":"n8n-nodes-base.code","typeVersion":2,"position":[-27520,1000]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst input = $input.item.json\nlet profile_search = null\nfunction fixURL(url) {\n    // Check if the URL starts with \"http://\" or \"https://\"\n    if (url.indexOf(\"http://\") !== 0 && url.indexOf(\"https://\") !== 0) {\n        // If it doesn't, prepend \"https://\"\n        url = \"https://\" + url;\n    }\n\n    // Ensure the URL starts with \"https://www.\"\n    if (url.indexOf(\"https://www.\") !== 0) {\n        // Replace \"https://\" with \"https://www.\"\n        url = url.replace(\"https://\", \"https://www.\");\n    }\n\n    // Ensure the URL ends with \"/\"\n    if (url.charAt(url.length - 1) !== '/') {\n        url = url + '/';\n    }\n\n    return url;\n}\ntry{\n  profile_search = $('Profile Search').first().json\n}catch(error){}\n\n\nlet query = {}\nconst linked_in = $json?.profile_url || profile_search?.profileUrl || $('Anthropic Response').first().json.user_info.social_urls.linked_in \n\nconst company_domain = $('Anthropic Response').first().json.company_info.domain || profile_search?.company_website\n\nconst company_name = $('Anthropic Response').first().json?.company_info?.name || $('Combining Email Data').first().json?.company_name || profile_search?.company_name\n\n\nif(linked_in){\n  query.profile_url = fixURL(linked_in)\n}\nif(company_domain){\n  query.company_domain = company_domain\n}\nif(company_name){\n  query.company_name = company_name\n}\nreturn {query:query};"},"id":"da14c1cb-f0bb-4a33-bfd6-06883757f102","name":"Company Search query","type":"n8n-nodes-base.code","typeVersion":2,"position":[-26980,1000]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"41f0e71c-482c-403d-bacf-426677d88292","leftValue":"={{ $json.query }}","rightValue":"","operator":{"type":"object","operation":"notEmpty","singleValue":true}}],"combinator":"or"},"options":{}},"id":"ddc3537a-4afb-4669-b886-579574aca994","name":"Do we have Linked in, company domain or company name ?","type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-26760,1000]},{"parameters":{"method":"POST","url":"https://api.leadmagic.io/company-search","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"accept","value":"application/json"},{"name":"content-type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.query }}","options":{}},"id":"49b0a8f5-af5a-405e-8bc1-6890377861ec","name":"Company Search","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-26540,820],"retryOnFail":false,"notesInFlow":true,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}},"onError":"continueRegularOutput","notes":"Lead Magic"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const structured_object = {\n  \"user_info\":$('Summarizing User Info').first().json.user_info,\n  \"company_info\": $('Summarizing Company Info').first().json.company_info,\n  \"technical_data\": $json.structured_object,\n  \"upcoming_meeting_data\": $('Summarizing').first().json.upcoming_meeting_data\n}\n\nreturn structured_object;"},"id":"d44623ea-e8d3-48e8-913e-36dcea23145a","name":"Combining Company - User - Technical Data","type":"n8n-nodes-base.code","typeVersion":2,"position":[-25480,1020]},{"parameters":{"method":"POST","url":"https://api.leadmagic.io/b2b-profile","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"accept","value":"application/json"},{"name":"content-type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.query }}","options":{}},"id":"5c9b14e8-ff2b-41fe-aced-fb31c07f1346","name":"Finding Linked In2","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-28420,1100],"retryOnFail":true,"notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}},"onError":"continueRegularOutput","notes":"Lead Magic"},{"parameters":{"method":"POST","url":" https://api.leadmagic.io/profile-search","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"accept","value":"application/json"},{"name":"content-type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"profile_url\": \"{{ $('Anthropic Response').item.json.user_info.social_urls.linkedin || $('Anthropic Response').item.json.company_info.social_urls.linkedin || $('Combining Email data').item.json.company_linkedin_url||$json.profile_url }}\"\n}","options":{}},"id":"bf08a130-84a6-49dd-9dbf-818edb8f167f","name":"Profile Search","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-27920,820],"retryOnFail":true,"notesInFlow":true,"maxTries":5,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}},"onError":"continueRegularOutput","notes":"Lead Magic"},{"parameters":{"method":"POST","url":"https://api.leadmagic.io/mobile-finder","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"accept","value":"application/json"},{"name":"content-type","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.query }}","options":{}},"id":"adf99842-9e8e-4aae-a55e-e588d64e2ed8","name":"Mobile Finder","type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-27280,1000],"retryOnFail":true,"notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}},"onError":"continueRegularOutput","notes":"Lead Magic"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let profile_search = null\ntry{\n  profile_search = $('Profile Search').first().json\n}catch(error){}\n// NAME\nconst names = []\n\nconst summarizing_name = $('Anthropic Response')?.first()?.json?.company_info?.name || null\nsummarizing_name && names.push(summarizing_name)\n\nconst email_data_name = $('Combining Email data')?.first()?.json?.company_name || null\nemail_data_name && names.push(email_data_name)\n\nconst profile_search_name = profile_search?.company_name || null\nprofile_search_name && names.push(profile_search_name)\n\nconst company_search_name = $('Company Search')?.first()?.json?.companyName || null\ncompany_search_name && names.push(company_search_name)\n\n// SIZE\nconst sizes = []\nconst summarizing_size = $('Anthropic Response')?.first()?.json?.company_info?.size || null\nsummarizing_size && sizes.push(summarizing_size)\n\nconst email_data_size = $('Combining Email data')?.first()?.json?.company_size || null\nemail_data_size && sizes.push(email_data_size)\n\nconst profile_search_size = profile_search?.company_size || null\nprofile_search_size && sizes.push(profile_search_size)\n\n\nconst company_search_size = $('Company Search')?.first()?.json?.employeeCount || null\ncompany_search_size && sizes.push(company_search_size)\nconst company_search_size_start = $('Company Search')?.first()?.json?.employeeCountRange?.start || null\nconst company_search_size_end = $('Company Search')?.first()?.json?.employeeCountRange?.end || null\n \nif(company_search_size_start || company_search_size_end){\n  let finalSize = ''\n  if(company_search_size_start){\n    finalSize = finalSize + `${company_search_size_start} -`\n  }\n  if(company_search_size_end){\n    finalSize = finalSize + company_search_size_end\n  }\n  sizes.push(finalSize)\n}\n// REVENUE\nconst revenues = []\n\nconst summarizing_revenue = $('Anthropic Response')?.first()?.json?.company_info?.revenue || null\nsummarizing_revenue && revenues.push(summarizing_revenue)\n// DOMAIN\nconst domains = []\nfunction extractDomain(url) {\n  // Remove the protocol (http://, https://, etc.)\n  let domain = url.replace(/^https?:\\/\\//, '').replace(/^ftp:\\/\\//, '');\n  \n  // Remove 'www.' if it exists\n  domain = domain.replace(/^www\\./, '');\n  \n  // Trim the domain to get the part before the first '/' (if there's a path after the domain)\n  domain = domain.split('/')[0];\n  \n  return domain;\n}\nconst summarizing_domain = $('Anthropic Response')?.first()?.json?.company_info?.domain || null\nsummarizing_domain && domains.push(extractDomain(summarizing_domain))\n\nconst email_data_domain = $('Combining Email data')?.first()?.json?.domain || null\nemail_data_domain && domains.push(extractDomain(email_data_domain))\n\nconst profile_search_domain = profile_search?.company_website || null\nprofile_search_domain && domains.push(extractDomain(profile_search_domain))\n\nconst company_search_domain = $('Company Search')?.first()?.json?.websiteUrl || null\ncompany_search_domain && domains.push(extractDomain(company_search_domain))\n//INDUSTRY\nconst industries = []\n\nconst summarizing_industry = $('Anthropic Response')?.first()?.json?.company_info?.industry || null\nsummarizing_industry && industries.push(summarizing_industry)\n\nconst email_data_industry = $('Combining Email data')?.first()?.json?.company_industry || null\nemail_data_industry && industries.push(email_data_industry)\n\nconst profile_search_industry = profile_search?.company_industry || null\nprofile_search_industry && industries.push(profile_search_industry)\n\nconst company_search_industry = $('Company Search')?.first()?.json?.industry || null\ncompany_search_industry && industries.push(company_search_industry)\n// SPECIALITIES\nconst specialities = $('Company Search')?.first()?.json?.specialities || $('Anthropic Response')?.first()?.json?.company_info?.specialities || null\n// SOCIAL URLS\nlet social_urls_combined =   {\n      \"linked_in\": \"\",\n      \"facebook\": \"\",\n      \"twitter\" : \"\",\n      \"git_hub\": \"\",\n      \"blog\":  \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n}\n // linked in\nfunction convertLinkedInUrl(url) {\n  // Check if the URL already contains 'https://www.' at the start\n  if (!url.startsWith('https://www.')) {\n    // If not, add 'https://www.' to the beginning\n    url = 'https://www.' + url;\n  }\n\n  // Ensure the URL ends with a '/'\n  if (!url.endsWith('/')) {\n    url = url + '/';\n  }\n\n  return url;\n}\nconst combined_linked_ins  = []\nlet social_urls = $('Anthropic Response')?.first()?.json?.company_info?.social_urls \nsocial_urls.linked_in && combined_linked_ins.push(convertLinkedInUrl(social_urls.linked_in))\n\nconst email_data_linked_in = $('Combining Email data')?.first()?.json?.company_linkedin_url\nemail_data_linked_in && combined_linked_ins.push(convertLinkedInUrl(email_data_linked_in))\n\nconst profile_search_company_linkedin = profile_search?.company_linkedin_url\nprofile_search_company_linkedin && combined_linked_ins.push(convertLinkedInUrl(profile_search_company_linkedin))\n\nconst website_search_linkedin = $('Company Search')?.first()?.json?.url\nwebsite_search_linkedin && combined_linked_ins.push(convertLinkedInUrl(website_search_linkedin))\n\n\nsocial_urls_combined.linked_in = combined_linked_ins\n// facebook\nconst combined_facebook = []\nsocial_urls?.facebook && combined_facebook.push(social_urls.facebook)\n\nconst email_data_facebook  = $('Combining Email data')?.first()?.json?.company_facebook_url\nemail_data_facebook && combined_facebook.push(email_data_facebook)\n\nsocial_urls_combined.facebook = combined_facebook\n// twitter\nconst combined_twitter = []\nsocial_urls?.twitter && combined_twitter.push(social_urls.twitter)\n\nconst email_data_twitter = $('Combining Email data')?.first()?.json?.company_twitter_url\nemail_data_twitter && combined_twitter.push(email_data_twitter)\n\nsocial_urls_combined.twitter = combined_twitter\n\n\n//PHONE NUMBERS\nconst phone_numbers = $('Anthropic Response')?.first()?.json?.company_info?.phone_numbers\n\n//LOCATION\nconst locations = []\nconst summarizing_location = $('Anthropic Response')?.first()?.json?.company_info?.location\nlocations.push(summarizing_location)\n\nconst email_data_location = $('Combining Email data')?.first()?.json?.company_location\nif(email_data_location){\n  locations.push({\n     \"city\" :  email_data_location.locality || \"\",\n     \"state\": email_data_location.region || \"\",\n     \"country\":  email_data_location.country || \"\",\n     \"address\":  email_data_location.street_address || email_data_location.address_line_2 || \"\",\n     \"zip\": email_data_location.postal_code || \"\",\n  })\n}\n\nconst company_search_locations = $('Company Search')?.first()?.json?.locations\nif(company_search_locations && company_search_locations.length > 0 ){\n  company_search_locations.forEach(location =>{\n    locations.push({\n     \"city\" :  location?.city|| \"\",\n     \"state\":  location?.geographicArea || \"\",\n     \"country\":  location?.country || \"\",\n     \"address\":  location?.line1 || location?.line2 ? `${location?.line1} ${location?.line2}` : \"\",\n     \"zip\": location?.postalCode || \"\",\n    })\n  })\n}\n// COMPANY FOUNDED \nconst company_founded = []\nconst email_data_company_founded = $('Combining Email data')?.first()?.json?.company_founded\nemail_data_company_founded && company_founded.push(email_data_company_founded)\n\nconst company_data_founded_on_year = $('Company Search')?.first()?.json?.foundedOn?.year\ncompany_data_founded_on_year && company_founded.push(company_data_founded_on_year)\n\n// COMPANY TYPE\nconst company_types = []\nconst email_data_company_type = $('Combining Email data')?.first()?.json?.company_type\nemail_data_company_type && company_types.push(email_data_company_type)\n// COMPANY LOGO\nconst company_logo = $('Company Search')?.first()?.json?.logoResolutionResult || \"\"\n// COVER IMAGE\nconst cover_image = $('Company Search')?.first()?.json?.croppedCoverImage ? $('Company Search').first().json.croppedCoverImage : \"\"\n\n// SIMILAR ORGANIZATIONS\nconst similar_organizations = []\nconst company_data_similar_organizations = $('Company Search')?.first()?.json?.similarOrganizations\nif(company_data_similar_organizations &&company_data_similar_organizations.length >0 ){\n  company_data_similar_organizations.forEach(organization=>{\n    similar_organizations.push({\n      \"name\": organization?.name || \"\",\n      \"industry\": organization?.industry || \"\",\n      \"company_logo\": organization?.logoResolutionResult || \"\",\n      \"cover_image\": organization?.croppedCoverImage || \"\",\n      \"size\": organization?.employeeCountRange?.end || \"\",\n      \"locations\":[\n        {\n         \"city\" : organization?.headquarter?.city || \"\" ,\n         \"state\": organization?.headquarter?.geographicArea || \"\",\n         \"country\": organization?.headquarter?.country || \"\",\n         \"address\":  organization?.headquarter?.line1 || organization?.headquarter?.line2 ?`${organization?.headquarter?.line1 } ${organization?.headquarter?.line2}`: \"\" ,\n         \"zip\": organization?.headquarter?.postalCode || \"\",\n        }\n      ]\n    })\n  })\n\n}\n// DESCRIPTION\nconst company_description = $('Company Search')?.first()?.json?.description || \"\"\nconst company_info = {\n   \"name\": names,\n   \"description\" : company_description,\n   \"logo\": company_logo,\n   \"cover_image\": cover_image,\n   \"size\": sizes,\n   \"founded\": company_founded,\n   \"revenue\":  revenues,\n   \"type\": company_types,\n   \"domain\":  domains,\n   \"industry\": industries,\n   \"specialities\": specialities,\n   \"social_urls\":social_urls_combined,\n   \"phone_number\":  phone_numbers,\n   \"location\": locations,\n   \"similar_organizations\" :similar_organizations\n}\n\nreturn {company_info};\n"},"id":"04cf6c6f-7e53-4c65-9d2f-bab884fbc61e","name":"Summarizing Company Info","type":"n8n-nodes-base.code","typeVersion":2,"position":[-26060,1020]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let profile_search = null\ntry{\n  profile_search = $('Profile Search').first().json\n}catch(err){}\n\n// FIRST NAME\nconst first_names = [] \n\nconst summarizing_first_name = $('Anthropic Response')?.first()?.json?.user_info?.first_name || null\nsummarizing_first_name && first_names.push(summarizing_first_name);\n\nconst email_data_first_name = $('Combining Email data')?.first()?.json?.first_name || null\nemail_data_first_name && first_names.push(email_data_first_name)\n\nconst profile_search_first_name = profile_search?.firstName || null\nprofile_search_first_name && first_names.push(profile_search_first_name)\n\n// LAST NAME\nconst last_names = []\n\nconst summarizing_last_name = $('Anthropic Response')?.first()?.json?.user_info?.last_name || null\nsummarizing_last_name && last_names.push(summarizing_last_name);\n\nconst email_data_last_name = $('Combining Email data')?.first()?.json?.last_name || null\nemail_data_last_name && last_names.push(email_data_last_name)\n\nconst profile_search_last_name = profile_search?.lastName || null\nprofile_search_last_name && last_names.push(profile_search_last_name)\n// ROLE \nconst roles = []\nconst summarizing_role = $('Anthropic Response')?.first()?.json?.user_info?.role || null\nsummarizing_role && roles.push(summarizing_role)\n\nconst profile_search_role = profile_search?.headline || null\nprofile_search_role && roles.push(profile_search_role)\n\n// PRIMARY EMAIL\nconst primary_emails = []\nconst summarizing_primary_email = $('Anthropic Response')?.first()?.json?.user_info?.primary_email || null\nsummarizing_primary_email && primary_emails.push(summarizing_primary_email)\n\nconst email_data_primary_email = $('Combining Email data')?.first()?.json?.email || null\nemail_data_primary_email && primary_emails.push(email_data_primary_email)\n// PERSONAL EMAILS\nlet personal_emails =  $('Anthropic Response')?.first()?.json?.user_info?.personal_emails || []\nconst combining_email_data_personal_email =  $('Combining Email data')?.first()?.json?.email || null\ncombining_email_data_personal_email && personal_emails.push(combining_email_data_personal_email)\n// WORK EMAILS\nlet work_emails = $('Anthropic Response')?.first()?.json?.user_info?.work_emails || []\n// PHONE NUMBERS\nlet phone_numbers =  $('Anthropic Response')?.first()?.json?.user_info?.phone_numbers || []\nconst lead_magic_phone_number = $('Mobile Finder')?.first()?.json?.mobile_number || null\nlead_magic_phone_number && phone_numbers.push(lead_magic_phone_number)\n// SOCIAL URLS\nconst combined_social_urls = {\n     \"linked_in\": \"\",\n      \"facebook\": \"\",\n      \"twitter\" : \"\",\n      \"git_hub\": \"\",\n      \"blog\":  \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n}\nlet social_urls = $('Anthropic Response')?.first()?.json?.user_info?.social_urls || null\nconst profile_search_linked_in = profile_search?.profileUrl || null\n\nconst linked_in_list = []\nfunction convertLinkedInUrl(url) {\n  // Check if the URL already contains 'https://www.' at the start\n  if (!url.startsWith('https://www.')) {\n    // If not, add 'https://www.' to the beginning\n    url = 'https://www.' + url;\n  }\n\n  // Ensure the URL ends with a '/'\n  if (!url.endsWith('/')) {\n    url = url + '/';\n  }\n\n  return url;\n}\nsocial_urls?.linked_in && linked_in_list.push(convertLinkedInUrl(social_urls.linked_in))\nprofile_search_linked_in && linked_in_list.push(convertLinkedInUrl(profile_search_linked_in))\n\ncombined_social_urls.linked_in = linked_in_list\n// LOCATION\nconst locations =[ $('Anthropic Response')?.first()?.json?.user_info?.location]\nconst profile_search_splitted_location = profile_search?.location ? profile_search?.location.split(',') : null\n\nif(profile_search_splitted_location){\n  locations.push({\n      \"city\":profile_search_splitted_location[0] || \"\",\n      \"state\": profile_search_splitted_location[1] || \"\",\n      \"country\":\"\",\n      \"address\": \"\",\n      \"zip\":  \"\"\n  })  \n}\n// USER SKILLS \nconst user_skills =  profile_search?.userSkills || \"\"\n// ABOUT\nconst user_about = profile_search?.about || \"\"\n// EXPERIENCES\nconst user_experiences = [];\nconst profile_data_user_experiences = profile_search?.experiences\n\nif(profile_data_user_experiences && profile_data_user_experiences.length > 0 ){\n  profile_data_user_experiences.forEach(experience => {\n    user_experiences.push({\n       \"company_name\": experience.subtitle || \"\",\n       \"company_domain\" : experience.companyLink1 || \"\",\n       \"role\" : experience.title || \"\",\n       \"company_logo\": experience.logo || \"\"\n    })\n  })\n}\n// PROFILE PIC\nconst profile_picture = profile_search?.profilePic || ''\nconst user_info = {\n    \"first_name\" : first_names,\n    \"last_name\" : last_names ,\n    \"profile_pick\":profile_picture  ,\n    \"about\": user_about,\n    \"user_skills\" : user_skills,\n    \"experiences\": user_experiences,\n    \"role\":  roles,\n    \"primary_email\" :  primary_emails,\n    \"personal_email\" :  personal_emails,\n    \"work_email\" : work_emails,\n    \"phone_number\":phone_numbers,\n    \"social_urls\":combined_social_urls,\n    \"location\": locations\n }\n\nreturn {user_info};\n"},"id":"6c8a8d6e-8c65-43ae-8cfc-d37f78973763","name":"Summarizing User Info","type":"n8n-nodes-base.code","typeVersion":2,"position":[-26260,1020]},{"parameters":{"content":"# Page Visited More information\n","height":664.711775870632,"width":984.2296898110443},"id":"040791c8-6cba-4e1e-96b4-b880b9ca20b3","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-22140,700]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const prompt = `\n<TASK>\nGo to the provided page and extract the following information:\nPage:  ${$json?.technical_data?.page_visited_url || \"\"} \n\n1. **page_title**: The page title or META title.  \n2. **type_of_page**: Choose one of the following options based on the content:\n   - Service Page: Promotes a compliance solution, framework, or certification that I.S. Partners provides.\n   - Blog Article: Provides informational or educational content.  Blog articles will have /blog/ in the URL\n   - Company Page: Focuses on I.S. Partners' company information (e.g., about, contact).\n   - Partner Page: Contains \"/partnerships/\" in the URL or focuses on partner-related content.\n3. **framework_of_page**: Identify the primary IT compliance framework, certification, or solution mentioned on the page. Follow these rules:\n   - If page visited URL is: https://www.ispartnersllc.com/ (HOMEPAGE) set framework of the page to be: Not Found.\n   - If mentioned in the title (e.g., \"SOC 1 Bridge Letter Explained\"), your output should be the specific framework (e.g., \"SOC 1\").\n   - If the page is about two frameworks, output both (e.g., \"SOC 1 and SOC 2\").\n   - If multiple frameworks are mentioned, choose the one mentioned first in the title.\n   - If no frameworks are directly mentioned, infer the logical framework based on the main topic of the page.\n   - If unsure, output \"Not Found\" Your output should be no more than two frameworks or certifications.\n4. **summary**: Provide a brief summary of the page.\n5. **keyword**: Choose one main keyword that likely led users to this page. Keep it in sentence case unless normally uppercase (e.g., \"SOC 2\").\n    - If page visited URL is: https://www.ispartnersllc.com/ (HOMEPAGE) set the keywords to be: IT Compliance, Risk Advisory and Cybersecurity Solutions\n6. **topic**: Identify the main topic of the page. Keep the output concise and direct, with no more than five words, formatted in sentence case (unless uppercase is required). The output should fit into this sentence: \"I noticed you recently checked out info about {{TOPIC}} on our website.\"\n7. **intent**: Page Visited - Intent (What is the goal of the page - is it to sell or inform?) \n   There are two possible options:\n   a)Sales page (service/product/partner signup pages/Request a Quote, Call to Action pages)\n   b)Informational page (about, contact, blog articles, resources, etc)\n\nI\n\n\n\n<RESPONSE_EXAMPLES>\n{\n\"page_title\": \"SOC 2 Compliance Audit Services\",\n\"type_of_page\": \"Service Page\",\n\"framework_of_page\": \"SOC 2\",\n\"keyword\": \"SOC 2 Audit Services\",\n\"summary\": \"The page outlines the SOC 2 compliance audit services provided by I.S. Partners, detailing the process, requirements, and benefits of engaging their services.\",\n\"page_title_friendly\": \"SOC 2 Audit Services\",\n\"topic\": \"SOC 2 compliance audit services\",\n\"intent\": \"Sales page\"\n}\n\n{\n\"page_title\": \"Understanding ISO 27001 Certification\",\n\"type_of_page\": \"Blog Article\",\n\"framework_of_page\": \"ISO 27001\",\n\"keyword\": \"ISO 27001 Certification\",\n\"summary\": \"The blog article explains what ISO 27001 certification is, its benefits, and why organizations should consider obtaining it.\",\n\"page_title_friendly\": \"Understanding ISO 27001\",\n\"topic\": \"ISO 27001 certification\",\n\"intent\": \"Informational page\"\n}\n\n{\n\"page_title\": \"Partnerships: SOC 2 for Cloud Services\",\n\"type_of_page\": \"Partner Page\",\n\"framework_of_page\": \"SOC 2\",\n\"keyword\": \"SOC 2 for Cloud Services\",\n\"summary\": \"Outlines the partnership between I.S. Partners and cloud service providers to implement SOC 2 compliance, facilitating enhanced security and trust.\",\n\"page_title_friendly\": \"SOC 2 for Cloud Services\",\n\"topic\": \"SOC 2 compliance for cloud services\",\n\"intent\": \"Sales page\"\n}\n<RULES>\n- Use uppercase only for words that are conventionally uppercase (e.g., SOC 2, PCI).\n`\n\nreturn {prompt: prompt}"},"id":"671ff34c-bed4-4a97-b691-b5fa8903466c","name":"Page Information prompt","type":"n8n-nodes-base.code","typeVersion":2,"position":[-22040,1020]},{"parameters":{"jsonSchemaExample":"{\n  \"page_title\":\"string\",\n  \"type_of_page\":\"string\",\n  \"framework_of_page\": \"string\",\n  \"keyword\":\"string\",\n  \"summary\":\"string\",\n  \"page_title_friendly\":\"string\",\n  \"topic\":\"string\",\n  \"intent\":\"string\"\n}"},"id":"62b680cc-e763-4c67-b0dd-9bb80ef33598","name":"Page info - Output parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-21600,1240]},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","hasOutputParser":true,"options":{}},"id":"8eaf33ad-a89f-4c37-a47b-be2a6b1126d9","name":"Page Visited Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-21840,1020],"retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"content":"# About the contact (non-public information)","height":659.7636212052339,"width":1021.8084371329403},"id":"5f330148-bb63-4008-9bac-7e40888bfad0","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-18340,700]},{"parameters":{"jsonSchemaExample":"{\n\t\"job_responsibilities\": \"Supervising and guiding the sales team, developing a business marketing strategy, maintaining relationships with clients, coordinating marketing activities, analyzing market trends and demographic data.\",\n\t\"job_challenges\": \"Handling underperforming team members, dealing with volatile market conditions, maintaining consistent brand identity across different marketing platforms, acquiring a significant market share in an oversaturated market.\",\n    \"intent\": \"Looking for potential job opportunities in marketing\",\n    \"report\": \"The individual visited the page to explore potential job opportunities within our organization. They spent a significant amount of time examining the job responsibilities and challenges associated with our marketing roles. Additionally, they returned to the page multiple times indicating a heightened interest in our company. We recommend reaching out to them with customised job opportunities in line with their expressed intent.\"\n}"},"id":"a12ea75b-8878-4a27-b0e9-bf64e1b6837c","name":"About the Contact - Output parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-17760,1220]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const model_response = $json?.output \nconst prospect_object = $('Linked In Scraped Data').item.json\nprospect_object.technical_data.page_visited_type = model_response?.type_of_page || \"\"\nprospect_object.technical_data.page_visited_framework = model_response?.framework_of_page ||\"\"\nprospect_object.technical_data.page_visited_keyword = model_response?.keyword ||\"\"\nprospect_object.technical_data.page_visited_summary = model_response?.summary||\"\"\nprospect_object.technical_data.page_visited_title_friendly = model_response?.page_title_friendly ||\"\"\nprospect_object.technical_data.page_visited_topic = model_response?.topic ||\"\"\nprospect_object.technical_data.page_visited_intent = model_response?.intent || \"\"\nreturn prospect_object\n"},"id":"3cceda36-1385-438f-b9ed-8ff1aedfe3e2","name":"Combining Page Info. Data","type":"n8n-nodes-base.code","typeVersion":2,"position":[-21400,1020]},{"parameters":{"content":"# About the Company (non-public information)","height":660,"width":2777},"id":"1a461b4e-ab85-4de9-9bc8-6ef92a428a95","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-21140,700]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const prompt = `\n--- TASK ---\nYour task is to find following information about the company:\n- Products/Services\n- Industries or specific audiences they target\n- Unique Selling Proposition\n- ICP (if they define their Ideal Customer Profile on the site, then we can list it here) \n- Clients (if they list clients on their website, we can identify them)\n- Testimonials (pull out any reviews/testimonials they have)\n- Case Studies (pull out any case studies they reference on their site) \n- Report (Based on the provided object with company's information and the data you gatherered from the previous tasks combine all of the information that is overall summary of the company)\n\nReport examples:\n--LinkedIn connects professionals and provides various tools for productivity and success. It is the world's largest professional network with diversified revenue sources.\n--Crocs specializes in comfortable footwear for various occasions, emphasizing personal expression with their designs.\n--CDW offers various IT solutions and services tailored for education, government, and healthcare sectors.\n--Diligent is a comprehensive governance software provider focused on improving and simplifying governance, risk, compliance, and ESG activities.\n\n\nHere is company's domain to help you in the above tasks: ${$json.company_info.domain}, scrape it to get more information.\nHere is additional information about the company (structured as an object) to help you in your task:\n${JSON.stringify($json.company_info)}.\n--- RESPONSE EXAMPLE ---\nYour response shoulf follow this object structure:\n{\n\"products\": [\"Comprehensive Security Solutions\", \"Risk Assessment Services\", \"Compliance Management Tools\"],\n\"industries\": [\"Healthcare\", \"Financial Services\", \"Information Technology\"],\n\"unique_selling_proposition\": \"Highly tailored, industry-specific security and compliance solutions with exceptional customer service.\",\n\"icp\": \"Mid to large-sized companies in regulated industries seeking robust, customizable compliance and security solutions.\",\n\"clients\": [\"MediCorp\", \"FinBank\", \"TechSoft\"],\n\"testimonials\": [\n{\n\"client\": \"MediCorp\",\n\"name\": \"John Doe\",\n\"position\": \"CISO\",\n\"testimonial\": \"Their tailored solutions and expertise helped us achieve compliance smoothly.\"\n}\n],\n\"case_studies\": [\n{\n\"title\": \"Achieving SOC2 Compliance for MediCorp\",\n\"link\": \"www.example.com/case-study/mediCorp\"\n}\n],\n\"report\": \"The company provides a range of security and compliance solutions, specializing in the healthcare, financial services, and IT sectors. They pride themselves on their personalized approach and excellent customer service. Their ideal customers are mid to large-sized firms in regulated industries. Their success stories include big names like MediCorp, FinBank, and TechSoft.\"\n}\n\n`\n\nreturn {prompt:prompt}"},"id":"4e75978b-ef5a-46c6-860d-abdf1991e643","name":"About the Company prompt","type":"n8n-nodes-base.code","typeVersion":2,"position":[-21080,1020]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding Article Analysis').first().json\nconst job_responsibilities = $json?.output?.job_responsibilities || \"\"\nconst job_challenges = $json?.output?.job_challenges || \"\"\nconst intent = $json?.output?.intent || \"\"\nconst report = $json?.output?.report || \"\"\n\noriginal.user_info.job_responsibilities = job_responsibilities\noriginal.user_info.job_challenges = job_challenges\noriginal.user_info.report = report\noriginal.user_info.visit_intent = intent\n\n\nreturn original\n\n"},"id":"9c2b1775-d583-4ff6-9fa6-fafb8ff54161","name":"Combining Contact non-public information","type":"n8n-nodes-base.code","typeVersion":2,"position":[-17600,1020]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Combining Page Info. Data').first().json\n\nconst products = $json?.output?.products || []\nconst unique_selling_proposition = $json?.output?.unique_selling_proposition || \"\"\nconst clients = $json?.output?.clients || []\nconst testimonials = $json?.output?.testimonials || []\nconst case_studies = $json?.output?.case_studies || []\nconst report = $json?.output?.report || \"\"\nlet years_in_business = null\nif(original.company_info.founded){\n  const yearFounded =original.company_info.founded ; // Or \"2014\" if it's a string\n\n// Get the current year\nconst currentYear = new Date().getFullYear();\n\n// Convert yearFounded to a number if it's a string\nconst foundedYear = Number(yearFounded);\n\n// Calculate the years in business\nyears_in_business  = currentYear - foundedYear;\n}\n\n\n\noriginal.company_info.products = products\noriginal.company_info.unique_selling_proposition = unique_selling_proposition\noriginal.company_info.clients = clients\noriginal.company_info.testimonials = testimonials\noriginal.company_info.case_studies = case_studies\noriginal.company_info.report = report\noriginal.company_info.years_in_business = years_in_business\n\n\n\n\n\nreturn original;"},"id":"3dfd068f-bcf2-444b-b017-a17072d5117e","name":"Combining Company info. data","type":"n8n-nodes-base.code","typeVersion":2,"position":[-20440,1020]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const prompt = `\n-- DATA TO BE USED IN THE TASK -- \nInformation of the user who wisited the page ${JSON.stringify($json.user_info)}\n\n-- TASK -- \nYour task is to find:\n- Job responsibilities \nStep 1:  Search Google for job postings for the company that are for the exact job title (${$json.user_info.role}) of the contact.  This will help us find the exact job responsibilities this contact has in their day to day job\nStep 2:  If Step 1 isn't found, then look for job posts from the same company that are for similar job titles as the contacts current job title.   This will give us more accurate information about their responsibilities then we will get if we depend on generic job responsibilities.\nStep 3: If Step 2 isn't found, then have AI provide the job responsibilities based on the products and services offered by the company. Here is the list of products/services: ${$json.company_info.products}\n\nExample job responsibilities string:\"- Responsible for Finance, Product Management and Development\n - Investment Operations\n - Client Operations\n - Facilities & Real Estate\n - Information Technology\n - Serving on the Board of Directors and Management Committee\"\n------------------------------\n- Job challenges: Based on the following information, list the daily challenges/problems user is likely to face on their job:\na)Users job title - ${$json.user_info.role}\nb)Users job Responsibilties - Get from the previous task\nc)Users industry where he is workin - ${$json.company_info.industries}\nd)Products/Services the users company offers - ${$json.company_info.products}\n\nExample job challanges string:\"1. Managing large volumes of documents and data can be overwhelming. \n2. Ensuring compliance with various legal and regulatory standards is complex and time-consuming. \n3. Dealing with tight deadlines while maintaining accuracy and thoroughness can lead to stress.\"\n\n------------------------------\n- Intent (Why they visited the site)\nBased on the following information, come up with a reason why the person visited the website\na)Users job title - ${$json.user_info.role}\nb)Users job Responsibilities - Get from the previous task\nc)Users industry where he is workin - ${$json.company_info.industries}\nd)Products/Services the users company offers - ${$json.company_info.products}\ne)Page Visited - Summary: ${$json.technical_data.page_visited_summary}\nf)Page Visited - Main Topic: ${$json.technical_data.page_visited_topic}\ng)Page Visited - Intent: ${$json.technical_data.page_visited_intent} (What is the goal of the page - is it to sell or inform?):  (Sales page (service/product/partner signup pages/Request a Quote, Call to Action pages) Informational page (about, contact, blog articles, resources, etc))\n\nIntent example: Abbie Haynes likely visited the site to gain insights and learn about cybersecurity issues that might impact the financial services industry, particularly given the increasing threats to various sectors including financial institutions. Understanding these challenges is vital for Abbie in order to safeguard client information and implement necessary protective measures in their financial advisory roles.\n------------------------------\n- Contact Report\nBased on the provided object with contact's information and the data you gatherered from the previous tasks combine all of the information that is overall summary of the contact.\n\nContact Report examples: \n--Kira Ciccarelli serves as a Research Specialist at Diligent, where she is responsible for planning and executing research reports on governance topics. She recently visited a blog post detailing various audit testing methods, indicating her pursuit of deeper knowledge in compliance topics relevant to her research. Kira's role suggests she may be seeking comprehensive resources to enhance Diligent’s compliance strategies related to SOC 2 and PCI DSS frameworks.\n--Rebecca Burton is a Registered Nurse at OhioHealth, a major healthcare provider. She plays an essential role in patient care and supporting office procedures. Interested in compliance, she visited a blog focused on SOC 1 reports, potentially seeking information that could enhance her understanding of compliance frameworks relevant to healthcare standards. Her role reflects daily responsibilities in providing healthcare, monitoring electronic fetal recordings, and collaborating with healthcare professionals, suggesting an ongoing need for compliance knowledge in her work.\n--Wes Waninger is an Advanced Technology Account Executive at Cdw•g, specializing in developing technology solutions for diverse clients. His role involves cultivating customer relationships and understanding client needs to drive technological advancements. Wes has recently visited a blog about HITRUST CSF requirements, indicating he may be seeking information to enhance compliance strategies within his organization's IT offerings.\n--Tommy Kowalski is the VP of Digital Commerce at Crocs, overseeing the execution of their eCommerce strategy and online marketing efforts. He demonstrated a noted interest in compliance by visiting the I.S. Partners blog about SOC 1 bridge letters, indicating a potential initiative for enhancing Crocs’ compliance documentation. Given Crocs has established certifications like ISO 27001, Tommy may be focusing on bolstering their compliance efforts further through thorough understanding and documentation of applicable frameworks.\n--Chris Garcia is a Service Data And Process Analyst at Sciex, focusing on process documentation and improvements in the biotechnology sector. His engagement with our blog about SOC 1 and SOC 2 reports suggests he may be seeking clarity and actionable insights regarding compliance frameworks relevant to his company’s operations. Considering Sciex's existing certifications in SOC 1 and SOC 2, Chris is likely looking to deepen their understanding or prepare for audits in these areas.\n\n\n\nContact Report rules: Contact report should follow the above structure from the examples. \n\n`\nreturn {prompt:prompt}"},"id":"ca448dfd-f44e-4c47-ae10-8ef1222fbeb2","name":"About the contact prompt","type":"n8n-nodes-base.code","typeVersion":2,"position":[-18240,1020]},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","hasOutputParser":true,"options":{}},"id":"571a64ed-6567-4df6-a7d1-d81da4efae1b","name":"About the Company Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-20840,1020],"retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"promptType":"define","text":"={{ $json.prompt }}","hasOutputParser":true,"options":{}},"id":"5413e4bc-60be-47f1-9acb-acfafb90a9ab","name":"About the Contact Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-18020,1020],"retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"content":"# Ideal Customer Profile Score ","height":660,"width":2500},"type":"n8n-nodes-base.stickyNote","position":[-6100,700],"typeVersion":1,"id":"9ce44cb7-5525-42b3-bcba-c2a10a16099f","name":"Sticky Note6"},{"parameters":{"content":"# Find Compliance Frameworks\n\n","height":660,"width":6580},"type":"n8n-nodes-base.stickyNote","position":[-16340,700],"typeVersion":1,"id":"f1c1435b-f02d-42a3-8e1b-dbfcc2fb5676","name":"Sticky Note8"},{"parameters":{"promptType":"define","text":"={{ $json.message }}","hasOutputParser":true,"options":{}},"id":"b6d9be4b-9ec5-4ae9-a8c3-e760351a091a","name":"Finding Missing data Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-32360,960],"retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"jsonSchemaExample":" {\n \"user_info\":{\n    \"first_name\" : \"\",\n    \"last_name\" : \"\" ,\n    \"role\":  \"\",\n    \"primary_email\" : \"\",\n    \"personal_emails\" : [\"\"],\n    \"work_emails\" : [\"\",\"\"],\n    \"phone_numbers\":  [\"38162899895\"],\n    \"social_urls\":{\n      \"linkedin\":\"\",\n      \"facebook\":\"\",\n      \"twitter\" :\"\",\n      \"git_hub\":\"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\":  \"\",\n      \"monster\":  \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"location\":{\n      \"city\": \"\",\n      \"state\": \"\",\n      \"country\": \"\",\n      \"address\":  \"\",\n      \"zip\": \"\"\n    }\n },\n \"company_info\":{\n   \"name\": \"\",\n   \"size\": \"\",\n   \"revenue\": \"\",\n   \"domain\": \"\",\n   \"industry\": \"\",\n   \"specialities\": [\"38162899895\"],\n   \"social_urls\":{\n     \"linkedin\": \"\",\n     \"facebook\" :  \"\",\n     \"twitter\": \"\",\n     \"instagram\": \"\",\n     \"blog\": \"\",\n     \"stackoverflow\": \"\",\n     \"pitchbook\":\"\",\n     \"monster\": \"\",\n     \"crunchbase\": \"\",\n     \"angellist\": \"\",\n     \"indeed\": \"\",\n     \"glassdoor\": \"\"\n   },\n   \"phone_numbers\": [\"38162899895\"],\n   \"location\":{\n     \"city\" :\"\",\n     \"state\": \"\",\n     \"country\": \"\",\n     \"address\":\"\",\n     \"zip\": \"\"\n    }\n },\n  \"technical_data\":{\n    \"page_visited_title\": \"\",\n    \"page_visited_url\": \"\",\n    \"utmCampaign\":\"\",\n    \"utmContent\":\"\",\n    \"utmMedium\": \"\",\n    \"utmSource\": \"\",\n    \"utmTerm\": \"\",\n    \"vvid\": \"\",\n    \"hem\": \"\"\n  }\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-32140,1200],"id":"a7888d18-53e3-40a0-80a0-834e2a32f8e0","name":"Finding Missing Data - Parser"},{"parameters":{"promptType":"define","text":"=Given this object: \n{{ JSON.stringify($json)}}\n** YOUR TASK **\n- Looking at the whole provided object above summerize array's into a single \"most probable\" value.\n  Don't summerize following array's: experiences, specialities, similar_organizations (Leave them the same as in input object). \n- Industries array can't contain object's, make sure you add in just string values to that array.\n- For the \"technical_data\" and \"upcoming_meeting_data\" include them in the response but do not change the key-value pairs inside them.\n- If any of the values are empty, keep them that way.\n\n** RULES **\n- You must include \"technical_data\" and \"upcoming_meeting_data\" in your response (they are provided in the input object)\n\n\n\n\n** EXAMPLE OF WHAT YOU SHOULD DO **\nIf we for example have an array of first names [\"David\", \"Cam\", \"Stefan\"] we are going to set the\nfirst_name to be \"Stefan\", why ? because for example we have an email in the object \"stefan@searchactions.com\" containing users first name in the email. \n\n\n** EXAMPLE OUTPUT DATA **\nYour output should have similar structure as this object:\n \n  {\n  \"user_info\": {\n    \"first_name\": \"Janice\",\n    \"last_name\": \"Suphakan\",\n    \"profile_pick\": \"\",\n    \"about\": \"Accountant specializing in: Cash Management, accounts receivable, cash variance analysis, bank reconciliations, month-end close, budgeting, financial statement preparation, collections and fraudulent credit card transactions.\\n\\nCFE Eligible\\n\\nSpecialties: JDEdwards, Microsoft Word and Excel, ReconNET, Positive Pay, Hyperion, PowerPlant, Blackline and PeopleSoft.\",\n    \"user_skills\": \"Teamwork, Accounting, Account Reconciliation, Accounts Payable, JD Edwards, Accounts Receivable, General Ledger, Payroll, Strategic Thinking\",\n    \"experiences\": [\n      {\n        \"company_name\": \"10 yrs 2 mos\",\n        \"company_domain\": \"https://www.linkedin.com/company/4674/\",\n        \"role\": \"Exelon\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\"\n      },\n      {\n        \"company_name\": \"ComEd\",\n        \"company_domain\": \"https://www.linkedin.com/company/4675/\",\n        \"role\": \"Accountant\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4E0BAQH1ZirrqhDJoA/company-logo_200_200/company-logo_200_200/0/1643895567661/comed_logo?e=1748476800&v=beta&t=NuFfdwo0Zjeypy22zOhM5AM9ho8RSJUGnYhotvntgbw\"\n      },\n      {\n        \"company_name\": \"Exelon\",\n        \"company_domain\": \"https://www.linkedin.com/company/4674/\",\n        \"role\": \"Payroll Accountant\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\"\n      },\n      {\n        \"company_name\": \"Enova Financial\",\n        \"company_domain\": \"https://www.linkedin.com/search/results/all/?keywords=Enova+Financial\",\n        \"role\": \"ReconNET Implementation Analyst\",\n        \"company_logo\": \"\"\n      },\n      {\n        \"company_name\": \"6 yrs 2 mos\",\n        \"company_domain\": \"https://www.linkedin.com/company/727160/\",\n        \"role\": \"Kerasotes Showplace Theatres, LLC\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C560BAQEvxaJO-H8JnQ/company-logo_200_200/company-logo_200_200/0/1662661522484/kerasotes_theaters_logo?e=1748476800&v=beta&t=IEvM0M5dt-7lsdNjaKSMMkn6wdZC9MDuU2fuEV_Pv7E\"\n      }\n    ],\n    \"role\": \"Internal Auditor\",\n    \"primary_email\": \"janice.suphakan@exeloncorp.com\",\n    \"personal_email\": \"janice.suphakan@exeloncorp.com\",\n    \"work_email\": \"janice.suphakan@exeloncorp.com\",\n    \"phone_number\": \"1-800-483-3220\",\n    \"social_urls\": {\n      \"linked_in\": \"linkedin.com/in/janicegalon\",\n      \"facebook\": \"\",\n      \"twitter\": \"\",\n      \"git_hub\": \"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"location\": {\n      \"city\": \"Westmont\",\n      \"state\": \"IL\",\n      \"country\": \"United States\",\n      \"address\": \"\",\n      \"zip\": \"60559\"\n    }\n  },\n  \"company_info\": {\n    \"name\": \"Exelon\",\n    \"description\": \"Exelon Corporation (Nasdaq: EXC) is the nation’s largest utility company, serving more than 10 million customers through six fully regulated utilities. We believe that reliable and affordable energy is essential to a brighter, more sustainable future.  \\nWe are a FORTUNE 250 company operating across a large urban footprint, serving major metro areas in Delaware, the District of Columbia, Illinois, Maryland, New Jersey and Pennsylvania.  Exelon is recognized as an industry leader with best-in-class operations, a firm commitment to maintaining energy affordability, a track record of top-quartile reliability performance, strong ESG leadership and principles, and a deep dedication to supporting and investing in the communities we serve. \",\n    \"logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\",\n    \"cover_image\": \"\",\n    \"size\": \"31,000+ \",\n    \"founded\": \"2000\",\n    \"revenue\": \"$3000000\",\n    \"type\": \"public\",\n    \"domain\": \"exeloncorp.com\",\n    \"industry\": \"IT\",\n    \"specialities\": [\n      \"The Exelon family of companies strives for the highest standards of power generation\",\n      \"competitive energy sales and energy delivery. We are committed to providing superior value for our customers\",\n      \"employees\",\n      \"investors and the communities we serve.\"\n    ],\n    \"social_urls\": {\n      \"linked_in\": \"linkedin.com/company/exelon\",\n      \"facebook\": \"facebook.com/exeloncorp\",\n      \"twitter\": \"twitter.com/Exelon\",\n      \"git_hub\": \"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"phone_number\": \"1-800-483-3220\",\n    \"location\": {\n      \"city\": \"Chicago\",\n      \"state\": \"IL\",\n      \"country\": \"United States\",\n      \"address\": \"10 South Dearborn Street\",\n      \"zip\": \"60603\"\n    },\n    \"similar_organizations\": [\n      {\n        \"name\": \"Generative AI\",\n        \"industry\": \"Computer Software\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/D4D0BAQFH3XFaatOOPA/company-logo_200_200/company-logo_200_200/0/1712666342227/genai_works_logo?e=1748476800&v=beta&t=CKJYCmTrPvQp65CR5opL7qSu77gBIUtFZabBhe1b-zU\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D563DAQHfJRhxib1rZA/image-scale_127_750/image-scale_127_750/0/1703810960253/genai_works_cover?e=1740762000&v=beta&t=ljQW64fqjYAopH0kp3DKCuZgqtJeX7z6Dpt-vTmvQFE\",\n        \"size\": 200,\n        \"locations\": [\n          {\n            \"city\": \"San Francisco\",\n            \"state\": \"\",\n            \"country\": \"US\",\n            \"address\": \"\",\n            \"zip\": \"\"\n          }\n        ]\n      },\n      {\n        \"name\": \"American Electric Power\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C510BAQFRoaoKoqFD8g/company-logo_200_200/company-logo_200_200/0/1631314482288?e=1748476800&v=beta&t=E3TymRMMjWi8KpDus7qVxnEpFqd7gTiTH7aj6u_Tl-o\",\n        \"cover_image\": \"\",\n        \"size\": \"\",\n        \"locations\": [\n          {\n            \"city\": \"Columbus\",\n            \"state\": \"OH\",\n            \"country\": \"US\",\n            \"address\": \"1 Riverside Plaza null\",\n            \"zip\": \"43215\"\n          }\n        ]\n      },\n      {\n        \"name\": \"Duke Energy Corporation\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFJ9XVldiGRLg/company-logo_200_200/company-logo_200_200/0/1630485143165/duke_energy_corporation_logo?e=1748476800&v=beta&t=cq1bxJ-G8UkfkJjdQhRrb1G5P1V8WZQeEVlTM7Vj9_k\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D4E3DAQF9UkXOIeQQdQ/image-scale_127_750/image-scale_127_750/0/1738943117442/duke_energy_corporation_cover?e=1740762000&v=beta&t=U01nnQd-9ayrFgvgqBB9DJgPdRczuuzwG-lCI3qHFag\",\n        \"size\": \"\",\n        \"locations\": [\n          {\n            \"city\": \"Charlotte\",\n            \"state\": \"North Carolina\",\n            \"country\": \"US\",\n            \"address\": \"525 S Tryon St null\",\n            \"zip\": \"28202\"\n          }\n        ]\n      },\n      {\n        \"name\": \"PPL Electric Utilities\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/D4E0BAQFTI1DxGlCPtQ/company-logo_200_200/company-logo_200_200/0/1719771607637?e=1748476800&v=beta&t=6qM1vY9vbLSCPtqUvN7tQAeHe6i75-HNR_FRumt_oE0\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D4E3DAQGyr0xPpP4ZQQ/image-scale_127_750/image-scale_127_750/0/1665418455635/ppl_electric_utilities_cover?e=1740762000&v=beta&t=VoVpMzMYZI3sQEci_W7BJlfLuzdR_yMKehcs_6iB5Mo\",\n        \"size\": 5000,\n        \"locations\": [\n          {\n            \"city\": \"\",\n            \"state\": \"\",\n            \"country\": \"\",\n            \"address\": \"\",\n            \"zip\": \"\"\n          }\n        ]\n      },\n      {\n        \"name\": \"PJM Interconnection\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C560BAQGKGgjsiwQxIg/company-logo_200_200/company-logo_200_200/0/1631329127882?e=1748476800&v=beta&t=0kDCE-TWmqiJSB1_eALKykHmgwgWjrhj0-Eqr6h2MX8\",\n        \"cover_image\": \"\",\n        \"size\": 1000,\n        \"locations\": [\n          {\n            \"city\": \"Audubon\",\n            \"state\": \"PA\",\n            \"country\": \"US\",\n            \"address\": \"2750 Monroe Blvd null\",\n            \"zip\": \"19403\"\n          }\n        ]\n      }\n    ]\n  },\n  \"technical_data\": {\n    \"page_visited_title\": \"Internal Auditor's Expanding Role in ERM\",\n    \"page_visited_url\": \"https://www.ispartnersllc.com/blog/internal-auditors-expanding-role-enterprise-risk-management/\",\n    \"utmCampaign\": \"\",\n    \"utmContent\": \"\",\n    \"utmMedium\": \"\",\n    \"utmSource\": \"\",\n    \"utmTerm\": \"\",\n    \"vvid\": \"f8804a4c-fcb4-4131-b3ab-69e1af3c7bb0\",\n    \"hem\": \"33ff0f63bc7f6815f8f58d633cf56b7c81e91f3dbbf0d21c103839c9a0ea2be6\",\n    \"urn\": \"ACoAAAPVcCABV9hNPj4-ZNJosKuTmzhHrT_-rgg\",\n    \"mx_record\": \"exeloncorp-com.mail.protection.outlook.com\",\n    \"mx_provider\": \"Microsoft 365\",\n    \"mx_security_gateway\": \"true\",\n    \"page_visited_domain\": \"www.ispartnersllc.com\"\n  },\n  \"upcoming_meeting_data\": {\n    \"meeting_with\": \"\",\n    \"meeting_time\": \"\",\n    \"lifecycle_stage\": \"\",\n    \"form_message\": \"\",\n    \"hubspot_id\": \"\"\n  }\n}\n\n","hasOutputParser":true,"options":{"maxIterations":60}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-25140,1020],"id":"c03c6c9d-a8b5-457c-b4d5-53ca706a1ccf","name":"Analyzing data","retryOnFail":true,"maxTries":5,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const structured_object = $json?.output\n\n\nconst fallback_data = $('Combining Company - User - Technical Data').first().json\n\nconst transformArraysToFirstItem = (inputData) => {\n  // Helper function to check if value should be processed\n  const shouldProcessArray = (key, parentKey) => {\n    const exclusions = {\n      user_info: ['experiences'],\n      company_info: ['industries', 'similar_organizations', 'specialities']\n    };\n    \n    return !(exclusions[parentKey] && exclusions[parentKey].includes(key));\n  };\n\n  // Deep clone to avoid modifying original data\n  const processObject = (obj, parentKey = '') => {\n    const result = {};\n    \n    for (const [key, value] of Object.entries(obj)) {\n      if (Array.isArray(value) && shouldProcessArray(key, parentKey)) {\n        // Transform array to first item if it should be processed\n        result[key] = value[0];\n      } else if (typeof value === 'object' && value !== null) {\n        // Recursively process nested objects\n        result[key] = processObject(value, key);\n      } else {\n        // Keep non-array values as is\n        result[key] = value;\n      }\n    }\n    \n    return result;\n  };\n\n  // Process the object directly\n  return processObject(inputData);\n};\n\n\n\nif(structured_object){\n  return structured_object\n}else{\n return transformArraysToFirstItem({\n    user_info: fallback_data.user_info,\n    company_info:fallback_data.company_info,\n    technical_data: fallback_data.technical_data,\n    upcoming_meeting_data: fallback_data.upcoming_meeting_data\n })\n}\n\n"},"id":"4b0a2ff8-d51d-496d-945f-0d350a17e149","name":"Prospect final structure","type":"n8n-nodes-base.code","typeVersion":2,"position":[-24700,1020]},{"parameters":{"jsonSchemaExample":"{\n  \"user_info\": {\n    \"first_name\": \"Janice\",\n    \"last_name\": \"Suphakan\",\n    \"profile_pick\": \"\",\n    \"about\": \"Accountant specializing in: Cash Management, accounts receivable, cash variance analysis, bank reconciliations, month-end close, budgeting, financial statement preparation, collections and fraudulent credit card transactions.\\n\\nCFE Eligible\\n\\nSpecialties: JDEdwards, Microsoft Word and Excel, ReconNET, Positive Pay, Hyperion, PowerPlant, Blackline and PeopleSoft.\",\n    \"user_skills\": \"Teamwork, Accounting, Account Reconciliation, Accounts Payable, JD Edwards, Accounts Receivable, General Ledger, Payroll, Strategic Thinking\",\n    \"experiences\": [\n      {\n        \"company_name\": \"10 yrs 2 mos\",\n        \"company_domain\": \"https://www.linkedin.com/company/4674/\",\n        \"role\": \"Exelon\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\"\n      },\n      {\n        \"company_name\": \"ComEd\",\n        \"company_domain\": \"https://www.linkedin.com/company/4675/\",\n        \"role\": \"Accountant\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4E0BAQH1ZirrqhDJoA/company-logo_200_200/company-logo_200_200/0/1643895567661/comed_logo?e=1748476800&v=beta&t=NuFfdwo0Zjeypy22zOhM5AM9ho8RSJUGnYhotvntgbw\"\n      },\n      {\n        \"company_name\": \"Exelon\",\n        \"company_domain\": \"https://www.linkedin.com/company/4674/\",\n        \"role\": \"Payroll Accountant\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\"\n      },\n      {\n        \"company_name\": \"Enova Financial\",\n        \"company_domain\": \"https://www.linkedin.com/search/results/all/?keywords=Enova+Financial\",\n        \"role\": \"ReconNET Implementation Analyst\",\n        \"company_logo\": \"\"\n      },\n      {\n        \"company_name\": \"6 yrs 2 mos\",\n        \"company_domain\": \"https://www.linkedin.com/company/727160/\",\n        \"role\": \"Kerasotes Showplace Theatres, LLC\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C560BAQEvxaJO-H8JnQ/company-logo_200_200/company-logo_200_200/0/1662661522484/kerasotes_theaters_logo?e=1748476800&v=beta&t=IEvM0M5dt-7lsdNjaKSMMkn6wdZC9MDuU2fuEV_Pv7E\"\n      }\n    ],\n    \"role\": \"Internal Auditor\",\n    \"primary_email\": \"janice.suphakan@exeloncorp.com\",\n    \"personal_email\": \"janice.suphakan@exeloncorp.com\",\n    \"work_email\": \"janice.suphakan@exeloncorp.com\",\n    \"phone_number\": \"1-800-483-3220\",\n    \"social_urls\": {\n      \"linked_in\": \"linkedin.com/in/janicegalon\",\n      \"facebook\": \"\",\n      \"twitter\": \"\",\n      \"git_hub\": \"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"location\": {\n      \"city\": \"Westmont\",\n      \"state\": \"IL\",\n      \"country\": \"United States\",\n      \"address\": \"\",\n      \"zip\": \"60559\"\n    }\n  },\n  \"company_info\": {\n    \"name\": \"Exelon\",\n    \"description\": \"Exelon Corporation (Nasdaq: EXC) is the nation’s largest utility company, serving more than 10 million customers through six fully regulated utilities. We believe that reliable and affordable energy is essential to a brighter, more sustainable future.  \\nWe are a FORTUNE 250 company operating across a large urban footprint, serving major metro areas in Delaware, the District of Columbia, Illinois, Maryland, New Jersey and Pennsylvania.  Exelon is recognized as an industry leader with best-in-class operations, a firm commitment to maintaining energy affordability, a track record of top-quartile reliability performance, strong ESG leadership and principles, and a deep dedication to supporting and investing in the communities we serve. \",\n    \"logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFZm45ZFS9UeQ/company-logo_200_200/company-logo_200_200/0/1643803400311/exelon_logo?e=1748476800&v=beta&t=qP_Na7Z7iAsLTOdsuCvkDAqgcPM7k1DE7itC5ZQDN6Y\",\n    \"cover_image\": \"\",\n    \"size\": \"31,000+ \",\n    \"founded\": \"2000\",\n    \"revenue\": \"$3000000\",\n    \"type\": \"public\",\n    \"domain\": \"exeloncorp.com\",\n    \"industry\": \"IT\",\n    \"specialities\": [\n      \"The Exelon family of companies strives for the highest standards of power generation\",\n      \"competitive energy sales and energy delivery. We are committed to providing superior value for our customers\",\n      \"employees\",\n      \"investors and the communities we serve.\"\n    ],\n    \"social_urls\": {\n      \"linked_in\": \"linkedin.com/company/exelon\",\n      \"facebook\": \"facebook.com/exeloncorp\",\n      \"twitter\": \"twitter.com/Exelon\",\n      \"git_hub\": \"\",\n      \"blog\": \"\",\n      \"stackoverflow\": \"\",\n      \"pitchbook\": \"\",\n      \"monster\": \"\",\n      \"crunchbase\": \"\",\n      \"angellist\": \"\",\n      \"indeed\": \"\",\n      \"glassdoor\": \"\"\n    },\n    \"phone_number\": \"1-800-483-3220\",\n    \"location\": {\n      \"city\": \"Chicago\",\n      \"state\": \"IL\",\n      \"country\": \"United States\",\n      \"address\": \"10 South Dearborn Street\",\n      \"zip\": \"60603\"\n    },\n    \"similar_organizations\": [\n      {\n        \"name\": \"Generative AI\",\n        \"industry\": \"Computer Software\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/D4D0BAQFH3XFaatOOPA/company-logo_200_200/company-logo_200_200/0/1712666342227/genai_works_logo?e=1748476800&v=beta&t=CKJYCmTrPvQp65CR5opL7qSu77gBIUtFZabBhe1b-zU\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D563DAQHfJRhxib1rZA/image-scale_127_750/image-scale_127_750/0/1703810960253/genai_works_cover?e=1740762000&v=beta&t=ljQW64fqjYAopH0kp3DKCuZgqtJeX7z6Dpt-vTmvQFE\",\n        \"size\": 200,\n        \"locations\": [\n          {\n            \"city\": \"San Francisco\",\n            \"state\": \"\",\n            \"country\": \"US\",\n            \"address\": \"\",\n            \"zip\": \"\"\n          }\n        ]\n      },\n      {\n        \"name\": \"American Electric Power\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C510BAQFRoaoKoqFD8g/company-logo_200_200/company-logo_200_200/0/1631314482288?e=1748476800&v=beta&t=E3TymRMMjWi8KpDus7qVxnEpFqd7gTiTH7aj6u_Tl-o\",\n        \"cover_image\": \"\",\n        \"size\": \"\",\n        \"locations\": [\n          {\n            \"city\": \"Columbus\",\n            \"state\": \"OH\",\n            \"country\": \"US\",\n            \"address\": \"1 Riverside Plaza null\",\n            \"zip\": \"43215\"\n          }\n        ]\n      },\n      {\n        \"name\": \"Duke Energy Corporation\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C4D0BAQFJ9XVldiGRLg/company-logo_200_200/company-logo_200_200/0/1630485143165/duke_energy_corporation_logo?e=1748476800&v=beta&t=cq1bxJ-G8UkfkJjdQhRrb1G5P1V8WZQeEVlTM7Vj9_k\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D4E3DAQF9UkXOIeQQdQ/image-scale_127_750/image-scale_127_750/0/1738943117442/duke_energy_corporation_cover?e=1740762000&v=beta&t=U01nnQd-9ayrFgvgqBB9DJgPdRczuuzwG-lCI3qHFag\",\n        \"size\": \"\",\n        \"locations\": [\n          {\n            \"city\": \"Charlotte\",\n            \"state\": \"North Carolina\",\n            \"country\": \"US\",\n            \"address\": \"525 S Tryon St null\",\n            \"zip\": \"28202\"\n          }\n        ]\n      },\n      {\n        \"name\": \"PPL Electric Utilities\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/D4E0BAQFTI1DxGlCPtQ/company-logo_200_200/company-logo_200_200/0/1719771607637?e=1748476800&v=beta&t=6qM1vY9vbLSCPtqUvN7tQAeHe6i75-HNR_FRumt_oE0\",\n        \"cover_image\": \"https://media.licdn.com/dms/image/v2/D4E3DAQGyr0xPpP4ZQQ/image-scale_127_750/image-scale_127_750/0/1665418455635/ppl_electric_utilities_cover?e=1740762000&v=beta&t=VoVpMzMYZI3sQEci_W7BJlfLuzdR_yMKehcs_6iB5Mo\",\n        \"size\": 5000,\n        \"locations\": [\n          {\n            \"city\": \"\",\n            \"state\": \"\",\n            \"country\": \"\",\n            \"address\": \"\",\n            \"zip\": \"\"\n          }\n        ]\n      },\n      {\n        \"name\": \"PJM Interconnection\",\n        \"industry\": \"Utilities\",\n        \"company_logo\": \"https://media.licdn.com/dms/image/v2/C560BAQGKGgjsiwQxIg/company-logo_200_200/company-logo_200_200/0/1631329127882?e=1748476800&v=beta&t=0kDCE-TWmqiJSB1_eALKykHmgwgWjrhj0-Eqr6h2MX8\",\n        \"cover_image\": \"\",\n        \"size\": 1000,\n        \"locations\": [\n          {\n            \"city\": \"Audubon\",\n            \"state\": \"PA\",\n            \"country\": \"US\",\n            \"address\": \"2750 Monroe Blvd null\",\n            \"zip\": \"19403\"\n          }\n        ]\n      }\n    ]\n  },\n  \"technical_data\": {\n    \"page_visited_title\": \"Internal Auditor's Expanding Role in ERM\",\n    \"page_visited_url\": \"https://www.ispartnersllc.com/blog/internal-auditors-expanding-role-enterprise-risk-management/\",\n    \"utmCampaign\": \"\",\n    \"utmContent\": \"\",\n    \"utmMedium\": \"\",\n    \"utmSource\": \"\",\n    \"utmTerm\": \"\",\n    \"vvid\": \"f8804a4c-fcb4-4131-b3ab-69e1af3c7bb0\",\n    \"hem\": \"33ff0f63bc7f6815f8f58d633cf56b7c81e91f3dbbf0d21c103839c9a0ea2be6\",\n    \"urn\": \"ACoAAAPVcCABV9hNPj4-ZNJosKuTmzhHrT_-rgg\",\n    \"mx_record\": \"exeloncorp-com.mail.protection.outlook.com\",\n    \"mx_provider\": \"Microsoft 365\",\n    \"mx_security_gateway\": \"true\",\n    \"page_visited_domain\": \"www.ispartnersllc.com\"\n  },\n  \"upcoming_meeting_data\": {\n    \"meeting_with\": \"\",\n    \"meeting_time\": \"\",\n    \"lifecycle_stage\": \"\",\n    \"form_message\": \"\",\n    \"hubspot_id\": \"\"\n  }\n}\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-24840,1220],"id":"afed9ea7-4206-46fa-aad0-9bce027e3e2d","name":"Analyzing data - Parser"},{"parameters":{"jsonSchemaExample":"{\n\"products\": [\"CRM Software\", \"Marketing Automation Tools\"],\n\"industries\": [\"Sales\" , \"Marketing\"],\n\"unique_selling_proposition\": \"Integration of CRM and marketing automation in one platform.\",\n\"icp\": \"Sales and marketing teams looking for integrated solutions for improved efficiency.\",\n\"clients\": [\"SalesPro\", \"MarketLead\"],\n\"testimonials\": [\n{\n\"client\": \"SalesPro\",\n\"name\": \"Emma Brown\",\n\"position\": \"Sales Manager\",\n\"testimonial\": \"Their integrated tools have significantly improved our efficiency.\"\n}\n],\n\"case_studies\": [\n{\n\"title\": \"Boosting MarketLead's Sales with Integrated CRM\",\n\"link\": \"www.example.com/case-study/marketlead\"\n}\n],\n\"report\": \"The company specializes in CRM software and marketing automation tools, specifically for sales and marketing firms. Their unique selling proposition is their integration of CRM and marketing automation tools in one platform. Notable clients include SalesPro and MarketLead, who attest to the efficiency of their integrated platform.\"\n}"},"id":"5705afb3-7706-468a-ab15-7ce30fe4139b","name":"About Company - Parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-20600,1220]},{"parameters":{"promptType":"define","text":"=# Framework Verification Prompt\n### ROLE\nYou are an expert data verification specialist who identifies accurate information using publicly available data. Your task is to verify company compliance certifications and frameworks.\n### INFORMATION\nCompany name: {{ $json.company_info.name }}\nWebsite: {{ $json.company_info.domain }}\nCompany LinkedIn: {{ $json.company_info.social_urls.linked_in }}\n\n\n### TASK\nResearch and verify which of the authorized frameworks and certifications this company has achieved. Only report frameworks and certifications from the authorized list below.\n\n### AUTHORIZED FRAMEWORKS\nOnly these exact frameworks and certifications may be reported. Any framework not on this list must be excluded:\n- DORA\n- SOC 1\n- SOC 2\n- SOC 3\n- ISO 27001\n- ISO 42001\n- HIPAA\n- PCI DSS\n- HITRUST\n- HITRUST AI RMF (HITRUST AI Risk Management Framework)\n- CMMC\n- CCPA\n- GDPR\n- GLBA\n- FISMA\n- MAR/SOX\n- MARS-E\n- NERC\n- NYDFS\n- NIST CSF\n- NIST SP 800-53\n- NIST AI RMF (NIST AI Risk Management Framework)\n- NIST Cybersecurity for IoT\n\n### VERIFICATION RULES\n1. Only report frameworks that are officially certified/attested:\n   - Must have evidence of certification or attestation\n   - Must be from verifiable sources\n   - General compliance claims without certification should be ignored\n\n2. Only accept information from:\n   - Company's official website ${$json.company_info.domain}\n   - Official press releases (verified to be from the company)\n   - Trust/Security/Compliance pages\n   - Official certification registries\n\n3. Company Verification:\n   - Only use information from ${$json.company_info.domain}\n   - Verify company name matches exactly: ${$json.company_info.name}\n   - For press releases, verify company details in the \"About\" section match\n\n### SEARCH APPROACH\n1. Trust/Security Pages:\n   - Look for certification badges\n   - Check trust center or compliance pages\n   - Review security documentation\n\n2. Press Releases:\n   - Search for certification announcements\n   - Verify company details match\n\n3. Search Engine Queries:\n   - site:{{ $json.company_info.domain }} certification\n   - site{{ $json.company_info.domain }}  compliance\n   - site:{{ $json.company_info.domain }}  trust center\n   - \"{{ $json.company_info.domain }}\" [framework name] certification\n\n### JSON OUTPUT FORMAT\nYour response should follow this output format:\n{\n    \"SOC_1\": \"true\",\n    \"SOC_2\": \"false\",\n    \"HIPAA_HITECH\": \"true\",\n    \"PCI_DSS\": \"true\",\n    \"ISO_27001\": \"false\",\n    \"ISO_42001\": \"true\",\n    \"ISO_50001\": \"false\",\n    \"CMMC\": \"true\",\n    \"CCPA\": \"false\",\n    \"GDPR\": \"true\",\n    \"GLBA\": \"true\",\n    \"FISMA\": \"false\",\n    \"MAR_SOX\": \"true\",\n    \"MARS_E\": \"false\",\n    \"NERC\": \"true\",\n    \"NYDFS\": \"false\",\n    \"NIST_AI_RMF\": \"true\",\n    \"HITRUST_AI_RMF\": \"false\",\n    \"NIST_CSF\": \"true\",\n    \"NIST_SP_800_53\": \"true\",\n    \"NIST_Cybersecurity_for_IoT\": \"false\",\n    \"website_found_on\": \"Example1.com\",\n    \"steps_taken\": [\n        \"Performed a Google Search on the company\",\n        \"Checked the company’s website for trust center or security pages\",\n        \"Verified the information on LinkedIn\",\n        \"Scrutinized their blog posts\",\n        \"Cross-referenced with reliable third-party platforms\"\n    ],\n    \"reasoning\": \"The company's trust center on their website made it clear that they are SOC 2, HIPAA and CCPA compliant, and adhere to GDPR regulations. They have not released any information about their compliance with other frameworks or certifications.\",\n    \"confidence_level\": \"High\"\n}\n\n\n\n### RESPONSE VALIDATION\nBefore providing your response:\n1. Verify each framework exactly matches the authorized list\n2. Confirm source directly connects to the correct company\n3. Verify certification vs. mere compliance claims\n\n### IMPORTANT NOTES\n- Only report frameworks from the authorized list - no exceptions\n- Ignore claims of \"compliance with\" without certification evidence\n- Many websites mention GDPR/CCPA in privacy policies - this is not certification\n- Do not include frameworks without clear certification evidence\n- Verify you are on the correct company website by checking the domain","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-15980,280],"id":"d4a4d058-134f-48f6-b24f-73b9ccc62b41","name":"Framework Agent - First","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"jsonSchemaExample":"{\n    \"SOC_1\": \"true\",\n    \"SOC_2\": \"false\",\n    \"HIPAA_HITECH\": \"true\",\n    \"PCI_DSS\": \"true\",\n    \"ISO_27001\": \"false\",\n    \"ISO_42001\": \"true\",\n    \"ISO_50001\": \"false\",\n    \"CMMC\": \"true\",\n    \"CCPA\": \"false\",\n    \"GDPR\": \"true\",\n    \"GLBA\": \"true\",\n    \"FISMA\": \"false\",\n    \"MAR_SOX\": \"true\",\n    \"MARS_E\": \"false\",\n    \"NERC\": \"true\",\n    \"NYDFS\": \"false\",\n    \"NIST_AI_RMF\": \"true\",\n    \"HITRUST_AI_RMF\": \"false\",\n    \"NIST_CSF\": \"true\",\n    \"NIST_SP_800_53\": \"true\",\n    \"NIST_Cybersecurity_for_IoT\": \"false\",\n    \"website_found_on\": \"Example1.com\",\n    \"steps_taken\": [\n        \"Performed a Google Search on the company\",\n        \"Checked the company’s website for trust center or security pages\",\n        \"Verified the information on LinkedIn\",\n        \"Scrutinized their blog posts\",\n        \"Cross-referenced with reliable third-party platforms\"\n    ],\n    \"reasoning\": \"The company's trust center on their website made it clear that they are SOC 2, HIPAA and CCPA compliant, and adhere to GDPR regulations. They have not released any information about their compliance with other frameworks or certifications.\",\n    \"confidence_level\": \"High\"\n}\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-15760,480],"id":"889f5f1b-484c-4b4e-91fb-16078486b1a9","name":"Framework First - Parser"},{"parameters":{"promptType":"define","text":"=# Framework Verification Prompt\n\n### ROLE\nYou are an expert data verification specialist who identifies accurate information using publicly available data. Your task is to verify company compliance certifications and frameworks.\n\n### COMPANY INFORMATION\nCompany name: {{ $json.company_info.name }}\nWebsite: {{ $json.company_info.domain }}\nCompany LinkedIn: {{ $json.company_info.social_urls.linked_in }}\n\n### TASK\nResearch and verify which of the authorized frameworks and certifications this company has achieved. Only report frameworks and certifications from the authorized list below.\n\n### AUTHORIZED FRAMEWORKS\nOnly these exact frameworks and certifications may be reported. Any framework not on this list must be excluded:\n- DORA\n- SOC 1\n- SOC 2\n- SOC 3\n- ISO 27001\n- ISO 42001\n- HIPAA\n- PCI DSS\n- HITRUST\n- HITRUST AI RMF (HITRUST AI Risk Management Framework)\n- CMMC\n- CCPA\n- GDPR\n- GLBA\n- FISMA\n- MAR/SOX\n- MARS-E\n- NERC\n- NYDFS\n- NIST CSF\n- NIST SP 800-53\n- NIST AI RMF (NIST AI Risk Management Framework)\n- NIST Cybersecurity for IoT### VERIFICATION RULES\n1. Only report frameworks that are officially certified/attested:\n   - Must have evidence of certification or attestation\n   - Must be from verifiable sources\n   - General compliance claims without certification should be ignored\n\n2. Only accept information from:\n   - Company's official website {{ $json.company_info.domain }}\n   - Official press releases (verified to be from the company)\n   - Trust/Security/Compliance pages\n   - Official certification registries\n\n3. Company Verification:\n   - Only use information from {{ $json.company_info.domain }}\n   - Verify company name matches exactly:  {{ $json.company_info.name }}\n   - For press releases, verify company details in the \"About\" section match\n\n### SEARCH APPROACH\n1. Trust/Security Pages:\n   - Look for certification badges\n   - Check trust center or compliance pages\n   - Review security documentation\n\n2. Press Releases:\n   - Search for certification announcements\n   - Verify company details match\n\n3. Search Engine Queries:\n   - site:{{ $json.company_info.domain }} certification\n   - site:{{ $json.company_info.domain }} compliance\n   - site:{{ $json.company_info.domain }} trust center\n   - \"{{ $json.company_info.domain }}\" [framework name] certification\n\n### JSON OUTPUT FORMAT\nYour response should follow this output format:\n{\n    \"SOC_1\": \"true\",\n    \"SOC_2\": \"false\",\n    \"HIPAA_HITECH\": \"true\",\n    \"PCI_DSS\": \"true\",\n    \"ISO_27001\": \"false\",\n    \"ISO_42001\": \"true\",\n    \"ISO_50001\": \"false\",\n    \"CMMC\": \"true\",\n    \"CCPA\": \"false\",\n    \"GDPR\": \"true\",\n    \"GLBA\": \"true\",\n    \"FISMA\": \"false\",\n    \"MAR_SOX\": \"true\",\n    \"MARS_E\": \"false\",\n    \"NERC\": \"true\",\n    \"NYDFS\": \"false\",\n    \"NIST_AI_RMF\": \"true\",\n    \"HITRUST_AI_RMF\": \"false\",\n    \"NIST_CSF\": \"true\",\n    \"NIST_SP_800_53\": \"true\",\n    \"NIST_Cybersecurity_for_IoT\": \"false\",\n    \"website_found_on\": \"Example1.com\",\n    \"steps_taken\": [\n        \"Performed a Google Search on the company\",\n        \"Checked the company’s website for trust center or security pages\",\n        \"Verified the information on LinkedIn\",\n        \"Scrutinized their blog posts\",\n        \"Cross-referenced with reliable third-party platforms\"\n    ],\n    \"reasoning\": \"The company's trust center on their website made it clear that they are SOC 2, HIPAA and CCPA compliant, and adhere to GDPR regulations. They have not released any information about their compliance with other frameworks or certifications.\",\n    \"confidence_level\": \"High\"\n}\n\n\n### RESPONSE VALIDATION\nBefore providing your response:\n1. Verify each framework exactly matches the authorized list\n2. Confirm source directly connects to the correct company\n3. Verify certification vs. mere compliance claims\n\n### IMPORTANT NOTES\n- Only report frameworks from the authorized list - no exceptions\n- Ignore claims of \"compliance with\" without certification evidence\n- Many websites mention GDPR/CCPA in privacy policies - this is not certification\n- Do not include frameworks without clear certification evidence\n- Verify you are on the correct company website by checking the domain","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-15180,280],"id":"d42c1076-10c6-4c10-a04b-ad28bd183ba8","name":"Framework Agent - Second","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"jsonSchemaExample":"{\n    \"SOC_1\": \"true\",\n    \"SOC_2\": \"false\",\n    \"HIPAA_HITECH\": \"true\",\n    \"PCI_DSS\": \"true\",\n    \"ISO_27001\": \"false\",\n    \"ISO_42001\": \"true\",\n    \"ISO_50001\": \"false\",\n    \"CMMC\": \"true\",\n    \"CCPA\": \"false\",\n    \"GDPR\": \"true\",\n    \"GLBA\": \"true\",\n    \"FISMA\": \"false\",\n    \"MAR_SOX\": \"true\",\n    \"MARS_E\": \"false\",\n    \"NERC\": \"true\",\n    \"NYDFS\": \"false\",\n    \"NIST_AI_RMF\": \"true\",\n    \"HITRUST_AI_RMF\": \"false\",\n    \"NIST_CSF\": \"true\",\n    \"NIST_SP_800_53\": \"true\",\n    \"NIST_Cybersecurity_for_IoT\": \"false\",\n    \"website_found_on\": \"Example1.com\",\n    \"steps_taken\": [\n        \"Performed a Google Search on the company\",\n        \"Checked the company’s website for trust center or security pages\",\n        \"Verified the information on LinkedIn\",\n        \"Scrutinized their blog posts\",\n        \"Cross-referenced with reliable third-party platforms\"\n    ],\n    \"reasoning\": \"The company's trust center on their website made it clear that they are SOC 2, HIPAA and CCPA compliant, and adhere to GDPR regulations. They have not released any information about their compliance with other frameworks or certifications.\",\n    \"confidence_level\": \"High\"\n}\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-14960,500],"id":"2cbfb651-6995-41e0-84ad-b542aaa1b371","name":"Framework Second - Parser"},{"parameters":{"promptType":"define","text":"=### ROLE\nYou are an Audit Intelligence Analyst who identifies audit vendors and GRC (Governance, Risk, and Compliance) software from company compliance documentation. You provide accurate, structured analysis of companies' compliance vendors and tools.\n\n### COMPANY INFORMATION\nCompany Name: {{ $json.company_info.name }}\nWebsite/Domain: {{ $json.company_info.domain }}\n\n### RESEARCH FINDINGS\nHere is framework research for {{ $json.company_info.name }}:\n{{ $json.company_info.found_frameworks[0].research_analysis }}\n### TASK\nFor {{ $json.company_info.name }}, analyze compliance documentation to identify:\n1. Any auditors or third-party firms that conduct their compliance assessments\n2. Any GRC (Governance, Risk, and Compliance) platforms or software used to manage their compliance program\n\n### AUTHORIZED COMPLIANCE FRAMEWORKS\nOnly consider the research provided and only report on auditors and GRC software for the exact frameworks and certifications listed below.  Any auditors or GRC software found for framework or certifications not on this list must be excluded:\nDORA \nSOC 1\nSOC 2\nSOC 3\nISO 27001\nHIPAA\nPCI DSS\nHITRUST\nNIST AI RMF\nHITRUST AI RMF\nNIST AI Risk Management\nNIST Cybersecurity for IoT\nISO 42001\nISO 50001\nCMMC\nCCPA\nGDPR\nGLBA\nFISMA\nMAR/SOX\nMARS-E\nNERC\nNYDFS\nNIST CSF\nNIST SP 800-53\n### EVIDENCE REQUIREMENTS\nValid Evidence Sources:\n- Trust Center/Security pages\n- Press releases or announcements\n- Auditor verification pages\n- Official certification registries\n- Integration/partnership announcements\n- Job postings\n- Case studies from vendors\n\n### CONFIDENCE LEVELS\nHIGH: Direct mention in official company or auditor documentation\nMEDIUM: Indirect references from reliable sources\nLOW: Third-party mentions or unclear references\n\n### COMMON EXAMPLES\nCommon auditors include (not a complete list):\n- Schellman & Company\n- A-LIGN\n- Kirkpatrick Price\n- Deloitte\n- Ernst & Young (EY)\n- KPMG\n- PricewaterhouseCoopers (PwC)\n\nCommon GRC platforms include (not a complete list):\n- Vanta\n- Drata\n- Secureframe\n- OneTrust\n- LogicGate\n- ZenGRC\n- Hyperproof\n- Sprinto\n\n### OUTPUT FORMAT\nYour output should follow the structure of following JSON object:\n{\n\"auditors\": [\"Schellman & Company LLC\"],\n\"grc_tools\": [\"Secureframe\"],\n\"confidence_auditor_grc\": \"low\",\n\"source\": \"Company's public statements and blogs\",\n\"frameworks\":[\"SOC 2\",\"GDPR\"],\n\"notes\": \"Public statements mention audits conducted by Schellman & Company LLC. Blogs point to potential use of Secureframe, though the company hasn't officially confirmed this in any formal documentation.\",\n\"bonus_info\":\"The company plans to move its operations to the cloud by the end of 2025. They have a strong internal security team and are preparing for an upcoming SOC 2 Type II audit.\",\n\"steps_taken\" : [\"Searched through company’s public statements\", \"Perused multiple blogs\", \"Reviewed statements from leadership\"],\n\"reasoning\":\"Though the company hasn't officially confirmed using Secureframe, their public statements and blogs strongly hint at its usage. The company also appears to be proactive about their compliance journey.\",\n\"confidence_level\": \"Low\"\n}\n### IMPORTANT NOTES\n1. Verify all information comes from or relates to the correct company domain: {Domain}\n2. If you cannot find specific auditors or GRC tools, use [\"Not Found\"]\n3. Distinguish between actual certification evidence and general compliance claims\n4. Include source URLs or specific documentation references\n5. Always include the brand of the GRC tool if the name of the tool is specific and vague.  For example, if a GRC tool is called \"Return Simulator\" and the brand that sells it is Aapryl, then you would respond with \"Aapryl Return Simulator\" \n\n### ACCURACY REQUIREMENTS\n- Take time to perform thorough research\n- Verify company identity matches exactly\n- Only report findings you can support with evidence\n- Indicate confidence level based on evidence quality\n- Note any inconsistencies or uncertainties in findings","hasOutputParser":true,"options":{"returnIntermediateSteps":false}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-9600,960],"id":"702849d7-947e-474d-a749-ef795c4944e3","name":"Auditor & GRC Tool Agent","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"jsonSchemaExample":"{\n\"auditors\": [\"Schellman & Company LLC\"],\n\"grc_tools\": [\"Secureframe\"],\n\"confidence_auditor_grc\": \"low\",\n\"source\": \"Company's public statements and blogs\",\n\"frameworks\":[\"SOC 2\",\"GDPR\"],\n\"notes\": \"Public statements mention audits conducted by Schellman & Company LLC. Blogs point to potential use of Secureframe, though the company hasn't officially confirmed this in any formal documentation.\",\n\"bonus_info\":\"The company plans to move its operations to the cloud by the end of 2025. They have a strong internal security team and are preparing for an upcoming SOC 2 Type II audit.\",\n\"steps_taken\" : [\"Searched through company’s public statements\", \"Perused multiple blogs\", \"Reviewed statements from leadership\"],\n\"reasoning\":\"Though the company hasn't officially confirmed using Secureframe, their public statements and blogs strongly hint at its usage. The company also appears to be proactive about their compliance journey.\",\n\"confidence_level\": \"Low\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-9360,1160],"id":"d297a87b-27a2-4f56-98b3-27af216ef5a8","name":"Auditor & GRC Tool - Parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding framework review and analysis').first().json\n\nconst grc = {\n auditors: $json?.output?.auditors || \"\",\n grc_tools: $json?.output?.grc_tools || \"\",\n confidence_auditor_grc: $json?.output?.confidence_auditor_grc || \"\",\n source: $json?.output?.source || \"\",\n frameworks: $json?.output?.frameworks || \"\",\n notes: $json?.output?.notes || \"\",\n bonus_info: $json?.output?.bonus_info || \"\",\n steps_taken: $json?.output?.steps_taken || \"\",\n reasoning: $json?.output?.reasoning || \"\",\n confidence_level: $json?.output?.confidence_level || \"\"\n}\n\noriginal.company_info.auditor_grc_tools = grc\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-9200,960],"id":"63305bc9-8c4e-419f-9d5a-129cc2997568","name":"Combining Auditor & GRC Tool"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding Competitor Partner Classification').item.json\nconst output = $json?.output\n\nconst frameworks = {\n  \"SOC_1\": output?.SOC_1 || \"\",\n  \"SOC_2\": output?.SOC_2 || \"\",\n  \"HIPAA_HITECH\": output?.HIPAA_HITECH || \"\",\n  \"PCI_DSS\": output?.PCI_DSS || \"\",\n  \"ISO_27001\": output?.ISO_27001 || \"\",\n  \"ISO_42001\": output?.ISO_42001 || \"\",\n  \"ISO_50001\": output?.ISO_50001 || \"\",\n  \"CMMC\": output?.CMMC || \"\",\n  \"CCPA\": output?.CCPA || \"\",\n  \"GDPR\": output?.GDPR || \"\",\n  \"GLBA\": output?.GLBA || \"\",\n  \"FISMA\": output?.FISMA || \"\",\n  \"MAR_SOX\": output?.MAR_SOX || \"\",\n  \"MARS_E\": output?.MARS_E || \"\",\n  \"NERC\": output?.NERC || \"\",\n  \"NYDFS\": output?.NYDFS || \"\",\n  \"NIST_AI_RMF\": output?.NIST_AI_RMF || \"\",\n  \"HITRUST_AI_RMF\": output?.HITRUST_AI_RMF || \"\",\n  \"NIST_CSF\": output?.NIST_CSF || \"\",\n  \"NIST_SP_800_53\": output?.NIST_SP_800_53 || \"\",\n  \"NIST_Cybersecurity_for_IoT\": output?.NIST_Cybersecurity_for_IoT || \"\",\n  \"website_found_on\": output?.website_found_on || \"\",\n  \"steps_taken\": output?.steps_taken || [],\n  \"reasoning\": output?.reasoning || \"\",\n  \"confidence_level\": output?.confidence_level || \"\"\n}\n\n\noriginal.company_info.found_frameworks = [frameworks]\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-15640,280],"id":"44a18fad-900f-4f99-be4e-6780ef165cc4","name":"Combining frameworks  - 1"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Combining frameworks  - 1').first().json\nconst output = $json.output\n\nconst frameworks = {\n  \"SOC_1\": output?.SOC_1 || \"\",\n  \"SOC_2\": output?.SOC_2 || \"\",\n  \"HIPAA_HITECH\": output?.HIPAA_HITECH || \"\",\n  \"PCI_DSS\": output?.PCI_DSS || \"\",\n  \"ISO_27001\": output?.ISO_27001 || \"\",\n  \"ISO_42001\": output?.ISO_42001 || \"\",\n  \"ISO_50001\": output?.ISO_50001 || \"\",\n  \"CMMC\": output?.CMMC || \"\",\n  \"CCPA\": output?.CCPA || \"\",\n  \"GDPR\": output?.GDPR || \"\",\n  \"GLBA\": output?.GLBA || \"\",\n  \"FISMA\": output?.FISMA || \"\",\n  \"MAR_SOX\": output?.MAR_SOX || \"\",\n  \"MARS_E\": output?.MARS_E || \"\",\n  \"NERC\": output?.NERC || \"\",\n  \"NYDFS\": output?.NYDFS || \"\",\n  \"NIST_AI_RMF\": output?.NIST_AI_RMF || \"\",\n  \"HITRUST_AI_RMF\": output?.HITRUST_AI_RMF || \"\",\n  \"NIST_CSF\": output?.NIST_CSF || \"\",\n  \"NIST_SP_800_53\": output?.NIST_SP_800_53 || \"\",\n  \"NIST_Cybersecurity_for_IoT\": output?.NIST_Cybersecurity_for_IoT || \"\",\n  \"website_found_on\": output?.website_found_on || \"\",\n  \"steps_taken\": output?.steps_taken || [],\n  \"reasoning\": output?.reasoning || \"\",\n  \"confidence_level\": output?.confidence_level || \"\"\n}\n\n\n\noriginal.company_info.found_frameworks.push(frameworks)\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-14820,280],"id":"65558032-646f-4444-ab80-799da6f41952","name":"Combining frameworks - 2"},{"parameters":{"promptType":"define","text":"=### ROLE\nYou are an expert quality assurance and data verification specialist with advanced skills in online research and business intelligence. You critique and verify information found by our team using publicly available data.  Your attention to detail and dedication to the truth keeps the world safe from false information. You only allow content through that is 100% factual  \n\n### TARGET INFORMATION\nCompany name: {{ $json.company_info.name }}\nSummary: {{ $json.company_info.description }}\nDomain: {{ $json.company_info.domain }}\nWebsite: {{ $json.company_info.domain }}\nCompany LinkedIn: {{ $json.company_info.social_urls.linked_in }}\nIndustry: {{ $json.company_info.industry }}\nSpecialties: {{ $json.company_info.specialities ? $json.company_info.specialities.join(\",\") : \"\" }}\n\nInitial Compliance Research:\n{{ $json.company_info.found_frameworks[0].research_analysis }}\n\n\n\n## Vendors/Auditors/Tools found:\nThe researchers were tasked with finding out which auditors or third-parties provided the audit or assisted the company with the certification process or issued the certification or final report. \nReasoning:  {{ $json.company_info.auditor_grc_tools.reasoning }}\nGRC Software:{{ $json.company_info.auditor_grc_tools.grc_tools}}\nAuditors: {{ $json.company_info.auditor_grc_tools.auditors }}\nAdditional Info:{{ $json.company_info.auditor_grc_tools.bonus_info }}\nSteps Taken:{{ $json.company_info.auditor_grc_tools.steps_taken }}\n\n### TASK\nYour task is to critique the research about {{ $json.company_info.name }}'s ({{ $json.company_info.domain }}) compliance frameworks and certifications they have been reported to achieve to determine if the research is accurate.   The frameworks and certifications below are the ONLY frameworks you will confirm and evaluate.  Ignore all frameworks and certifications found by the researches that are NOT in the list below:\n\nIT Compliance and Certification:\n- DORA\n- SOC 1\n- SOC 2\n- SOC 3\n- ISO 27001\n- ISO 42001\n- HIPAA\n- PCI DSS\n- HITRUST\n- HITRUST AI RMF (HITRUST AI Risk Management Framework)\n- CMMC\n- CCPA\n- GDPR\n- GLBA\n- FISMA\n- MAR/SOX\n- MARS-E\n- NERC\n- NYDFS\n- NIST CSF\n- NIST SP 800-53\n- NIST AI RMF (NIST AI Risk Management Framework)\n- NIST Cybersecurity for IoT\n\nNote: These are the only frameworks and certifications you will evaluate.\n### OUTPUT REQUIREMENTS\n\n#### Analysis Section\n- Analysis Summary: Provide your analysis of the research findings\n- Corrections Required: List any inaccuracies found and needed corrections\n- Verification Process: Document the steps taken to verify information\n\n#### Company Verification\n- Confirm company identity match for:\n  * Company Name: {Company Name}\n  * Domain: {Domain}\n  * LinkedIn: {LinkedIn URL}\n- Indicate confidence level (high/low)\n\n#### Framework Verification\n- Confirmed Frameworks: List only frameworks that:\n  * Are in the authorized framework list\n  * Have been verified as achieved by the company\n  * Are for the company's own compliance (not provided to others)\n  Format: Comma-separated with \"and\" before last item, or \"None Confirmed\"\n\n- Unconfirmed Frameworks: List frameworks that:\n  * Were incorrectly attributed\n  * Cannot be verified with confidence\n  Format: Comma-separated with \"and\" before last item\n\n#### Vendor Verification\n- Confirmed GRC Tools: List verified tools or \"Not Found\"\n- Confirmed Auditors: List verified auditors or \"Not Found\"\n\n### REQUIRED OUTPUT FIELDS\n1. verification_company_name_match: text\n2. verification_domain_match: text\n3. verification_linkedin_match: text\n4. verification_confidence_level: string [\"high\", \"low\"]\n5. analysis_summary: text\n6. analysis_corrections: text\n7. verification_process: text\n8. confirmed_frameworks: text\n9. unconfirmed_frameworks: text\n10. confirmed_auditors: text\n11. confirmed_grc_tools: text\n### EXAMPLE OUTPUT \nYour output should be structure as the following object:\n{\n  \"verification_company_name_match\": \"true\",\n  \"verification_domain_match\": \"false\",\n  \"verification_linkedin_match\": \"true\",\n  \"verification_confidence_level\": \"high\",\n  \"analysis_summary\": \"The company name matches the verification source, but the domain does not fully align with the expected details. LinkedIn profile corroborates company details. Further investigation is needed regarding the domain.\",\n  \"analysis_corrections\": \"Domain mismatch could be due to a recent domain change or alias used. Further verification needed with the domain administrator.\",\n  \"verification_process\": \"The process involved verifying the company name through official sources, checking the domain against company records, and validating LinkedIn profiles for consistency.\",\n  \"confirmed_frameworks\": \"SOC 1, SOC 2, HIPAA, GDPR\",\n  \"unconfirmed_frameworks\": \"ISO 27001, NIST SP 800-53\",\n  \"confirmed_auditors\": \"Deloitte, KPMG\",\n  \"confirmed_grc_tools\": \"RSA Archer, ServiceNow GRC\"\n}\n\n\n### CONFIRMED FRAMEWORK OUTPUT EXAMPLES\n- If the researchers found that the company has achieved ISO 13485, your output for the confirmed_frameworks field will be \"None Confirmed\".  ISO 13485 is NOT an authorized framework. \n- If the researchers found the company has achieved IMS Global CLR, SOC 1 and ISO 17100, your output for the confirmed_frameworks field will be \"SOC 1\".  ISO 17100 and Global CLR are NOT authorized frameworks. \n### IMPORTANT\n- THIS IS CRITICAL - WE WILL DESTORY OUR RELATIONSHIP WITH THE CUSTOMER IF THIS IS NOT ACCURATE: You must ensure that you are researching the company named {{ $json.company_info.name }}({{ $json.company_info.domain }}) that matches the company found at {{ $json.company_info.social_urls.linked_in }}.   Many companies have similar names and domains.  The company you are researching is called {{ $json.company_info.name }}, has {{ $json.company_info.domain }} as their domain and can be found at this linkedin page: {{ $json.company_info.social_urls.linked_in }}\n  \n- Be aware that GDPR, CCPA, HIPAA and other privacy certifications and frameworks are often mentioned on websites because the company complies with them.  This may not mean they are actually certified to be compliant.  For example, many websites have a cookie acknowledgement that visitors have to acknowledge.  These cookie policies often mention GDPR and CCPA.  Do not confuse this with the actual certification.  \n### ACCURACY STATEMENT\n- You will verify that your ouput is for \n{{ $json.company_info.name }}, who is the same company at this LinkedIn URL: {{ $json.company_info.social_urls.linked_in }}.  If you do not have high confience that the certifications and frameworks that you found in your research (on search engines and other sources) are for this exact company, respond with \"Low Confidence\" \n- If the website does not have a \"Trust Center\" or other sections prooving thier commitment to data security and compliance, then search Google\n-  You MUST document the steps you have taken, specifically any google searches you made\n- If you are taking information from an online source, such as a Press Release, the information in the \"About\" section (or other section that contains the company's contact information) you must verify that the company mentioned is the same EXACT company as our prospect.  \n- ALWAYS CLEAR YOUR CACHE BEFORE SEARCHING.  YOUR JOB DEPENDS ON FRESH INFORMATION\n- Unauthorized frameworks will not be confirmed frameworks.  This is critical. ","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-8900,960],"id":"84d7ddd1-e61d-491b-9592-a513e210a310","name":"Frameworks - Review Agent","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-21880,1240],"id":"4a02189d-3a22-4367-bc54-914a187e5338","name":"OpenAI Chat Model - Page Info","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-20860,1220],"id":"924aac7d-0e69-4c55-a534-39797c494e13","name":"OpenAI Chat Model - Company Info","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-18040,1220],"id":"a1652b49-214c-4f62-8c13-789e4bdeb451","name":"OpenAI Chat Model - Contact info.","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-9660,1180],"id":"6a5cdbff-f4fc-4ac3-8eb7-766cbb957d0e","name":"OpenAI Chat Model - Auditor & GRC Tool","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-16020,480],"id":"5a68443d-5bdc-449d-8426-ce7c5e661429","name":"OpenAI Chat Model - Framework First","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-15240,500],"id":"914ac74c-234f-4fac-a19f-a1b52ebc3d8f","name":"OpenAI Chat Model - Framework Second","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-8960,1160],"id":"5d36b9c0-543c-4b24-a46e-d787b018e0d8","name":"OpenAI Chat Model - Framework Review","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n  \"verification_company_name_match\": \"true\",\n  \"verification_domain_match\": \"false\",\n  \"verification_linkedin_match\": \"true\",\n  \"verification_confidence_level\": \"high\",\n  \"analysis_summary\": \"The company name matches the verification source, but the domain does not fully align with the expected details. LinkedIn profile corroborates company details. Further investigation is needed regarding the domain.\",\n  \"analysis_corrections\": \"Domain mismatch could be due to a recent domain change or alias used. Further verification needed with the domain administrator.\",\n  \"verification_process\": \"The process involved verifying the company name through official sources, checking the domain against company records, and validating LinkedIn profiles for consistency.\",\n  \"confirmed_frameworks\": \"SOC 1, SOC 2, HIPAA, GDPR\",\n  \"unconfirmed_frameworks\": \"ISO 27001, NIST SP 800-53\",\n  \"confirmed_auditors\": \"Deloitte, KPMG\",\n  \"confirmed_grc_tools\": \"RSA Archer, ServiceNow GRC\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-8680,1160],"id":"dbbfb549-6cc3-49c7-b759-d92c1d863737","name":"Framework review - Parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Combining Auditor & GRC Tool').first().json\nconst output = $json?.output\n\nconst review = {\n  \"verification_company_name_match\": output?.verification_company_name_match || false,\n  \"verification_domain_match\": output?.verification_domain_match || false,\n  \"verification_linkedin_match\": output?.verification_linkedin_match || false,\n  \"verification_confidence_level\": output?.verification_confidence_level || \"low\",\n  \"analysis_summary\": output?.analysis_summary || \"\",\n  \"analysis_corrections\": output?.analysis_corrections || \"\",\n  \"verification_process\": output?.verification_process || \"\",\n  \"confirmed_frameworks\": output?.confirmed_frameworks || \"\",\n  \"confirmed_frameworks_number\": output?.confirmed_frameworks ?output.confirmed_frameworks.split(',').length : 0,\n  \"unconfirmed_frameworks\": output?.unconfirmed_frameworks || \"\",\n  \"confirmed_auditors\": output?.confirmed_auditors || \"\",\n  \"confirmed_grc_tools\": output?.confirmed_grc_tools || \"\"\n}\n\noriginal.company_info.framework_review = review\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-8580,960],"id":"14ddb7fd-0b69-4760-9793-186f8503b002","name":"Combining Framework Review"},{"parameters":{"content":"# Prospect Report\n\n","height":660,"width":402},"id":"4704b609-df23-4b52-a650-56813e96d21d","name":"Sticky Note12","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-3260,700]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $json\nconst report = ` \n${$json?.company_info?.icp_score?.total_score_string || \"N/A\"} - ${$json?.user_info?.first_name || \"Unknown\"} ${$json?.user_info?.last_name || \"User\"}\n\n### About \n${$json?.user_info?.first_name || \"Unknown\"} ${$json?.user_info?.last_name || \"User\"}\n\n${$json?.user_info?.visit_intent || \"N/A\"}\n\n### Prospect Score (See bottom for scoring rules)\n\n${$json?.company_info?.icp_score?.total_score_string || \"N/A\"}(${$json?.company_info?.icp_score?.overall_score?.totalScore || 0}/${$json?.company_info?.icp_score?.overall_score?.maxPossibleScore || 0} Points)\n\nSummary: ${$json?.company_info?.icp_score?.summary || \"No summary available.\"}\n\n### Job Title Score\nTotal Score: ${$json?.company_info?.icp_score?.overall_score?.componentScores?.jobTitle || 0} /12 Points\nJob Title:  ${$json?.user_info?.role || \"N/A\"} \nReasoning:  ${$json?.company_info?.icp_score?.job_title?.rationale || \"No reasoning available.\"}\n\n### Industry Title Score\nTotal Score: ${$json?.company_info?.icp_score?.overall_score?.componentScores?.industry || 0} /8 Points\nIndustry:  ${$json?.company_info?.industry || \"N/A\"}\nReasoning:  ${$json?.company_info?.icp_score?.industry?.explanation || \"No explanation available.\"}\n\n### Location Score\nTotal Score: ${$json?.company_info?.icp_score?.overall_score?.componentScores?.location || 0} /8 Points\nLocal: ${$json?.company_info?.icp_score?.location?.location_scores?.is_local || \"Unknown\"}\nReasoning:  ${$json?.company_info?.icp_score?.location?.explanation || \"No explanation available.\"}\n\n### Company Size Score\nTotal Score: ${$json?.company_info?.icp_score?.overall_score?.componentScores?.companySize || 0} /4 Points\nEmployee Count: ${$json?.company_info?.size || \"Unknown\"}\nReasoning:  ${$json?.company_info?.icp_score?.company_size?.explanation || \"No explanation available.\"}\n\n### Frameworks\nTotal Score: ${$json?.company_info?.icp_score?.overall_score?.componentScores?.frameworks || 0} /12 Points\nFrameworks: ${$json?.company_info?.framework_review?.confirmed_frameworks || \"None\"}\nReasoning: ${$json?.company_info?.icp_score?.framework?.explanation || \"No explanation available.\"}\nResearch:  ${$json?.company_info?.framework_review?.analysis || \"No research available.\"}\n\n### Intent\nTotal Score: ${$json?.company_info?.icp_score?.overall_score?.componentScores?.intent || 0} /18 Points\nIntent: ${$json?.user_info?.visit_intent || \"N/A\"}\nPage Visited: ${$json?.technical_data?.page_visited_url || \"N/A\"}\nTopic of Page: ${$json?.technical_data?.page_visited_topic || \"N/A\"}\nReasoning: ${$json?.company_info?.icp_score?.intent?.rationale || \"No rationale available.\"}\n\n### Auditors & GRC Tools\nAuditors: ${$json?.company_info?.auditor_grc_tools?.auditors || \"N/A\"}\nGRC Tools: ${$json?.company_info?.auditor_grc_tools?.grc_tools || \"N/A\"}\n\n### Criteria\nLocal:  ${$json?.company_info?.icp_score?.location?.location_scores?.is_local || \"Unknown\"}\nJob Title: ${$json?.user_info?.role || \"N/A\"}\nEmployee Count: ${$json?.company_info?.size || \"Unknown\"}\nIndustry: ${$json?.company_info?.industries || \"N/A\"}\nIntent: ${$json?.user_info?.visit_intent || \"N/A\"}\n\n## Compliance Frameworks & Certifications\n- **Frameworks/Certifications that ${$json?.company_info?.name || \"Company\"} has:**  \n${$json?.company_info?.framework_review?.confirmed_frameworks || \"None\"}\n- **Auditors they used for compliance/certifications:**  \n${$json?.company_info?.auditor_grc_tools?.auditors || \"N/A\"}\n- **GRC Tools they use:**  \n${$json?.company_info?.auditor_grc_tools?.grc_tools || \"N/A\"}\n- **Research and Reasoning:**  \nAnalysis:  ${$json?.company_info?.framework_review?.analysis || \"No analysis available.\"}\nReasoning: ${$json?.company_info?.framework_review?.reasoning || \"No reasoning available.\"}\n\n### Contact Info\nName: ${$json?.user_info?.first_name || \"Unknown\"} ${$json?.user_info?.last_name || \"User\"}\nJob Title: ${$json?.user_info?.role || \"N/A\"}\nPhone: ${$json?.user_info?.phone_number || \"N/A\"}\nEmail: ${$json?.user_info?.primary_email || \"N/A\"}\nLinkedIn: ${$json?.user_info?.social_urls?.linked_in || \"N/A\"}\nRecent Posts (If available): \"\"\n\n### Company Info\nCompany Name: ${$json?.company_info?.name || \"Unknown\"}\nCity/State: ${$json?.company_info?.location?.city || \"N/A\"} ${$json?.company_info?.location?.state || \"N/A\"}\nWebsite: ${$json?.company_info?.domain || \"N/A\"}\nIndustry: ${$json?.company_info?.industry || \"N/A\"}\nSpecialties: ${$json?.company_info?.specialities || \"N/A\"}\nProducts / Services: ${$json?.company_info?.products || \"N/A\"}\n### ICP SCORING GUIDELINES\nTier 1: 50-65 points\nTier 2: 31-49 points\nTier 3: 20-30 points\n--\nFramework Score: \nFactor A: Page Type by URL Structure\n\nScore 3: Sales page visit (URL does not contain \"/blog/\")\nScore 1: Blog or informational page (URL contains \"/blog/\")\n\nFactor B: Framework Relevancy\n\nScore 3: Page EXCLUSIVELY about a framework the company has documented\nScore 2: Page EXCLUSIVELY about single framework company doesn't have (never use for government agencies)\nScore 1: Default score for:\n- Any government agency framework pages\n- Multiple frameworks mentioned\n- Framework implementation status unclear\n- General compliance topics\n- Any uncertainty about framework focus\n`\noriginal.prospect_reports = [report]\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-3140,940],"id":"225f40c5-50ed-4562-812b-eb057c50af70","name":"Prospect Report"},{"parameters":{"content":"# Normalization\n\n","height":660,"width":302},"id":"38b181d3-d5a3-4a43-99d1-eb28be3acd58","name":"Sticky Note9","type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-3580,700]},{"parameters":{"tableId":"website_visitors_new","fieldsUi":{"fieldValues":[{"fieldId":"user_info","fieldValue":"={{ $json.user_info }}"},{"fieldId":"company_info","fieldValue":"={{ $json.company_info }}"},{"fieldId":"technical_data","fieldValue":"={{ $json.technical_data }}"},{"fieldId":"upcoming_meeting_data","fieldValue":"={{ $json.upcoming_meeting_data }}"},{"fieldId":"prospect_reports","fieldValue":"={{ $json.prospect_reports }}"},{"fieldId":"personalization","fieldValue":"={{ $json.personalization }}"},{"fieldId":"visited_page_domain","fieldValue":"={{ $json.technical_data.page_visited_domain }}"},{"fieldId":"email","fieldValue":"={{ $json.user_info.primary_email }}"},{"fieldId":"first_name","fieldValue":"={{ $json.user_info.first_name }}"},{"fieldId":"last_name","fieldValue":"={{ $json.user_info.last_name }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[4860,940],"id":"f82b557b-91b2-4319-beb0-515e8d97cf8d","name":"Adding to database","credentials":{"supabaseApi":{"id":"KAjqGpkvqbL6t5fA","name":"searchactions.com - Website Visitors Project"}}},{"parameters":{"content":"# Database ","height":660,"width":260},"type":"n8n-nodes-base.stickyNote","position":[4800,700],"typeVersion":1,"id":"3d5e400a-6d58-47e1-bb8d-8dce2ab70828","name":"Sticky Note2"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const input = $input.item.json.body\nconst company = input.type === \"company.visited\"\n\nlet city = \"\"\nlet state = \"\"\n\nif(input.location){\n  const split = input.location.split(\",\")\n  city = split[0]\n  state = split[1]\n}\nconst formatted = {\n  user_info:{\n    \"first_name\": input.firstName || \"\",\n    \"last_name\": input.lastName || \"\",\n    \"primary_email\": input.email || input.externalId ||  \"\",\n    \"personal_emails\":input.email ||  input.externalId ? [input.email || input.externalId] :   [],\n    \"social_urls\":{\n      \"linked_in\": !company ? input.linkedinUrl ||  \"\" : \"\"\n    },\n    \"location\":{\n      \"city\": !company ? city || \"\" :\"\",\n      \"state\": !company ? state || \"\" : \"\",\n    },\n  },\n  company_info:{\n    \"name\":  input.company || \"\",\n    \"domain\": input.companyDomain || \"\",\n    \"social_urls\":{\n      \"linked_in\": company ? input.linkedinUrl ||  \"\" : \"\"\n    },\n    \"location\":{\n      \"city\": company ? city || \"\" :\"\",\n      \"state\": company ? state || \"\" : \"\",\n    }\n  },\n  technical_data:{\n    \"page_visited_title\": input.pageTitle || \"\",\n    \"page_visited_url\": input.pageUrl || \"\",\n    \"utmCampaign\": input.utmCampaign || \"\",\n    \"utmContent\": input.utmContent || \"\",\n    \"utmMedium\": input.utmMedium || \"\",\n    \"utmSource\": input.utmSource || \"\",\n    \"utmTerm\": input.utmTerm || \"\",\n    \"vvid\": input.vvid || \"\",\n    \"hem\": input.hem\n  }\n \n}\n\n\nreturn formatted;"},"id":"741a5f81-1bdc-434d-a8d4-3676c175e7af","name":"Vector data normalization","type":"n8n-nodes-base.code","typeVersion":2,"position":[-33180,1040]},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const input = $json\nconst formatted = {\n  prospect_source : $json?.source || \"\",\n  user_info:{\n    \"first_name\": input?.first_name|| \"\",\n    \"last_name\": input?.last_name|| \"\",\n    \"primary_email\": input?.email || \"\",\n    \"personal_emails\":input?.email || [],\n    \"social_urls\":{\n      \"linked_in\":\"\"\n    },\n    \"location\":{\n      \"city\": \"\",\n      \"state\": \"\",\n    },\n  },\n  company_info:{\n    \"name\":  input?.company || \"\",\n    \"domain\": input?.domain || \"\",\n    \"social_urls\":{\n      \"linked_in\":  \"\" \n    },\n    \"location\":{\n      \"city\": \"\",\n      \"state\":\"\",\n    }\n  },\n  technical_data:{\n    \"company_id\":$json.company_id || \"\",\n    \"page_visited_title\": \"\",\n    \"page_visited_url\": input?.hs_analytics_first_url ||input?.hs_analytics_last_url || \"\",\n    \"utmCampaign\":  \"\",\n    \"utmContent\":  \"\",\n    \"utmMedium\":  \"\",\n    \"utmSource\": \"\",\n    \"utmTerm\": \"\",\n    \"vvid\": \"\",\n    \"hem\": \"\"\n  },\n  upcoming_meeting_data:{\n    meeting_with: \"Brian\",\n    meeting_time: input?.meeting_time || \"\",\n    lifecycle_stage: input?.lifecycle_stage || \"\",\n    form_message: input?.form_message || \"\",\n    hubspot_id: input?.hubspot_id\n  }\n}\n\nreturn formatted"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-33180,1220],"id":"92969c3b-f71e-4f6f-9773-648a12bdcbab","name":"HubSpot Integration- Data Normalization"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const summarizing_technical_data = $('Anthropic Response')?.first()?.json?.technical_data\nconst structured_object = {...summarizing_technical_data , urn: \"\" , mx_record:\"\", mx_provider:\"\",mx_security_gateway:\"\" }\n//PROFILE SEARCH URN\nlet profile_data = null\ntry{\n  profile_data = $('Profile Search')?.first()?.json\n}catch(error){\n  \n}\n\nconst profile_data_urn = profile_data?.urn\nif(profile_data_urn){\n  structured_object.urn = profile_data_urn\n}\n// MX DATA\nconst email_data  = $('Combining Email data')?.first()?.json\nif(email_data?.mx_record){\n  structured_object.mx_record = email_data.mx_record\n}\nif(email_data?.mx_provider){\n  structured_object.mx_provider = email_data.mx_provider\n}\nif(email_data?.mx_security_gateway){\n  structured_object.mx_security_gateway = email_data.mx_security_gateway\n}\nif (structured_object?.page_visited_url) {\n    const str = structured_object.page_visited_url;\n            \n    const matches = str.match(/^https?\\:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i);\n    if (matches && matches[1]) {\n       structured_object.page_visited_domain = matches[1].toLowerCase();\n    } else {\n        // Only use fallback if regex doesn't match\n        let domain = str.replace(/^(https?:\\/\\/)?(www\\.)?/, '');\n        domain = domain.split('@').pop()          // Handle authentication\n                     .split(':')[0]               // Remove port\n                     .split(/[/?#]/)[0];          // Remove path and params\n        \n        // Basic validation\n        if (domain && domain.includes('.') && domain.length > 2) {\n              structured_object.page_visited_domain = domain.toLowerCase();\n        }\n    }\n}\nreturn {structured_object};"},"id":"55a5d497-ae16-432e-bd28-0ef39e6d45a1","name":"Summarizing Technical Data","type":"n8n-nodes-base.code","typeVersion":2,"position":[-25860,1020]},{"parameters":{"select":"channel","channelId":{"__rl":true,"value":"C07LFJN5BBL","mode":"list","cachedResultName":"isp-website-visitors"},"messageType":"block","blocksUi":"={\n  \"blocks\":[\n    {\n\t\t\t\"type\": \"header\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\"text\": \"New{{$json.company_info.icp_score.total_score_string_emoji ?  \" \" +$json.company_info.icp_score.total_score_string_emoji + \" \" : \" \"}}Prospect\",\n\t\t\t\t\"emoji\": false\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*<{{$json.user_info.social_urls.linked_in ? $json.user_info.social_urls.linked_in : 'https://www.linkedin.com/'}} | {{$json.user_info.first_name ? $json.user_info.first_name : ''  }} {{ $json.user_info.last_name ? $json.user_info.last_name : ''}}, {{ $json.user_info.role ? $json.user_info.role : ''}} at {{ $json.company_info.name ? $json.company_info.name : ''}}>*\"\n\t\t\t}\n\t\t},\n {\n\t\t\t\"type\": \"divider\"\n\t\t},\n      \n              {\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*Summary:* \\n {{$json.user_info.report ? $json.user_info.report.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Found'}} \\n *Name:* {{$json.user_info.first_name && $json.user_info.last_name ? $json.user_info.first_name.trim() + \" \" + $json.user_info.last_name.trim() : ''}} \\n *Job Title:* {{$json.user_info.role ? $json.user_info.role.trim() : 'Not Found'}} \\n *Company:* {{$json.company_info.name ? $json.company_info.name.trim() : 'Not Found'}} \\n *Email:* {{$json.user_info.primary_email ? $json.user_info.primary_email.trim() : 'Not Found'}} \\n *LinkedIn:* {{$json.user_info.social_urls.linked_in ? $json.user_info.social_urls.linked_in.trim() : 'Not Found'}} \\n *Phone:* {{$json.user_info.phone_number ? $json.user_info.phone_number : 'Not Found'}} \\n *Page Visited: *{{$json.technical_data.page_visited_url ? $json.technical_data.page_visited_url.trim() : 'Not Found'}} \\n *Topic of Page:* {{$json.technical_data.page_visited_topic ? $json.technical_data.page_visited_topic.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Found'}}\"\n\t\t\t},\n\t\t\t\"accessory\": {\n\t\t\t\t\"type\": \"image\",\n\t\t\t\t\"image_url\": \"{{$json.user_info.profile_pick ? $json.user_info.profile_pick.trim() : $json.company_info.logo ? $json.company_info.logo :'https://www.google.com/'}}\",\n\t\t\t\t\"alt_text\": \"{{$json.user_info.first_name ? $json.user_info.first_name.trim() : ''}} {{$json.user_info.last_name ? $json.user_info.last_name.trim() : ''}}\"\n\t\t\t}\n\t\t},\n{\n\t\t\t\"type\": \"actions\",\n\t\t\t\"elements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"button\",\n\t\t\t\t\t\"text\": {\n\t\t\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\t\t\"text\": \":linkedinlogo: View LinkedIn\",\n\t\t\t\t\t\t\"emoji\": true\n\t\t\t\t\t},\n\t\t\t\t\t\"value\": \"linkedin_profile\",\n\t\t\t\t\t\"url\": \"{{$json.user_info.social_urls.linked_in ? $json.user_info.social_urls.linked_in : 'https://www.linkedin.com/'}}\",\n\t\t\t\t\t\"action_id\": \"actionId-01\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n{\n\t\t\t\"type\": \"divider\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"header\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\"text\": \"About {{$json.company_info.name ? $json.company_info.name.trim() : 'Company'}}\",\n\t\t\t\t\"emoji\": true\n\t\t\t}\n\t\t},\n\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*Summary:*\\n {{$json.company_info.report ? $json.company_info.report.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Generated'}} \\n *Company Name:* {{$json.company_info.name ? $json.company_info.name.trim() : 'Not Found'}} \\n *Location:* {{$json.company_info.location.city ? $json.company_info.location.city.trim() : ''}}{{$json.company_info.location.state ? \", \" + $json.company_info.location.state.trim() : ''}} \\n *Website:* {{$json.company_info.domain ? $json.company_info.domain.trim() : 'Not Found'}} \\n *Industry:* {{$json.company_info.industry ? $json.company_info.industry : 'Not Found'}} \\n *Specialization:* {{$json.company_info.specialities['0'] ? $json.company_info.specialities['0'].trim() : 'Not Found'}} \\n *Size*: {{$json.company_info.size ? $json.company_info.size.trim() : 'Not Found'}} \\n *Frameworks:* {{$json.company_info.framework_review.confirmed_frameworks && $json.company_info.framework_review.confirmed_frameworks.length > 0  ? $json.company_info.framework_review.confirmed_frameworks : 'None Confirmed'}} \\n *Auditor:* {{$json.company_info.framework_review.confirmed_auditors ? $json.company_info.framework_review.confirmed_auditors.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Found'}} \\n *GRC Platform:*  {{$json.company_info.framework_review.confirmed_grc_platforms ? $json.company_info.framework_review.confirmed_grc_platforms.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : 'Not Found'}}\"\n\t\t\t}\n\t\t},\n {\n\t\t\t\"type\": \"actions\",\n\t\t\t\"elements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"button\",\n\t\t\t\t\t\"text\": {\n\t\t\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\t\t\"text\": \":click-hand: Visit Website\",\n\t\t\t\t\t\t\"emoji\": true\n\t\t\t\t\t},\n\t\t\t\t\t\"value\": \"visit_website\",\n\t\t\t\t\t\"url\": \"https://{{$json.company_info.domain ? $json.company_info.domain.trim() : 'google.com'}}\",\n\t\t\t\t\t\"action_id\": \"actionId-0\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"divider\"\n\t\t},\n\t   {\n\t\t\t\"type\": \"header\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\"text\": \"👇 Open the Thread to view Scoring Summary 👇\",\n\t\t\t\t\"emoji\": true\n\t\t\t}\n\t\t}   \n  ]\n}\n\n\n","otherOptions":{"includeLinkToWorkflow":false,"botProfile":{"imageValues":{"profilePhotoType":"image","icon_url":"static.licdn.com/aero-v1/sc/h/1c5u578iilxfi4m4dvc4q810q"}},"mrkdwn":true,"unfurl_links":false,"unfurl_media":false}},"id":"5e4f16df-a242-4989-8c63-fde155d5c35a","name":"Sending out slack notification","type":"n8n-nodes-base.slack","typeVersion":2.2,"position":[5180,1480],"webhookId":"df135d4b-890c-4a55-8cc7-d50982f67b47","retryOnFail":true,"waitBetweenTries":2000,"maxTries":4,"notesInFlow":true,"credentials":{"slackApi":{"id":"mh1ccfWQbWyrWV03","name":"searchaction.com -N8N"}}},{"parameters":{"toolDescription":"Find missing email using Leadmagic","method":"POST","url":"https://api.leadmagic.io/email-finder","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"first_name"},{"name":"last_name"},{"name":"domain"},{"name":"company_name"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[-31480,1160],"id":"f966541b-6fa5-4fa5-a6d7-bf375c023dbb","name":"Lead magic Email Finder","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}}},{"parameters":{"toolDescription":"Finding missing email using Findymail ","method":"POST","url":"https://app.findymail.com/api/search/name","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"name"},{"name":"domain"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[-31340,1160],"id":"84d7108c-d616-40f4-bca2-4d83ab011daa","name":"Findymail Email Finder 1","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"NGAAmruIOet9fCiY","name":"searchactions.com Findymail"}}},{"parameters":{"toolDescription":"Finding missing email using Findymail with LinkedIN Profile URL","method":"POST","url":"https://app.findymail.com/api/search/linkedin","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"linkedin_url"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[-31180,1160],"id":"949177e8-b02a-4363-84a2-be0a8c376f96","name":"Findymail Email Finder 2","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"NGAAmruIOet9fCiY","name":"searchactions.com Findymail"}}},{"parameters":{"toolDescription":"Find missing email using Prospeo with Company's domain,website or Company name.","method":"POST","url":"https://api.prospeo.io/email-finder","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"parametersHeaders":{"values":[{"name":"Content-Type","valueProvider":"fieldValue","value":"application/json"}]},"sendBody":true,"parametersBody":{"values":[{"name":"company"},{"name":"first_name","valueProvider":"modelOptional"},{"name":"last_name","valueProvider":"modelOptional"}]},"placeholderDefinitions":{"values":[{"name":"company","description":"The company domain, website, or name. Using a domain or website is recommended for better accuracy."}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[-30880,1160],"id":"f007dc55-39b3-45bc-9fef-61ed04ae37b7","name":"Prospeo Email Finder","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"sKQF5cdfDTi5Dovq","name":"searchactions.com Prospeo"}}},{"parameters":{"toolDescription":"Validate Contact email using LeadMagic ","method":"POST","url":"https://api.leadmagic.io/email-validate","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"email"},{"name":"first_name"},{"name":"last_name"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[-30740,1160],"id":"4580cf39-056e-4944-a98a-1940ab1d6b48","name":"LeadMagic Email Validation","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"DStPfj1QdkdAfw2x","name":"searchactions.com (Lead Magic v2)"}}},{"parameters":{"fieldToSplitOut":"output","options":{}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[-30700,840],"id":"bb501853-0633-4fa8-94d2-c745e8498dfb","name":"Split Out"},{"parameters":{"promptType":"define","text":"=--- DATA TO USE IN THE TASKS---\n{{ JSON.stringify($json)}}\n--- TASKS --- \nTry and find primary email for the user (if it doesn't exist) using following tools\na) LeadMagic\nb) Findymail\nc) Prospeo \n\nAbove tools should be used as an waterfall effect, if LeadMagic couldn't find the email we try Findymail, if Findymail couldn't find the email we go for Prospeo etc. (IMPORTANT, use all available tools)\n\nFinal step is to validated the found email using LeadMagic validation tool.\n\nThis additional information can be found when email is found using LeadMagic:\ncompany_name\ncompany_industry\ncompany_size\ncompany_founded\ncompany_location\ncompany_linkedin_url\ncompany_facebook_url\ncompany_twitter_url\ncompany_type\n\nIf they are not found just add empty strings as the value's. \n--- RULES ---\n-Don't try and find the email if it exists (primary_email key inside \"user_info\").\n-If email exists (primary_email key inside \"user_info\") use it for your output, and don't try to find it.\n","hasOutputParser":true,"options":{"systemMessage":"As an AI agent, you are designed to optimize the analysis and understanding of users or companies visiting a website. Your functionality includes enhancing the data by integrating added insights extracted from platforms like Opensend, RB2B, and Vector. Furthermore, you are equipped to sanitize and normalize output data to maintain its integrity and consistency. By conducting thorough web research, you can identify and fill in any gaps in the data, providing a comprehensive outlook of all website visitors. Processing begins once the initial data is provided."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-31160,840],"id":"d46a4055-23f4-4aa2-ad96-9206e12388a5","name":"Email Finder Agent","retryOnFail":true,"maxTries":5,"waitBetweenTries":2000},{"parameters":{"model":"gpt-4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-31660,1160],"id":"9a0306e5-4a00-4500-91e7-2f6ddcdcbc8b","name":"OpenAI Chat Model - Email finder","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"[{\n  \"email\": \"\",\n  \"status\": \"\",\n  \"is_domain_catch_all\": \"\",\n  \"mx_record\": \"\" ,\n  \"mx_provider\":  \"\",\n  \"mx_security_gateway\": \"\" ,\n  \"company_name\": \"\",\n  \"company_industry\":\"\" ,\n  \"company_size\": \"\" ,\n  \"company_founded\":\"\" ,\n  \"company_location\":{} ,\n  \"company_linkedin_url\":\"\" ,\n  \"company_facebook_url\": \"\",\n  \"company_twitter_url\": \"\",\n  \"company_type\": \"\"\n}]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-30540,1160],"id":"152822b9-ad54-48df-af83-bf2af9c95344","name":"Email Finder Parser"},{"parameters":{"model":"gpt-4o","options":{"maxRetries":20}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[-25220,1240],"id":"e0396140-fb10-4825-a4b0-b496447272eb","name":"Analyzing data Open AI Model","credentials":{"openAiApi":{"id":"4CyHGYBXbo8hGpRr","name":"searchactions.com: outeredge.biz - Website Visitor Enrichment"}}},{"parameters":{"toolDescription":"Finding missing email using Findymail if Email domain and Users role in the company are present","method":"POST","url":"https://app.findymail.com/api/search/domain","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"parametersBody":{"values":[{"name":"domain"},{"name":"roles"}]},"placeholderDefinitions":{"values":[{"name":"domain","description":"Company domain"},{"name":"roles","description":"Job Role User has"}]}},"type":"@n8n/n8n-nodes-langchain.toolHttpRequest","typeVersion":1.1,"position":[-31040,1160],"id":"e62024bc-d1aa-4e6e-ad63-a6749c3fc8d6","name":"Findymail Email Finder 3","notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"NGAAmruIOet9fCiY","name":"searchactions.com Findymail"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"function ensureHttps(url) {\n    // First remove any existing protocol\n    const urlWithoutProtocol = url.replace(/^https?:\\/\\//, '');\n    \n    // Remove query parameters if present\n    const urlWithoutQuery = urlWithoutProtocol.split('?')[0];\n    \n    // Always add https:// prefix\n    return 'https://' + urlWithoutQuery;\n}\nfunction extractDomain(url) {\n  let domain = url;\n\n  // Remove protocol (http, https, etc.) if present\n  const protocolIndex = domain.indexOf(\"://\");\n  if (protocolIndex !== -1) {\n    domain = domain.substring(protocolIndex + 3);\n  }\n\n  // Remove everything after the domain (path, query parameters, etc.)\n  const pathIndex = domain.indexOf(\"/\");\n  if (pathIndex !== -1) {\n    domain = domain.substring(0, pathIndex);\n  }\n\n  return domain;\n}\nif($json.user_info.social_urls.linked_in){\n const newUrl =   ensureHttps($json.user_info.social_urls.linked_in)\n $json.user_info.social_urls.linked_in = newUrl\n}\nif($json.company_info.social_urls.linked_in){\n  const newUrl =  ensureHttps($json.company_info.social_urls.linked_in)\n  $json.company_info.social_urls.linked_in = newUrl\n}\nif($json.technical_data.page_visited_url){\n$json.technical_data.page_visited_url = ensureHttps($json.technical_data.page_visited_url)\n}\nif($json.company_info.domain){\n  const newDomain = extractDomain($json.company_info.domain)\n  $json.company_info.domain = newDomain\n}\n\nreturn $json"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-3500,940],"id":"6916dc4d-0b0f-4382-8711-2434a9e435af","name":"Data Normalization"},{"parameters":{"promptType":"define","text":"=<INFORMATION>\n- Company Name: {{ $json.company_info.name }}\n- Website: {{ $json.company_info.domain }}\n- Industry: {{ $json.company_info.industry }}\n- Specialty:  {{ $json.company_info.specialities }}\n- Description: {{ $json.company_info.report }}\n- Services/Products: {{ $json.company_info.products }}\n<TASK>\n{{ $json.company_info.name }} is a sales prospect.  We must prove that we have worked with other companies in their industry to land a huge deal with them.  Based on the information provided about the prospect, find three current customers in the same industry, or a closely related industry.\n<OUTPUT>\nRespond with the customer names in thie format:\n\"We've done the same for companies like [[CURRENT CUSTOMERS]].\"\nReplace [[CURRENT CUSTOMERS]] with three (3) current customers.  \nFor example, if the industry of the potential customer is Healthcare, your response would be \"Jorie Healthcare, DentaQuest and LogixHealth\".  This is an example, you will change the customers that best match the prospects industry and services.\n\n<RULES>\n- Do not wrap your response in quotation marks\n- You will only respond three customer names.  Do not include \"We've done the same for companies like\" in your output. This is CRITICAL.\n- If the industry is not provided for the potential customer, then try to understand what industry they are in from the additional context provided\n- If you cannot find three (3) related current customers, then include how ever many you can find.  For example, if you can only find one related current customer than respond with \"Mullen Coughlin.\" If you can only find two customers, then you will respond with two customers.  For example, \"Mullen Coughlin and Acme\".  This is just an example - the companies you choose will vary by the prospect.  \n- Consider the current customer's industry and description to help you determine if it is related to the potential company's industry.  If the industry is not an exact match, consider matching based on closely related industries or on the services each offers.\n- Do not respond with an explanation or additional context.\n- If you are unable to find current customers that match the industry of this potential customer, respond with:  \"Tommy Hilfiger (PVH), Shutterfly and Blue Cross Blue Shield.\" \n- Do not confirm you understand the task.  Your only output will be the customer names.\n- If you cannot find a customer that closely matches the industry of the prospect, then your ouput will be \"Tommy Hilfiger (PVH), Shutterfly and Blue Cross Blue Shield.\" \n- If you respond with more than one customer name, you MUST include the word \"and\" between then customer names.  For example, if you respond with two customers names, your output will be \"[[CURRENT CUSTOMER]] and [[CURRENT CUSTOMER]].\"  For example, if you respond with three customer names, your output will be \"[[CURRENT CUSTOMER]], [[CURRENT CUSTOMER]] and [[CURRENT CUSTOMER]].\"","options":{"systemMessage":"<ROLE>\nYou are an expert assistant. You will use this list of current customers and their associated industries in your task.\n\nHere's the list of current customers organized by their respective industries:\n\n## Airlines/Aviation\n- Rocketmiles - A travel rewards platform that allows users to earn miles and points from leading loyalty programs when booking hotels.\n\n## Apparel & Fashion\n- PVH - A global apparel company known for its iconic brands such as Calvin Klein, Tommy Hilfiger, and Van Heusen.\n\n## Architecture & Planning\n- Moseley Architects - A well-established architectural firm, providing comprehensive design and planning services for various projects.\n\n## Artificial Intelligence\n- Bloomreach - A leading AI-driven platform for e-commerce and content management, helping businesses personalize customer experiences.\n- Tact.ai Technologies - Develops AI-powered sales workflow automation solutions to enhance sales productivity and customer engagement.\n- Jorie Healthcare Partners - Jorie offers comprehensive RCM services, including pre-authorization, patient registration, insurance verification, charge capture, and billing, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline these processes.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n## Automotive\n- Noodoe - A provider of electric vehicle charging solutions, offering a range of charging products and services.\n- Xeal - Known for its innovative electric vehicle charging technology, focusing on smart charging solutions for various applications.\n- Moj.io - Designs, develops, and delivers connected car solutions that transform data into scalable services for partners and their customers.\n\n## Banking\n- Beacon Financial Services - Personalized financial advice and services in areas such as retirement planning, estate planning, and asset management.\n\n## Biotechnology\n- MCL Systems - A leading independent laboratory in Alabama, providing extensive laboratory services using state-of-the-art testing equipment.\n\n## BPO\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n- AnswerNet - A provider of outsourced contact center services, offering a range of solutions including customer service, sales, and technical support.\n\n## Business Intelligence, Market Research, Data Analytics\n- Datateer - A data analytics and consulting company.\n- Dynata - A company specializing in market research and data analytics solutions.\n- Epic Research - A company specializing in market research and data analytics solutions.\n- ReconMR - A company providing market research and data collection services.\n\n## Business Services/Consulting\n- American Legal Records - A leading record retrieval company specializing in obtaining all types of records nationwide.\n- 3H Corporate Services - A corporate consulting and compliance company that provides expert services in areas such as corporate compliance reviews, national regulatory research, M&A due diligence, and state department desk and field audit representation and counseling.\n\n## Chemicals\n- Flotek Industries - A global developer and distributor of advanced technology, including specialty chemicals, systems, and services for the energy and industrial markets.\n\n## Cloud Services & Hosting\n- IDrive - A cloud storage and backup services company.\n- CyberLynk Network - A technology company offering web hosting, virtual private servers, and dedicated server solutions.\n\n## Collection Services\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n\n## Commercial Real Estate\n- CoStar Group - A leading provider of commercial real estate information, analytics, and online marketplaces, serving professionals and businesses.\n\n## Computer Software\n- Bloomreach - A leading AI-driven platform for e-commerce personalization, enabling personalized marketing, product discovery, content, and conversational shopping.\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences for candidates, recruiters, employees, and managers.\n\n## Construction\n- Kimball Construction - A Baltimore-based construction company known for self-performing critical portions of its projects, including pile driving, sheeting/shoring, and structural concrete.\n- Cleaver-Brooks - A complete boiler room solutions provider, offering a range of products and services to help businesses run efficiently.\n\n## Consumer Goods\n- Favor Delivery - A food delivery service.\n- Backyard Adventures - A company specializing in outdoor play equipment.\n- Exceedra - A provider of consumer goods and retail solutions.\n\n## Consumer Services\n- Bookmed Printing - A printing services company.\n- Image Process Design - A company offering image processing and design services.\n- VMS Group - A provider of consumer services and solutions.\n\n## Cybersecurity, Computer & Network Security\n- Dynatrace - A leading provider of unified observability and security solutions, helping businesses monitor and secure their full stack on one AI-powered data platform.\n- SOC Prime - Builds collective cyber defense by fusing Detection as Code, Sigma, and MITRE ATT&CK to help teams proactively defend against emerging threats.\n\n## Data Analytics & Marketing Solutions\n- Fullthrottle.ai - Known for its AI-driven data analytics and marketing solutions.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n## Data Processing Services\n- Recordsforce - A company specializing in data processing services.\n\n## Direct Mail and Printing\n- Cardinal Presort Services - A company offering direct mail marketing and presort services.\n- Polaris Direct - A company offering direct mail marketing and printing services.\n- Direct Mail Depot - A company specializing in direct mail marketing services.\n\n## Education\n- Frontline Technologies - An education technology company.\n\n## Education Management\n- Echo360 - An education management company focusing on learning analytics.\n- Folder Wave - A company offering education management solutions.\n\n## Electrical/Electronic Manufacturing\n- Service Wire - A manufacturer of electrical wire and cable.\n- West Coast Magnetics - A company specializing in magnetic components and assemblies.\n\n## Events Services\n- Vendelux - An events services company.\n- Vario Productions - A company offering event production services.\n\n## Executive Office\n- SPS - A company providing executive office services.\n\n## Facilities Services\n- Service First Medical - A facilities services company specializing in medical facilities.\n- Command Group - A facilities services company offering a range of services.\n- United Systems of Arkansas - A facilities services company based in Arkansas.\n- TELUS Agriculture - A facilities services company focusing on agricultural solutions.\n- NEST International - A facilities services company with international operations.\n- ANRO - A facilities services company providing various services.\n- JLS Mailing Services - A facilities services company specializing in mailing services.\n\n## Financial Services Companies\n- Broadridge Financial Solutions - A global financial services company providing financial technology solutions.\n- Sun Life Financial - A global financial services company offering insurance and wealth management solutions.\n- Edenred - A financial services company specializing in payment solutions.\n- Ingo Money - A financial services company specializing in digital payment solutions.\n- FullThrottle Technologies - A financial services company providing financial technology solutions.\n\n## Food & Beverages\n- Waltz Health - A company specializing in health-related food and beverage solutions.\n\n## Furniture\n- Stylex - A furniture manufacturing company known for its office furniture and seating solutions.\n\n## Gambling & Casinos\n- Sports Innovation Lab - A company specializing in sports technology and innovation, particularly in the gambling and casino sector.\n\n## Genetic Testing and Diagnostics\n- Fulgent Genetics - A premier, full-service genomic testing company focused on transforming patient care in oncology, infectious, and rare diseases.\n\n## Healthcare\n- Undue Medical Debt - A nonprofit that acquires and abolishes medical debts for financially burdened individuals.\n- Sentara Healthcare - A not-for-profit health system recognized for its comprehensive healthcare services.\n- Marshfield Clinic System - A well-known health system that provides a range of healthcare services and insurance products.\n\n## Healthcare Insurance and Financial Services\n- Elevance Health - A well-known health insurance company recognized for its comprehensive health coverage plans.\n- Blue Cross and Blue Shield of Mississippi - A prominent health insurance provider, part of the larger Blue Cross Blue Shield Association.\n\n## Healthcare Services and Management\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services for hospitals, health systems, and physician groups.\n- Midwestern University - Known for its comprehensive health care education and community health care services through its multispecialty clinics.\n- MyPlace Health - Provides personalized care and coverage to older adults, enabling them to age safely in their homes and communities through the PACE model.\n\n## Healthcare Staffing and Technology\n- connectRN - A revolutionary healthcare staffing platform that connects qualified nurses with temporary job opportunities, addressing staffing shortages and improving patient care.\n\n## Hospitality\n- Trinity Resort Services - A company that provides a comprehensive range of world-class services to the vacation ownership industry, including financial, reservations, and contact center services.\n\n## Human Resources\n- AmeriBen - A third-party administrator specializing in self-funded health plans and other benefits services.\n- Netchex - A comprehensive Human Capital Management (HCM) solution provider, offering services such as payroll, time and attendance, benefits administration, and performance management.\n\n## Infection Prevention and Disinfection\n- Tru-D Smart UVC - A leader in UVC disinfection technology, providing intelligent solutions for healthcare facilities to ensure a germ-free environment.\n\n## Information Technology and Services\n- XL.net - An IT services and solutions provider.\n- The Longleaf Network - A managed IT services provider, offering a range of IT solutions and support services.\n- Snappt - A company that provides AI-powered rental application screening and fraud detection services.\n- Rune Labs - A neurotechnology company focused on developing AI-powered solutions for neurological disorders.\n- Asignet - A provider of IT and telecom expense management services, helping businesses optimize their IT and telecom expenses.\n\n## Insurance\n- J.B. Lloyd & Associates - A commercial insurance agency that has been serving clients since 1978, focusing on cost-effective risk management solutions.\n- Statewide Underwriting Services - Provides personal and commercial insurance coverage solutions for insurance brokers and agents.\n- MTI America - Offers workers' compensation ancillary healthcare solutions, including transportation, language services, physical medicine, home & catastrophic care, and durable medical equipment.\n- IDEAL3 - Provides strategic and effective claim services with empathy and respect, offering customized solutions for unique claims needs.\n- Alexander & Schmidt - Helps insurance industry partners maximize underwriting profitability by achieving lower loss ratios.\n\n## Internet\n- USSI Global - A leading provider of network, broadcast, and digital signage services, offering customized solutions for internet providers and broadcasters.\n\n## Investment Management\n- Brooklyn Investment Group - A white-label managed accounts platform for financial advisors and asset managers, offering custom direct indexing across equities and fixed income.\n- Charter Group Fund Administration - Provides fund administration services for established boutiques, hedge funds, managed accounts, new launches, and crypto funds, offering a cutting-edge platform and quality client service.\n\n## Legal Services\n- Questel - Offers a full complement of legal operations services, including ELM data integration, legal support services, legal interpretation services, and legal translation services.\n- Segal McCambridge Singer & Mahoney - A law firm providing creative advice and battle-tested trial experience for companies facing high-stakes litigation and business challenges.\n- ILYM Group - Provides consultative expertise, professionalism, and experience in class action administration, legal notification, and media representation.\n- doeLEGAL - Offers legal operations software solutions for ELM and eDiscovery, leveraging innovative LegalTech to optimize team efficiency and cost savings.\n- Mood K Law - A premier defense firm known for its creative, aggressive, and effective defense strategies, coupled with unparalleled client service.\n\n## Leisure, Travel & Tourism\n- Hershey Entertainment & Resorts - A well-known entertainment and resort company recognized for its comprehensive leisure and tourism services.\n\n## Logistics and Supply Chain\n- APL Maritime - A global shipping and logistics company with a significant presence in container shipping services and intermodal transportation networks.\n- Bamboo Rose - Specializing in product lifecycle management (PLM) and supply chain technology solutions for retailers.\n- Expedock - A company providing AI-powered logistics and freight management solutions.\n- Lefturn - A logistics and supply chain management company.\n- B2Gnow - Offering supplier diversity and grant management compliance software solutions.\n- Cash Connect - A company specializing in cash management and logistics solutions.\n\n## Management Consulting\n- AGM Consulting - An information technology services company providing consulting services in virtualized solutions, private and public cloud computing, data management, business continuity, disaster recovery, and complex infrastructure designs.\n- Vision Link Advisors - A compensation design firm helping mid-market companies create and sustain pay strategies that drive business growth.\n- Gr8 People - A company offering human resources and recruitment consulting services.\n- MDaudit - A company specializing in billing compliance and revenue cycle management software for healthcare providers.\n- AB Data - A company providing data management and consulting services.\n- Apex Software Technologies - A company offering software development and consulting services.\n- Paymedia - A company specializing in payment solutions and financial technology.\n- Breakaway Technologies - A company providing technology consulting and solutions.\n\n## Manufacturing\n- Innovative Solutions and Support - A company designing and manufacturing state-of-the-art avionics technology, including solid-state instruments and flat-panel displays for various aircraft.\n\n## Mechanical or Industrial Engineering\n- FleetWatcher - A fleet management telematics system designed for construction equipment.\n- M&S Engineering - A full-service engineering firm offering electrical, civil, MEP, survey, and SUE services.\n- Resonac - A chemical company that develops and provides individualized products for various fields.\n\n## Medical Devices\n- Trividia Health - A leading developer, manufacturer, and marketer of advanced performance products for people living with diabetes.\n- LifeSigns - Offers a wireless multi-patient digital monitoring system that bridges healthcare gaps.\n- ImplantBase - Helps medical device companies eliminate operational blind spots by digitally transforming their performance.\n\n## Oil & Energy\n- CMC Energy Services - A leading provider of program management, customer engagement, field services, call center support, and engineering for utility customer segments, focusing on energy efficiency and clean energy solutions.\n- EnergyNet.com - A platform for buying and selling oil and gas properties.\n\n## Pharmaceuticals\n- CaptureRx - Provides 340B third-party administrative services, helping safety net providers and pharmacies achieve their objectives through leading 340B solutions.\n\n## Printing\n- Presort First Class - A premier OKC printing company offering top-quality printing and friendly customer service, providing a complete array of design, print, and mail services.\n\n## RCM\n- Jorie Healthcare Partners - Offers comprehensive RCM services, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline processes.\n- HealthWare Systems - Offers fully integrated, customizable workflow solutions, revenue cycle management, and patient management software.\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services.\n- MDaudit - Specializes in billing compliance and revenue cycle management software.\n\n## Real Estate\n- Woodbury Capital - A real estate investment and management company.\n- CW Financial Services - A commercial real estate services company offering a range of financial solutions.\n- Entera Holdings - A real estate technology company providing a platform for single-family residential investments.\n- LiquidSpace - A company offering flexible office space solutions.\n- HqO - A real estate technology company providing a platform for office building management and tenant engagement.\n- Hekemian & Co - A real estate development and management company.\n- Harding And Carbone - A property tax consulting firm offering services for commercial and residential properties.\n\n## Real Estate - Property Management\n- Property Works - A real estate services company specializing in property management and maintenance.\n- Quarem - A real estate services company specializing in property management and leasing.\n\n## Real Estate - Software and Technology\n- Cherre - A real estate data management and intelligence platform.\n\n## Real Estate - Title Insurance and Escrow\n- Timios - A real estate services company specializing in title insurance and escrow services.\n\n## Retail\n- Shutterfly - An online retailer specializing in personalized photo products and services.\n- Logile - A retail technology company providing workforce management and scheduling solutions.\n\n## Robotics\n- Locus Robotics - Known for its autonomous mobile robots designed for warehouse and logistics applications.\n- Jorie Healthcare Partners - Offers services leveraging advanced technologies such as AI and Robotic Process Automation (RPA).\n\n## Software Development\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences.\n- Big Brass Band - A technology company specializing in software development and consulting.\n- Beneration - A technology company specializing in software development and consulting.\n\n## Sporting Goods\n- Alveo - A company specializing in sporting goods and equipment.\n\n## Technology\n- Clearview Live - A technology company offering live streaming and video conferencing solutions.\n- Anduin Transact - A technology company providing financial transaction and payment solutions.\n- Big Brass Band - Specializing in software development and consulting.\n- Beneration - Specializing in software development and consulting.\n\n## Telecommunications\n- Altafiber - A fiber-optic telecommunications company.\n- Agile Networks - A telecommunications company providing network infrastructure solutions.\n- Synchronoss Technologies - A telecommunications company offering cloud, messaging, and digital transformation solutions.\n- Call 4 Health - A telecommunications company specializing in healthcare communication solutions.\n- Mobivate - A telecommunications company providing mobile marketing and communication solutions.\n- Halo Communications - A telecommunications company offering communication and collaboration solutions.\n- Comm100 Network Corporation - A telecommunications company providing customer service and communication solutions.\n\n## Telehealth and Digital Health\n- Teladoc Health - A leading provider of telehealth services.\n- PlushCare - Offers telehealth services, providing online access to healthcare professionals for various medical needs.\n\n## Transportation/Trucking/Railroad\n- Enstructure - A company specializing in transportation and logistics services.\n\n## Utilities\n- Essential Utilities - A utilities company providing water and wastewater services.\n- Aqua America - A utilities company offering water and wastewater services.\n- Asplundh Tree Expert - A utilities company specializing in tree care and vegetation management services.\n- Davis H. Elliot Company - A utilities company providing electrical construction and maintenance services.\n\n## Wholesale\n- MTA Distributors - A wholesale distributor of various products."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[2360,940],"id":"bb3439b5-79c2-4f2b-829a-592bbef997d5","name":"📧 Related Customers (Names)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":"gpt-4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[2260,1140],"id":"8b9b2cc2-6039-4e6e-89ea-4387e8dad71b","name":"📧 Related Customers (Names) Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"model":"gpt-4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[1700,1160],"id":"a245dec9-fe77-479a-b6d3-7daa7865832f","name":"📧 Related Customers (Name) Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"promptType":"define","text":"=<INFORMATION>\n- Company Name: {{ $json.company_info.name }}\n- Website: {{ $json.company_info.domain }}\n- Industry: {{ $json.company_info.industry }}\n- Specialty: {{ $json.company_info.specialities }}\n- Description: {{ $json.company_info.report }}\n- Services/Products: {{ $json.company_info.products }}\n<TASK>\n{{ $json.company_info.name }} is a sales prospect.  We must prove that we have worked with other companies in their industry to land a huge deal with them.  Based on the information provided about the prospect, find one current customer in the same industry, or a closely related industry.\n<OUTPUT>\nRespond with only the customer name. It will be placed into the following sentence: \n\"We recently helped [[CURRENT CUSTOMER]] cut compliance costs by 30%.\"\nReplace [[CURRENT CUSTOMER]] with one (1) current customer that is in the same industry.  \nFor example, if the industry of the potential customer is Healthcare, your response would be \"Jorie Healthcare\". \n\n<RULES>\n- Do not wrap your response in quotation marks\n- If the industry is not provided for the potential customer, then try to understand what industry they are in from the additional context provided\n- Consider the current customer's industry and description to help you determine if it is related to the potential company's industry.  If the industry is not an exact match, consider matching based on closely related industries or on the services each offers.\n- Do not respond with an explanation or additional context.\n- If you are unable to find a current customer that matches the industry of this potential customer, respond with:  Tommy Hilfiger (PVH) and Shutterfly","options":{"systemMessage":"<ROLE>\nYou are an expert assistant. You will use this list of current customers and their associated industries in your task.\n\nHere's the list of current customers organized by their respective industries:\n\n## Airlines/Aviation\n- Rocketmiles - A travel rewards platform that allows users to earn miles and points from leading loyalty programs when booking hotels.\n\n## Apparel & Fashion\n- PVH - A global apparel company known for its iconic brands such as Calvin Klein, Tommy Hilfiger, and Van Heusen.\n\n## Architecture & Planning\n- Moseley Architects - A well-established architectural firm, providing comprehensive design and planning services for various projects.\n\n## Artificial Intelligence\n- Bloomreach - A leading AI-driven platform for e-commerce and content management, helping businesses personalize customer experiences.\n- Tact.ai Technologies - Develops AI-powered sales workflow automation solutions to enhance sales productivity and customer engagement.\n- Jorie Healthcare Partners - Jorie offers comprehensive RCM services, including pre-authorization, patient registration, insurance verification, charge capture, and billing, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline these processes.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n## Automotive\n- Noodoe - A provider of electric vehicle charging solutions, offering a range of charging products and services.\n- Xeal - Known for its innovative electric vehicle charging technology, focusing on smart charging solutions for various applications.\n- Moj.io - Designs, develops, and delivers connected car solutions that transform data into scalable services for partners and their customers.\n\n## Banking\n- Beacon Financial Services - Personalized financial advice and services in areas such as retirement planning, estate planning, and asset management.\n\n## Biotechnology\n- MCL Systems - A leading independent laboratory in Alabama, providing extensive laboratory services using state-of-the-art testing equipment.\n\n## BPO\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n- AnswerNet - A provider of outsourced contact center services, offering a range of solutions including customer service, sales, and technical support.\n\n## Business Intelligence, Market Research, Data Analytics\n- Datateer - A data analytics and consulting company.\n- Dynata - A company specializing in market research and data analytics solutions.\n- Epic Research - A company specializing in market research and data analytics solutions.\n- ReconMR - A company providing market research and data collection services.\n\n## Business Services/Consulting\n- American Legal Records - A leading record retrieval company specializing in obtaining all types of records nationwide.\n- 3H Corporate Services - A corporate consulting and compliance company that provides expert services in areas such as corporate compliance reviews, national regulatory research, M&A due diligence, and state department desk and field audit representation and counseling.\n\n## Chemicals\n- Flotek Industries - A global developer and distributor of advanced technology, including specialty chemicals, systems, and services for the energy and industrial markets.\n\n## Cloud Services & Hosting\n- IDrive - A cloud storage and backup services company.\n- CyberLynk Network - A technology company offering web hosting, virtual private servers, and dedicated server solutions.\n\n## Collection Services\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n\n## Commercial Real Estate\n- CoStar Group - A leading provider of commercial real estate information, analytics, and online marketplaces, serving professionals and businesses.\n\n## Computer Software\n- Bloomreach - A leading AI-driven platform for e-commerce personalization, enabling personalized marketing, product discovery, content, and conversational shopping.\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences for candidates, recruiters, employees, and managers.\n\n## Construction\n- Kimball Construction - A Baltimore-based construction company known for self-performing critical portions of its projects, including pile driving, sheeting/shoring, and structural concrete.\n- Cleaver-Brooks - A complete boiler room solutions provider, offering a range of products and services to help businesses run efficiently.\n\n## Consumer Goods\n- Favor Delivery - A food delivery service.\n- Backyard Adventures - A company specializing in outdoor play equipment.\n- Exceedra - A provider of consumer goods and retail solutions.\n\n## Consumer Services\n- Bookmed Printing - A printing services company.\n- Image Process Design - A company offering image processing and design services.\n- VMS Group - A provider of consumer services and solutions.\n\n## Cybersecurity, Computer & Network Security\n- Dynatrace - A leading provider of unified observability and security solutions, helping businesses monitor and secure their full stack on one AI-powered data platform.\n- SOC Prime - Builds collective cyber defense by fusing Detection as Code, Sigma, and MITRE ATT&CK to help teams proactively defend against emerging threats.\n\n## Data Analytics & Marketing Solutions\n- Fullthrottle.ai - Known for its AI-driven data analytics and marketing solutions.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n## Data Processing Services\n- Recordsforce - A company specializing in data processing services.\n\n## Direct Mail and Printing\n- Cardinal Presort Services - A company offering direct mail marketing and presort services.\n- Polaris Direct - A company offering direct mail marketing and printing services.\n- Direct Mail Depot - A company specializing in direct mail marketing services.\n\n## Education\n- Frontline Technologies - An education technology company.\n\n## Education Management\n- Echo360 - An education management company focusing on learning analytics.\n- Folder Wave - A company offering education management solutions.\n\n## Electrical/Electronic Manufacturing\n- Service Wire - A manufacturer of electrical wire and cable.\n- West Coast Magnetics - A company specializing in magnetic components and assemblies.\n\n## Events Services\n- Vendelux - An events services company.\n- Vario Productions - A company offering event production services.\n\n## Executive Office\n- SPS - A company providing executive office services.\n\n## Facilities Services\n- Service First Medical - A facilities services company specializing in medical facilities.\n- Command Group - A facilities services company offering a range of services.\n- United Systems of Arkansas - A facilities services company based in Arkansas.\n- TELUS Agriculture - A facilities services company focusing on agricultural solutions.\n- NEST International - A facilities services company with international operations.\n- ANRO - A facilities services company providing various services.\n- JLS Mailing Services - A facilities services company specializing in mailing services.\n\n## Financial Services Companies\n- Broadridge Financial Solutions - A global financial services company providing financial technology solutions.\n- Sun Life Financial - A global financial services company offering insurance and wealth management solutions.\n- Edenred - A financial services company specializing in payment solutions.\n- Ingo Money - A financial services company specializing in digital payment solutions.\n- FullThrottle Technologies - A financial services company providing financial technology solutions.\n\n## Food & Beverages\n- Waltz Health - A company specializing in health-related food and beverage solutions.\n\n## Furniture\n- Stylex - A furniture manufacturing company known for its office furniture and seating solutions.\n\n## Gambling & Casinos\n- Sports Innovation Lab - A company specializing in sports technology and innovation, particularly in the gambling and casino sector.\n\n## Genetic Testing and Diagnostics\n- Fulgent Genetics - A premier, full-service genomic testing company focused on transforming patient care in oncology, infectious, and rare diseases.\n\n## Healthcare\n- Undue Medical Debt - A nonprofit that acquires and abolishes medical debts for financially burdened individuals.\n- Sentara Healthcare - A not-for-profit health system recognized for its comprehensive healthcare services.\n- Marshfield Clinic System - A well-known health system that provides a range of healthcare services and insurance products.\n\n## Healthcare Insurance and Financial Services\n- Elevance Health - A well-known health insurance company recognized for its comprehensive health coverage plans.\n- Blue Cross and Blue Shield of Mississippi - A prominent health insurance provider, part of the larger Blue Cross Blue Shield Association.\n\n## Healthcare Services and Management\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services for hospitals, health systems, and physician groups.\n- Midwestern University - Known for its comprehensive health care education and community health care services through its multispecialty clinics.\n- MyPlace Health - Provides personalized care and coverage to older adults, enabling them to age safely in their homes and communities through the PACE model.\n\n## Healthcare Staffing and Technology\n- connectRN - A revolutionary healthcare staffing platform that connects qualified nurses with temporary job opportunities, addressing staffing shortages and improving patient care.\n\n## Hospitality\n- Trinity Resort Services - A company that provides a comprehensive range of world-class services to the vacation ownership industry, including financial, reservations, and contact center services.\n\n## Human Resources\n- AmeriBen - A third-party administrator specializing in self-funded health plans and other benefits services.\n- Netchex - A comprehensive Human Capital Management (HCM) solution provider, offering services such as payroll, time and attendance, benefits administration, and performance management.\n\n## Infection Prevention and Disinfection\n- Tru-D Smart UVC - A leader in UVC disinfection technology, providing intelligent solutions for healthcare facilities to ensure a germ-free environment.\n\n## Information Technology and Services\n- XL.net - An IT services and solutions provider.\n- The Longleaf Network - A managed IT services provider, offering a range of IT solutions and support services.\n- Snappt - A company that provides AI-powered rental application screening and fraud detection services.\n- Rune Labs - A neurotechnology company focused on developing AI-powered solutions for neurological disorders.\n- Asignet - A provider of IT and telecom expense management services, helping businesses optimize their IT and telecom expenses.\n\n## Insurance\n- J.B. Lloyd & Associates - A commercial insurance agency that has been serving clients since 1978, focusing on cost-effective risk management solutions.\n- Statewide Underwriting Services - Provides personal and commercial insurance coverage solutions for insurance brokers and agents.\n- MTI America - Offers workers' compensation ancillary healthcare solutions, including transportation, language services, physical medicine, home & catastrophic care, and durable medical equipment.\n- IDEAL3 - Provides strategic and effective claim services with empathy and respect, offering customized solutions for unique claims needs.\n- Alexander & Schmidt - Helps insurance industry partners maximize underwriting profitability by achieving lower loss ratios.\n\n## Internet\n- USSI Global - A leading provider of network, broadcast, and digital signage services, offering customized solutions for internet providers and broadcasters.\n\n## Investment Management\n- Brooklyn Investment Group - A white-label managed accounts platform for financial advisors and asset managers, offering custom direct indexing across equities and fixed income.\n- Charter Group Fund Administration - Provides fund administration services for established boutiques, hedge funds, managed accounts, new launches, and crypto funds, offering a cutting-edge platform and quality client service.\n\n## Legal Services\n- Questel - Offers a full complement of legal operations services, including ELM data integration, legal support services, legal interpretation services, and legal translation services.\n- Segal McCambridge Singer & Mahoney - A law firm providing creative advice and battle-tested trial experience for companies facing high-stakes litigation and business challenges.\n- ILYM Group - Provides consultative expertise, professionalism, and experience in class action administration, legal notification, and media representation.\n- doeLEGAL - Offers legal operations software solutions for ELM and eDiscovery, leveraging innovative LegalTech to optimize team efficiency and cost savings.\n- Mood K Law - A premier defense firm known for its creative, aggressive, and effective defense strategies, coupled with unparalleled client service.\n\n## Leisure, Travel & Tourism\n- Hershey Entertainment & Resorts - A well-known entertainment and resort company recognized for its comprehensive leisure and tourism services.\n\n## Logistics and Supply Chain\n- APL Maritime - A global shipping and logistics company with a significant presence in container shipping services and intermodal transportation networks.\n- Bamboo Rose - Specializing in product lifecycle management (PLM) and supply chain technology solutions for retailers.\n- Expedock - A company providing AI-powered logistics and freight management solutions.\n- Lefturn - A logistics and supply chain management company.\n- B2Gnow - Offering supplier diversity and grant management compliance software solutions.\n- Cash Connect - A company specializing in cash management and logistics solutions.\n\n## Management Consulting\n- AGM Consulting - An information technology services company providing consulting services in virtualized solutions, private and public cloud computing, data management, business continuity, disaster recovery, and complex infrastructure designs.\n- Vision Link Advisors - A compensation design firm helping mid-market companies create and sustain pay strategies that drive business growth.\n- Gr8 People - A company offering human resources and recruitment consulting services.\n- MDaudit - A company specializing in billing compliance and revenue cycle management software for healthcare providers.\n- AB Data - A company providing data management and consulting services.\n- Apex Software Technologies - A company offering software development and consulting services.\n- Paymedia - A company specializing in payment solutions and financial technology.\n- Breakaway Technologies - A company providing technology consulting and solutions.\n\n## Manufacturing\n- Innovative Solutions and Support - A company designing and manufacturing state-of-the-art avionics technology, including solid-state instruments and flat-panel displays for various aircraft.\n\n## Mechanical or Industrial Engineering\n- FleetWatcher - A fleet management telematics system designed for construction equipment.\n- M&S Engineering - A full-service engineering firm offering electrical, civil, MEP, survey, and SUE services.\n- Resonac - A chemical company that develops and provides individualized products for various fields.\n\n## Medical Devices\n- Trividia Health - A leading developer, manufacturer, and marketer of advanced performance products for people living with diabetes.\n- LifeSigns - Offers a wireless multi-patient digital monitoring system that bridges healthcare gaps.\n- ImplantBase - Helps medical device companies eliminate operational blind spots by digitally transforming their performance.\n\n## Oil & Energy\n- CMC Energy Services - A leading provider of program management, customer engagement, field services, call center support, and engineering for utility customer segments, focusing on energy efficiency and clean energy solutions.\n- EnergyNet.com - A platform for buying and selling oil and gas properties.\n\n## Pharmaceuticals\n- CaptureRx - Provides 340B third-party administrative services, helping safety net providers and pharmacies achieve their objectives through leading 340B solutions.\n\n## Printing\n- Presort First Class - A premier OKC printing company offering top-quality printing and friendly customer service, providing a complete array of design, print, and mail services.\n\n## RCM\n- Jorie Healthcare Partners - Offers comprehensive RCM services, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline processes.\n- HealthWare Systems - Offers fully integrated, customizable workflow solutions, revenue cycle management, and patient management software.\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services.\n- MDaudit - Specializes in billing compliance and revenue cycle management software.\n\n## Real Estate\n- Woodbury Capital - A real estate investment and management company.\n- CW Financial Services - A commercial real estate services company offering a range of financial solutions.\n- Entera Holdings - A real estate technology company providing a platform for single-family residential investments.\n- LiquidSpace - A company offering flexible office space solutions.\n- HqO - A real estate technology company providing a platform for office building management and tenant engagement.\n- Hekemian & Co - A real estate development and management company.\n- Harding And Carbone - A property tax consulting firm offering services for commercial and residential properties.\n\n## Real Estate - Property Management\n- Property Works - A real estate services company specializing in property management and maintenance.\n- Quarem - A real estate services company specializing in property management and leasing.\n\n## Real Estate - Software and Technology\n- Cherre - A real estate data management and intelligence platform.\n\n## Real Estate - Title Insurance and Escrow\n- Timios - A real estate services company specializing in title insurance and escrow services.\n\n## Retail\n- Shutterfly - An online retailer specializing in personalized photo products and services.\n- Logile - A retail technology company providing workforce management and scheduling solutions.\n\n## Robotics\n- Locus Robotics - Known for its autonomous mobile robots designed for warehouse and logistics applications.\n- Jorie Healthcare Partners - Offers services leveraging advanced technologies such as AI and Robotic Process Automation (RPA).\n\n## Software Development\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences.\n- Big Brass Band - A technology company specializing in software development and consulting.\n- Beneration - A technology company specializing in software development and consulting.\n\n## Sporting Goods\n- Alveo - A company specializing in sporting goods and equipment.\n\n## Technology\n- Clearview Live - A technology company offering live streaming and video conferencing solutions.\n- Anduin Transact - A technology company providing financial transaction and payment solutions.\n- Big Brass Band - Specializing in software development and consulting.\n- Beneration - Specializing in software development and consulting.\n\n## Telecommunications\n- Altafiber - A fiber-optic telecommunications company.\n- Agile Networks - A telecommunications company providing network infrastructure solutions.\n- Synchronoss Technologies - A telecommunications company offering cloud, messaging, and digital transformation solutions.\n- Call 4 Health - A telecommunications company specializing in healthcare communication solutions.\n- Mobivate - A telecommunications company providing mobile marketing and communication solutions.\n- Halo Communications - A telecommunications company offering communication and collaboration solutions.\n- Comm100 Network Corporation - A telecommunications company providing customer service and communication solutions.\n\n## Telehealth and Digital Health\n- Teladoc Health - A leading provider of telehealth services.\n- PlushCare - Offers telehealth services, providing online access to healthcare professionals for various medical needs.\n\n## Transportation/Trucking/Railroad\n- Enstructure - A company specializing in transportation and logistics services.\n\n## Utilities\n- Essential Utilities - A utilities company providing water and wastewater services.\n- Aqua America - A utilities company offering water and wastewater services.\n- Asplundh Tree Expert - A utilities company specializing in tree care and vegetation management services.\n- Davis H. Elliot Company - A utilities company providing electrical construction and maintenance services.\n\n## Wholesale\n- MTA Distributors - A wholesale distributor of various products."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[1740,940],"id":"def74cd0-1b30-4a58-942e-7ea7d62fff22","name":"📧 Related Customers (Name)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"promptType":"define","text":"=# YOUR TASK\nYour task is to compare frameworks held by the prospect with the frameworks of the page they visited, finding matching frameworks.\n\nHere is data to use in the task:\nFrameworks Prospect Has: {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\nFrameworks of the page they visited: {{ $json.technical_data.page_visited_framework }}\n\n# YOUR OUTPUT\nYour output should be structured like this object: \n{\n\t\"matches_frameworks_held\": \"True\", \n\t\"matched_framework\": \"SOC 2\"\n}\n\nmatches_frameworks_held = This should be True or False depending if any of the frameworks held by the prospect matches any of the frameworks held by the page.\n\nmatched_framework = This should be a list of all the frameworks that match.\n\nMake sure both the values are strings\n\n\n#ADDITIONAL RULES\n- If prospect doesn't have any frameworks, matches_frameworks_held should be False and the matched_framework should be empty string.","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-6820,960],"id":"9e6e1141-6edd-436d-bd7c-45a65ebd1b0c","name":"Matches framework of the Page","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.1,"position":[-6900,1160],"id":"eddb8a10-54e1-4b69-80fe-01ede7f5d0b3","name":"OpenAI Chat Model - Matching Frameworks","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"matches_frameworks_held\": \"True\",\n\t\"matched_framework\": \"SOC 2\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-6580,1160],"id":"69265e1f-20c3-44c2-b434-d86499da1fea","name":"Matched Frameworks - Parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding Confirmed Frameworks (Secondary)').first().json\n\noriginal.technical_data.matches_frameworks_held = $json?.output?.matches_frameworks_held || 'Not Found'\noriginal.technical_data.matched_framework = $json?.output?.matched_framework || 'Not Found'\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-6440,960],"id":"11fb5933-709e-407e-9472-3306229bdf68","name":"Combining Matched Frameworks"},{"parameters":{"name":"icp_job_title","description":"Use this prompt to calculate ICP Job Title ","jsCode":"const input = query\nconst prompt = `\nJob Title Scoring Assistant\nRole\nYou are a job title scoring assistant tasked with evaluating job titles to determine their potential decision-making authority for security and compliance purchases.\n\nHere is the data for calculation:\ntitle: ${input.user_role}\ncompany size: ${input.company_size}\n\nInput Data\nTitle: A job title string (e.g., \"Chief Information Security Officer\")\nCompany Size: A string representing company size or null if unknown (e.g., \"enterprise\", \"mid-market\", \"smb\", or \"null\")\nRequired Fields\n\n{\n  \"title\": \"string\",\n  \"company_size\": \"string | null\"\n}\n\nTitle Scoring System\nWeight: 3\n\nScore 4 (High Authority):\n1. C-Level Executives:\n   - CISO, CIO, CTO\n   - Chief AI Officer\n   - Chief Risk Officer\n   - Chief Compliance Officer\n   - Chief Security Officer\n\n2. VP/Director/Head of Technical Departments:\n   - Security\n   - Compliance\n   - IT Security\n   - Risk Management\n   - Information Security\n   - Cybersecurity\n   - Data Protection\n   - AI Governance\n   - Technology Risk\n\nScore 3 (Strong Influence):\n1. Management of Technical Teams:\n   - Security Manager\n   - Compliance Manager\n   - IT Audit Manager\n   - Risk Manager\n   - AI Security Architect\n   - Security Operations Manager\n\n2. Senior Technical Roles:\n   - Senior Security Engineer\n   - Senior Compliance Analyst\n   - Senior Risk Analyst\n   - Technical Security Lead\n   - Senior IT Auditor\n\nScore 2 (Contributing Role):\n1. Technical Individual Contributors:\n   - Security Analyst\n   - Compliance Analyst\n   - Risk Analyst\n   - IT Auditor\n   - Security Engineer\n   - GRC Specialist\n   - Project Manager (with security/compliance focus)\n   - Project Management Professional (PMP)\n\n2. Implementation Roles:\n   - Security Administrator\n   - System Administrator (with security focus)\n   - Technical Support (security systems)\n\nScore 1 (Limited Influence):\n1. Leadership in Non-Technical Departments:\n   - Head/Director/VP of:\n     - Marketing\n     - Sales\n     - Public Affairs\n     - Communications\n     - HR\n     - Finance\n     - Legal\n     - Operations\n     - Business Development\n\n2. Other Roles:\n   - All other positions not listed above\n   - Unknown titles\n   - Junior positions\n   - Non-security focused roles\n\nRegex Patterns for Title Matching\nFor each category, use the following regex patterns to identify titles:\n\nC-Level Pattern: /(chief|c-level|cio|cto|ciso|cco|cro)/i\nVP/Director Pattern: /(vp|vice president|director|head) of (security|compliance|risk|it security|information security|cybersecurity|data protection|ai governance|technology risk)/i\nManager Pattern: /(manager|management) (security|compliance|risk|it audit|ai security|security operations)/i\nSenior Technical Pattern: /(senior|lead) (security engineer|compliance analyst|risk analyst|it auditor)/i\nTechnical Contributor Pattern: /(security analyst|compliance analyst|risk analyst|it auditor|security engineer|grc specialist|project manager|pmp)/i\nImplementation Pattern: /(administrator|support) (security|system)/i\nNon-Technical Leadership Pattern: /(head|director|vp) of (marketing|sales|public affairs|communications|hr|finance|legal|operations|business development)/i\n\nCompany Size Context\nWhile the base score is determined by title alone, use company size as a confidence modifier:\n\nEnterprise (1000+ employees):\n- Full confidence in C-Level and VP/Director scores\n- Slightly lower confidence for Manager roles unless explicitly security-focused\n\nMid-Market (100-999 employees):\n- Project Management roles may have more influence than in enterprises\n- Increase confidence when title includes security/compliance terms\n\nSMB (<100 employees):\n- Leadership roles at all levels have potentially higher influence\n- Reduce confidence when there's ambiguity about security focus\n\nScoring Process\nStep 1: Title Matching\n- First try exact matches against the defined categories\n- If no exact match, apply regex patterns to determine title category\n- For project management titles, assess if they include security/compliance focus\n\nStep 2: Calculate Weighted Score\n- Multiply the base score by the weight (3) to calculate the final weighted score\n\nStep 3: Determine Confidence Level\n- Start with base confidence of 0.8\n- Increase to 1.0 for exact matches to listed titles\n- Decrease for ambiguous titles or when inference is required\n- Adjust based on company size context\n\nOutput Format\n\n{\n  \"base_score\": 2, \n  \"weighted_score\": 6, \n  \"rationale\": \"Project Management Professional (PMP) is categorized as a Contributing Role with some influence but not final decision-making authority in security/compliance purchases.\",\n  \"confidence\": 0.9\n}\n\nKey Notes\n- Base Score: The score based on title authority (1-4)\n- Weighted Score: The final score after applying the weight of 3 (ranging from 3 to 12)\n- Rationale: A clear explanation of the rationale behind the score\n- Confidence: The level of certainty in the scoring decision (0.5-1.0)\n\nImportant Rules\n- Default to Score 1 for any missing or unclear information\n- For ambiguous titles, use the lowest applicable score\n- Project Management roles:\n  * With explicit security/compliance focus: Score 2\n  * Without security focus: Score 2 (Contributing Role)\n  * Project Management Professional (PMP): Score 2\n- When in doubt, score conservatively\n\nExample Scoring\n\"CISO at Enterprise Company\":\n{\n  \"base_score\": 4,\n  \"weighted_score\": 12,\n  \"rationale\": \"C-level executive (CISO) with primary security responsibility\",\n  \"confidence\": 1.0\n}\n\n\"Project Management Professional (PMP) at Mid-Market Company\":\n{\n  \"base_score\": 2,\n  \"weighted_score\": 6,\n  \"rationale\": \"Project Management Professional falls under Contributing Role category. While PMPs manage resources and teams, they typically don't have final decision-making authority for security purchases.\",\n  \"confidence\": 0.9\n}\n\n\"Marketing Manager at SMB\":\n{\n  \"base_score\": 1,\n  \"weighted_score\": 3,\n  \"rationale\": \"Non-technical role with limited influence on security decisions\",\n  \"confidence\": 0.8\n}\n`\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"user_role\": \"Business Development Representative\",\n    \"company_size\":\"50-100 employees\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[-5400,1180],"id":"2b150aa7-90a7-4e31-b2de-ba4577015bc3","name":"ICP Job Title"},{"parameters":{"jsonSchemaExample":"[{\n    \"company_geolocation\":{\n      \"coordinates\": {\n        \"latitude\": 40.1013,\n        \"longitude\": -75.3836\n      },\n      \"location_quality\": {\n        \"precision\": \"approximate\",\n        \"matched_location\": {\n          \"city\": \"King of Prussia\",\n          \"state\": \"Pennsylvania\",\n          \"country\": \"USA\"\n        }\n      },\n      \"confidence\": 0.9,\n      \"explanation\": \"Coordinates represent approximate center of King of Prussia township area.\"\n    },\n\t\"job_title\" :{\n      \"base_score\": 4,\n      \"weighted_score\": 12,\n      \"rationale\": \"Modern security leadership role (Cloud Security Architect) listed in emerging_tech_roles.score_4\",\n      \"confidence\": 0.9\n    },\n   \"company_size\":{\n    \"base_score\": 1,\n    \"explanation\": \"Employee count unknown, defaulting to lowest score\",\n    \"confidence\": 0.5\n   },\n   \"intent\":{\n    \"base_score\": 1,\n    \"framework_multiplier\": 0.8,\n    \"final_weighted_score\": 2.4,\n    \"rationale\": \"Educational blog post with multiple framework focus indicates research phase rather than buying intent.\",\n    \"confidence\": 0.95\n   },\n  \"framework\":\n    {\n      \"framework_scores\": {\n        \"count\": 3,\n        \"has_complementary_pair\": true,\n        \"meets_industry_requirements\": false,\n        \"meets_geographic_requirements\": false\n      },\n      \"scoring\": {\n        \"base_score\": 4,\n        \"weighted_score\": 12,\n        \"components\": {\n          \"framework_count_score\": 3,\n          \"relationship_bonus\": 0.5,\n          \"requirement_bonus\": 0\n        }\n      },\n      \"explanation\": \"Base score of 3 for three frameworks. Added 0.5 for complementary pair (SOC 2 + ISO 27001). No bonus for requirements as missing SOX/GLBA. Final base score capped at 4 before applying weight of 3.\",\n      \"confidence\": 1.0\n    },\n  \"location\":{\n      \"location_scores\": {\n        \"distance_from_philadelphia\": 3.2,\n        \"is_local\": true\n      },\n      \"scoring\": {\n        \"base_score\": 4,\n        \"weighted_score\": 8\n      },\n      \"explanation\": \"Location is 3.2 miles from Philadelphia center, well within 60-mile radius. Exact distance calculated from coordinates.\",\n      \"confidence\": 1.0\n  },\n  \"industry\":{\n      \"base_score\": 4,\n      \"matched_industry\": \"Healthcare\",\n      \"matched_category\": \"Revenue Cycle Management\",\n      \"explanation\": \"Target industry - RCM alias match\",\n      \"confidence\": 0.9\n  },\n  \"overall_score\":{\n    \"totalScore\": 15,\n    \"componentScores\": {\n      \"jobTitle\": 3,\n      \"industry\": 2,\n      \"location\": 8,\n      \"companySize\": 2,\n      \"frameworks\": 0,\n      \"intent\": 0\n      },\n     \"maxPossibleScore\": 62\n  }\n}]"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-4600,1180],"id":"b2c2d0e3-74ba-4c13-8dd5-1807db25a47a","name":"ICP Score - Parser"},{"parameters":{"name":"icp_company_size","description":"Use this prompt to calculate ICP Company Size Score","jsCode":"const input = query\nconst prompt = `\nCompany Size Scoring Assistant\nRole\nScore companies based on employee count using a 1-4 scale with weight of 1.\n\nInformation\nEmployee Count: ${input.company_size}\nRequired Input\n\n{\n  \"employee_count\": \"number | null\"\n}\nScoring Criteria\nThe company’s employee count is categorized as follows:\n\nScore 4: 500 or more employees\nScore 3: 200 to 499 employees\nScore 2: 50 to 199 employees\nScore 1: 0 to 49 employees\nRequired Output Format\n\n{\n  \"base_score\": {\n    \"type\": \"number\",\n    \"minimum\": 1,\n    \"maximum\": 4,\n    \"description\": \"Score based on employee count\"\n  },\n  \"explanation\": {\n    \"type\": \"string\",\n    \"description\": \"Explanation of the scoring decision\"\n  },\n  \"confidence\": {\n    \"type\": \"number\",\n    \"minimum\": 0,\n    \"maximum\": 1,\n    \"description\": \"Confidence in the provided employee count data\"\n  }\n}\nScoring Rules\nScore based solely on employee count ranges defined in the scoring criteria.\nDefault to score 1 when the employee count is unknown.\nSet confidence to 1.0 for known counts and 0.5 for unknown counts.\nEnsure consistent output formatting for clarity and uniformity.\nNo additional properties are allowed in the output.\nExample Inputs and Outputs\nKnown Employee Count (e.g., 750 employees)\nInput:\n\n{\n  \"employee_count\": 750\n}\nOutput:\n\n{\n  \"base_score\": 4,\n  \"explanation\": \"Company has 750 employees, which exceeds the 500-employee threshold for the highest score.\",\n  \"confidence\": 1.0\n}\nUnknown Employee Count\nInput:\n\n{\n  \"employee_count\": null\n}\nOutput:\n\n{\n  \"base_score\": 1,\n  \"explanation\": \"Employee count is unknown, defaulting to the lowest score.\",\n  \"confidence\": 0.5\n}\n\n`\n\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"company_size\": \"20 employees\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[-5240,1180],"id":"8ce86c11-970a-4b09-8ab8-562f8705171a","name":"ICP Company Size"},{"parameters":{"name":"icp_intent","description":"Use this prompt to calculate ICP Intent Score","jsCode":"const input = query\nconst prompt = `\nIntent Scoring Assistant\nRole:\nYou are an intent-scoring assistant tasked with analyzing web page visits to determine the purchasing intent of a potential customer. Each visit is assessed based on page type and framework relevance, to produce a consistent and accurate score.\n\nHere is the data for calculation:\n- Page Visited URL: ${input.page_visited_url}\n- Company Confirmed Frameworks: ${input.company_confirmed_frameworks}\n- Page Visited Summary: ${input.page_visited_summary}\n- Page Visited Frameworks: ${input.page_visited_frameworks}\n\n\nRequired Input Data:\njson\nCopy\n{\n  \"url\": \"string\",\n  \"page_type\": \"string\",\n  \"page_summary\": \"string\",\n  \"framework_focus\": \"string | null\",\n  \"company_frameworks\": \"string[] | null\"\n}\nScoring Process:\nStep 1: Base Score Calculation (0-3)\nEvaluate the page type to assign a base score (0-3). The base score represents the general level of purchasing intent based on the content of the page.\n\nScore 3 (High Intent): Pages that strongly indicate buying intent.\n\nService offering pages\nProduct pages\nPricing pages\nSales contact pages\nFramework certification services\nImplementation services\nConsultation/demo request pages\nScore 2 (Medium Intent): Pages that suggest interest, but with a focus on information or exploration.\n\nCompany pages with detailed information about offerings (e.g., compliance solutions, consulting services, etc.)\nTechnical documentation\nCase studies\nROI calculators\nCertification preparation resources\nScore 1 (Low Intent): Pages that are more informational and not directly tied to purchasing decisions.\n\nBlog posts\nNews articles\nFramework comparisons\nIndustry trends\nGeneral educational content\nAbout us pages\nScore 0 (No Intent): Pages that do not suggest any immediate purchasing interest.\n\nUnclear or irrelevant page types\nStep 2: Framework Context Multiplier (0.8-1.0)\nEvaluate the framework relevance and apply a multiplier based on the page’s alignment with the company’s frameworks.\n\n1.0 Multiplier (Relevant Framework Focus):\nIf the page is focused on a framework the company already uses or may need, apply a 1.0 multiplier.\n\n0.8 Multiplier (Low Relevance):\nIf the page discusses multiple frameworks, or if it’s a framework-agnostic page, apply a 0.8 multiplier. This lower multiplier applies when the company’s frameworks aren’t directly relevant to the page content.\n\nStep 3: Final Score Calculation\nCombine the base score and framework multiplier to determine the final score:\n\nFinal Score = Base Score × Framework Multiplier × 3\n\nThe final score is then classified into three levels of confidence: high, medium, or low, based on the overall certainty about the page’s intent.\n\nOutput Schema:\njson\nCopy\n{\n  \"base_score\": \"number\",  \n  \"framework_multiplier\": \"number\",  \n  \"final_weighted_score\": \"number\",  \n  \"rationale\": \"string\",  \n  \"confidence\": \"number\"\n}\nExample Scenarios and Expected Outputs:\nHigh Intent Example:\n\nInput:\n\njson\nCopy\n{\n  \"url\": \"/soc2-certification-services\",\n  \"page_type\": \"service\",\n  \"page_summary\": \"SOC 2 certification consulting services page\",\n  \"framework_focus\": \"SOC 2\",\n  \"company_frameworks\": [\"ISO 27001\"]\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 3,\n  \"framework_multiplier\": 1.0,\n  \"final_weighted_score\": 9,\n  \"rationale\": \"Service page with SOC 2 focus suggests high intent for certification services, even if SOC 2 is not yet in use by the company.\",\n  \"confidence\": 0.9\n}\nMedium Intent Example:\n\nInput:\n\njson\nCopy\n{\n  \"url\": \"/compliance-solutions\",\n  \"page_type\": \"service\",\n  \"page_summary\": \"General compliance solutions page\",\n  \"framework_focus\": \"null\",\n  \"company_frameworks\": [\"ISO 27001\"]\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 2,\n  \"framework_multiplier\": 0.8,\n  \"final_weighted_score\": 4.8,\n  \"rationale\": \"General company page with compliance interest. The lack of specific framework focus reduces relevance but still indicates moderate intent.\",\n  \"confidence\": 0.85\n}\nLow Intent Example:\n\nInput:\n\njson\nCopy\n{\n  \"url\": \"/blog/comparing-security-frameworks\",\n  \"page_type\": \"blog\",\n  \"page_summary\": \"Comparison of different security frameworks\",\n  \"framework_focus\": \"multiple\",\n  \"company_frameworks\": [\"SOC 2\"]\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 1,\n  \"framework_multiplier\": 0.8,\n  \"final_weighted_score\": 2.4,\n  \"rationale\": \"Blog post with multiple frameworks suggests an educational focus, indicating low to medium intent and research stage.\",\n  \"confidence\": 0.95\n}\nNo Intent Example (Default Case):\n\nInput:\n\njson\nCopy\n{\n  \"url\": \"/about-us\",\n  \"page_type\": \"about\",\n  \"page_summary\": \"General company information page\",\n  \"framework_focus\": \"null\",\n  \"company_frameworks\": [\"SOC 2\"]\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 0,\n  \"framework_multiplier\": 0.8,\n  \"final_weighted_score\": 0,\n  \"rationale\": \"General informational page with no strong focus on purchasing-related topics or relevant frameworks. No immediate purchasing intent.\",\n  \"confidence\": 0.7\n}\nKey Clarifications for Consistency:\nPage Type Importance:\nThe page type directly informs the base score. Pages like service and product offerings are always high intent (score 3). Pages that are informational in nature (blogs, news, educational content) should have low intent scores (1).\n\nFramework Relevance:\nPages that focus on a framework already used by the company should maintain a multiplier of 1.0, reflecting strong relevance. Pages with multiple frameworks or no specific framework focus should have a lower multiplier of 0.8.\n\nConfidence Rating:\nThe confidence level will vary based on the clarity of the intent. Pages with direct service/product offerings or highly relevant frameworks will have higher confidence scores.\n\n`\n\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"page_visited_url\": \"https://www.ispartnersllc.com/\",\n    \"company_confirmed_frameworks\":\"\",\n    \"page_visited_type\":\"\",\n    \"page_visited_summary\":\"\",\n    \"page_visited_frameworks\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[-5080,1180],"id":"c6e596f4-5aab-42c5-8e71-d3f0454b4f02","name":"ICP Intent"},{"parameters":{"name":"icp_framework","description":"Use this prompt to calculate ICP Framework Score","jsCode":"const input = query\nconst prompt = `\nRole: Security & Compliance Scoring Assistant\nYou are an evaluation assistant responsible for accurately scoring a company's security and compliance posture based on confirmed frameworks, geographic location, and industry. Your scoring must remain consistent and deterministic across repeated evaluations of the same input.\n\nCompany Information\nConfirmed Frameworks: ${input.company_confirmed_frameworks}\nCompany Location: ${input.company_location}\nIndustry: ${input.company_industry}\nEvaluation Criteria\nYour scoring is based on the confirmed frameworks used by the company. No assumptions should be made about potential compliance unless explicitly stated.\n\n1. Base Score Calculation (Framework Count Score)\nFramework Count\tBase Score\n3 or more\t3\n2\t2\n1\t1\n0\t0\nStrict Rule: If count = 0, then base_score = 0 and no bonus points should be added.\n\n2. Bonus Points Calculation\nComplementary Framework Pairs Bonus (+0.5 per valid pair)\nA valid complementary pair means two frameworks that are explicitly listed as complementary in the table below:\nSecurity: SOC 2 & ISO 27001, SOC 2 & NIST CSF\nHealthcare: HIPAA & HITRUST, HITRUST & SOC 2\nFinancial: SOC 1 & SOC 2, SOX & GLBA, NYDFS & ISO 27001\nGovernment: FISMA & NIST SP 800-53, CMMC & NIST SP 800-53\nPrivacy: GDPR & ISO 27001, CCPA & SOC 2, GDPR & CCPA\nAI Compliance: NIST AI RMF & ISO 42001, ISO 42001 & ISO 27001\nStrict Rule:\n\nIf no complementary pair exists, relationship_bonus = 0.\nIf a valid pair exists, relationship_bonus = 0.5.\nIndustry-Specific Compliance Bonus (+0.5 if all required industry frameworks are met)\nA company must meet all mandatory frameworks for its industry to receive this bonus.\nFinancial Services → Required: SOX, GLBA\nHealthcare → Required: HIPAA\nGovernment Contractors → Required: CMMC, FISMA\nTechnology → Recommended: SOC 2, ISO 27001\nAI Providers → Recommended: NIST AI RMF, ISO 42001\nStrict Rule:\n\nIf all required frameworks are met, requirement_bonus = 0.5.\nOtherwise, requirement_bonus = 0.\nGeographic Compliance Bonus (+0.5 if all required geographic frameworks are met)\nRegion\tRequired Frameworks\nEU\tGDPR\nCalifornia\tCCPA\nNew York (Financial Sector)\tNYDFS\nUS Federal\tFISMA, NIST SP 800-53\nUS Healthcare\tHIPAA\nStrict Rule:\n\nIf all required frameworks for the region are met, requirement_bonus += 0.5.\nIf not, requirement_bonus = 0.\n3. Final Score Calculation\nFinal Score = (Base Score + Bonus Points) × Weight Factor (3)\nCapping Rule: If (Base Score + Bonuses) > 4, cap the final base score at 4 before applying the weight.\nOutput Format (JSON Response)\nYour output must strictly follow this JSON structure to avoid inconsistencies:\n\njson\nCopy\nEdit\n{\n  \"framework_scores\": {\n    \"count\": <integer>, \n    \"has_complementary_pair\": <true/false>, \n    \"meets_industry_requirements\": <true/false>, \n    \"meets_geographic_requirements\": <true/false>\n  },\n  \"scoring\": {\n    \"base_score\": <integer>, \n    \"weighted_score\": <integer>, \n    \"components\": {\n      \"framework_count_score\": <integer>, \n      \"relationship_bonus\": <float>, \n      \"requirement_bonus\": <float>\n    }\n  },\n  \"explanation\": \"Base score of X for X frameworks. Added Y for complementary pair(s). Added Z for meeting geographic and industry requirements. Final base score capped at 4 before applying weight of 3.\",\n  \"confidence\": 1.0\n}\nConsistency Rules to Prevent Scoring Errors\nFramework count should always match the confirmed frameworks list. No assumptions should be made.\nIf count = 0, then:\nbase_score = 0\nrelationship_bonus = 0\nrequirement_bonus = 0\nFinal weighted score must be 0\nIf count ≥ 1, then scoring follows the structured rules above.\nWeighted Score Formula\nIf (Base Score + Bonuses) ≤ 4 → Apply Weight Factor (3).\nIf (Base Score + Bonuses) > 4 → Cap Base Score at 4 before applying the weight.\nExample Cases to Ensure Deterministic Outputs\nConfirmed Frameworks\tExpected Output\nCCPA, GDPR\tBase 2, Bonus 1.0, Weighted Score = 9\nSOC 2, ISO 27001\tBase 2, Bonus 0.5, Weighted Score = 7.5\nHIPAA\tBase 1, Bonus 0.5 (Healthcare), Weighted Score = 4.5\nNo confirmed frameworks\tBase 0, Bonus 0, Weighted Score = 0\n\n`\n\nreturn prompt ","specifyInputSchema":true,"jsonSchemaExample":"{\n  \"company_confirmed_frameworks\":\"\",\n  \"company_location\":\"West Chester , Pennsylvania , United States\",\n  \"company_industry\":\"Marketing And Advertising\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[-4920,1180],"id":"b68653eb-66e8-4e10-9e21-66427d5100df","name":"ICP Framework"},{"parameters":{"name":"geolocation_finder","description":"Use this prompt to find the Geolocation for the Company","jsCode":"const input = query\nconst prompt = `\n# Geolocation Assistant\n## Role\nYou are a geolocation assistant that converts city, state, and country information into latitude and longitude coordinates.\n\nHere is the data:\nCity: ${input.company_location_city}\nState: ${input.company_location_state}\nCountry: ${input.company_location_country}\n\n## Required Input Data\n\n{\n  \"location\": {\n    \"city\": \"string\",\n    \"state\": \"string | null\",\n    \"country\": \"string\"\n  }\n}\n\n\n## Required Output Format\n\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"coordinates\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"latitude\": {\n          \"type\": \"number\",\n          \"description\": \"Latitude in decimal degrees\",\n          \"minimum\": -90,\n          \"maximum\": 90\n        },\n        \"longitude\": {\n          \"type\": \"number\",\n          \"description\": \"Longitude in decimal degrees\",\n          \"minimum\": -180,\n          \"maximum\": 180\n        }\n      },\n      \"required\": [\"latitude\", \"longitude\"]\n    },\n    \"location_quality\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"precision\": {\n          \"type\": \"string\",\n          \"enum\": [\"city_center\", \"approximate\", \"uncertain\"],\n          \"description\": \"Level of precision in coordinate determination\"\n        },\n        \"matched_location\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"city\": \"string\",\n            \"state\": \"string | null\",\n            \"country\": \"string\"\n          },\n          \"description\": \"The location details that were matched\"\n        }\n      },\n      \"required\": [\"precision\", \"matched_location\"]\n    },\n    \"confidence\": {\n      \"type\": \"number\",\n      \"minimum\": 0,\n      \"maximum\": 1,\n      \"description\": \"Confidence in coordinate accuracy\"\n    },\n    \"explanation\": {\n      \"type\": \"string\",\n      \"description\": \"Explanation of how coordinates were determined\"\n    }\n  },\n  \"required\": [\"coordinates\", \"location_quality\", \"confidence\", \"explanation\"],\n  \"additionalProperties\": false\n}\n\n\n## Examples\n\n### Example 1: Major City\nInput:\n\n{\n  \"location\": {\n    \"city\": \"Boston\",\n    \"state\": \"Massachusetts\",\n    \"country\": \"USA\"\n  }\n}\n\n\nOutput:\n\n{\n  \"coordinates\": {\n    \"latitude\": 42.3601,\n    \"longitude\": -71.0589\n  },\n  \"location_quality\": {\n    \"precision\": \"city_center\",\n    \"matched_location\": {\n      \"city\": \"Boston\",\n      \"state\": \"Massachusetts\",\n      \"country\": \"USA\"\n    }\n  },\n  \"confidence\": 1.0,\n  \"explanation\": \"Coordinates represent Boston city center. Major city with well-defined central coordinates.\"\n}\n\n\n### Example 2: Small City\nInput:\n\n{\n  \"location\": {\n    \"city\": \"King of Prussia\",\n    \"state\": \"Pennsylvania\",\n    \"country\": \"USA\"\n  }\n}\n\n\nOutput:\n\n{\n  \"coordinates\": {\n    \"latitude\": 40.1013,\n    \"longitude\": -75.3836\n  },\n  \"location_quality\": {\n    \"precision\": \"approximate\",\n    \"matched_location\": {\n      \"city\": \"King of Prussia\",\n      \"state\": \"Pennsylvania\",\n      \"country\": \"USA\"\n    }\n  },\n  \"confidence\": 0.9,\n  \"explanation\": \"Coordinates represent approximate center of King of Prussia township area.\"\n}\n\n\n### Example 3: Missing State\nInput:\n\n{\n  \"location\": {\n    \"city\": \"Paris\",\n    \"state\": null,\n    \"country\": \"France\"\n  }\n}\n\n\nOutput:\n\n{\n  \"coordinates\": {\n    \"latitude\": 48.8566,\n    \"longitude\": 2.3522\n  },\n  \"location_quality\": {\n    \"precision\": \"city_center\",\n    \"matched_location\": {\n      \"city\": \"Paris\",\n      \"state\": null,\n      \"country\": \"France\"\n    }\n  },\n  \"confidence\": 1.0,\n  \"explanation\": \"Coordinates represent Paris city center. Major international city with well-defined central coordinates.\"\n}\n\n\n## Precision Levels\n- city_center: Exact city center coordinates for well-defined cities\n- approximate: General area coordinates for smaller locations\n- uncertain: Best estimate for ambiguous locations\n\n## Confidence Scoring\n1.0: Major cities, state capitals, well-defined locations\n0.9: Smaller cities, well-defined municipalities\n0.8: Towns, suburbs without clear centers\n0.7: Ambiguous locations or potential naming conflicts\n0.5: Uncertain or poorly defined locations\n\n## Rules\n1. Return coordinates in decimal degrees\n2. Use negative values for West longitude and South latitude\n3. Provide appropriate confidence score based on location certainty\n4. Include clear explanation of coordinate determination\n5. Match exact location names when possible\n6. Default to city center for major cities\n7. No additional properties allowed in output JSON\n\n\n`\n\nreturn prompt ","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"company_location_city\": \"\",\n    \"company_location_state\" :\"\" ,\n    \"company_location_country\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[-5800,1180],"id":"29d7c1a2-5b68-4a4a-9866-4d61e99b00f3","name":"Geolocation Assistant"},{"parameters":{"name":"icp_location","description":"Use this prompt to calculate ICP Location Score","jsCode":"const input = query \nconst prompt = `\n# Location Scoring Assistant\n## Role\nYou are a location scoring assistant who evaluates prospects based on their proximity to Philadelphia, Pennsylvania.\n## Information\n- Prospect Company Coordinates (if available): ${input.location_latitude} ${input.location_longitude}\n- Prospect Company City/State (if available): ${input.company_location}\n\n## Reference Location Data\n\n{\n  \"philadelphia_reference\": {\n    \"latitude\": 39.9526,\n    \"longitude\": -75.1652,\n    \"radius_miles\": 60\n  }\n}\n\n\n## Required Input Data\n\n{\n  \"company_location\": {\n    \"city\": \"string\",\n    \"state\": \"string | null\",\n    \"country\": \"string\",\n    \"coordinates\": {\n      \"latitude\": \"number | null\",\n      \"longitude\": \"number | null\"\n    }\n  }\n}\n\n\n## Scoring Process\n\n### Distance Calculation\nFor locations with coordinates:\n1. Use the Haversine formula to calculate exact distance\n2. Compare against 60-mile radius\n3. Set confidence score to 1.0\n\nFor locations without coordinates:\n1. Score based on city/state if in PA, NJ, or DE\n2. Set lower confidence score (0.8) for nearby cities without exact coordinates\n3. Score 1 with high confidence (1.0) for obviously distant locations\n\n### Scoring Rules\nBase Score:\n- Score 4: Within 60 miles of Philadelphia\n- Score 1: Outside 60 miles of Philadelphia\n\nWeight: Multiply base score by 2\n\n## Required Output Format\n\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"location_scores\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"distance_from_philadelphia\": {\n          \"type\": \"number\",\n          \"description\": \"Distance in miles from Philadelphia\"\n        },\n        \"is_local\": {\n          \"type\": \"boolean\",\n          \"description\": \"Whether within 60 mile radius\"\n        }\n      },\n      \"required\": [\"distance_from_philadelphia\", \"is_local\"]\n    },\n    \"scoring\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"base_score\": {\n          \"type\": \"number\",\n          \"enum\": [1, 4],\n          \"description\": \"Base score (4 if local, 1 if not)\"\n        },\n        \"weighted_score\": {\n          \"type\": \"number\",\n          \"enum\": [2, 8],\n          \"description\": \"Final score after applying location weight of 2\"\n        }\n      },\n      \"required\": [\"base_score\", \"weighted_score\"]\n    },\n    \"explanation\": {\n      \"type\": \"string\",\n      \"description\": \"Explanation of the scoring decision\"\n    },\n    \"confidence\": {\n      \"type\": \"number\",\n      \"minimum\": 0,\n      \"maximum\": 1,\n      \"description\": \"Confidence level in the location data\"\n    }\n  },\n  \"required\": [\"location_scores\", \"scoring\", \"explanation\", \"confidence\"],\n  \"additionalProperties\": false\n}\n\n\n## Example Inputs and Outputs\n\n### Example 1: Local Company with Coordinates\nInput:\n\n{\n  \"company_location\": {\n    \"city\": \"Camden\",\n    \"state\": \"NJ\",\n    \"country\": \"USA\",\n    \"coordinates\": {\n      \"latitude\": 39.9259,\n      \"longitude\": -75.1196\n    }\n  }\n}\n\n\nOutput:\n\n{\n  \"location_scores\": {\n    \"distance_from_philadelphia\": 3.2,\n    \"is_local\": true\n  },\n  \"scoring\": {\n    \"base_score\": 4,\n    \"weighted_score\": 8\n  },\n  \"explanation\": \"Location is 3.2 miles from Philadelphia center, well within 60-mile radius. Exact distance calculated from coordinates.\",\n  \"confidence\": 1.0\n}\n\n\n### Example 2: Distant Location without Coordinates\nInput:\n\n{\n  \"company_location\": {\n    \"city\": \"Los Angeles\",\n    \"state\": \"CA\",\n    \"country\": \"USA\",\n    \"coordinates\": null\n  }\n}\n\n\nOutput:\n\n{\n  \"location_scores\": {\n    \"distance_from_philadelphia\": null,\n    \"is_local\": false\n  },\n  \"scoring\": {\n    \"base_score\": 1,\n    \"weighted_score\": 2\n  },\n  \"explanation\": \"Location is clearly outside Philadelphia 60-mile radius based on city and state.\",\n  \"confidence\": 1.0\n}\n\n\n### Example 3: Nearby Location without Exact Coordinates\nInput:\n\n{\n  \"company_location\": {\n    \"city\": \"King of Prussia\",\n    \"state\": \"PA\",\n    \"country\": \"USA\",\n    \"coordinates\": null\n  }\n}\n\n\nOutput:\n\n{\n  \"location_scores\": {\n    \"distance_from_philadelphia\": null,\n    \"is_local\": true\n  },\n  \"scoring\": {\n    \"base_score\": 4,\n    \"weighted_score\": 8\n  },\n  \"explanation\": \"King of Prussia, PA is known to be within 60-mile radius of Philadelphia. Exact distance not calculated due to missing coordinates.\",\n  \"confidence\": 0.8\n}\n\n\n## Scoring Rules\n1. Always score 4 for locations within 60 miles\n2. Always score 1 for locations outside 60 miles\n3. Use exact coordinates when available\n4. Use city/state for well-known nearby locations\n5. Default to lower confidence when exact coordinates unavailable\n6. Score obvious distant locations with high confidence even without coordinates\n7. Multiply base score by weight of 2\n8. No additional properties allowed in output JSON\n\n`\n\n\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"company_location\":\"West Chester , Pennsylvania , United States\",\n    \"location_latitude\":\"40.1013\",\n    \"location_longitude\":\"-75.3836\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[-5660,1180],"id":"06dbfe15-8a93-40f2-8651-5aab22d8dbe1","name":"ICP Location"},{"parameters":{"name":"icp_industry","description":"Use this prompt to calculate ICP Industry score","jsCode":"const input = query\nconst prompt = `\nIndustry Scoring Assistant\nRole\nScore companies based on alignment with target industries for security and compliance services.\n\nRequired Input\njson\nCopy\n{\n  \"industry\": \"${input.company_industry}\"\n}\nIndustry Classification\njson\nCopy\n{\n  \"target_industries\": {\n    \"Business Process Optimization\": {\n      \"aliases\": [\"BPO\", \"Business Process Outsourcing\", \"Process Management\", \"Business Services Optimization\"]\n    },\n    \"Data Services\": {\n      \"aliases\": [\"Data Centers\", \"Data-as-a-Service\", \"DaaS\", \"Data Management\", \"Data Processing Services\", \"Cloud Data Services\"]\n    },\n    \"Energy and Utilities\": {\n      \"aliases\": [\"Energy Services\", \"Utility Provider\", \"Power Generation\", \"Energy Management\", \"Utility Services\"]\n    },\n    \"Healthcare\": {\n      \"categories\": {\n        \"Healthcare Services\": [\"Medical Services\", \"Healthcare Providers\", \"Health Systems\", \"Medical Facilities\"],\n        \"Healthcare Technology\": [\"HealthTech\", \"Digital Health\", \"Health IT\"],\n        \"Revenue Cycle Management\": [\"RCM\", \"Medical Billing\", \"Healthcare Revenue\", \"Medical Revenue Management\"]\n      }\n    },\n    \"Financial Services\": {\n      \"categories\": {\n        \"Traditional Finance\": [\"Banking\", \"Financial Services\", \"Investment Services\"],\n        \"Financial Technology\": [\"Fintech\", \"Digital Banking\", \"Payment Processing\", \"Financial Software\"]\n      }\n    },\n    \"Government\": {\n      \"aliases\": [\"Public Sector\", \"Federal Agency\", \"State Agency\", \"Municipal Government\", \"Government Services\"]\n    },\n    \"Insurance\": {\n      \"categories\": {\n        \"Traditional Insurance\": [\"Insurance Provider\", \"Insurance Services\", \"Insurance Carrier\"],\n        \"Insurance Technology\": [\"InsurTech\", \"Digital Insurance\", \"Insurance Software\"]\n      }\n    },\n    \"Manufacturing\": {\n      \"categories\": {\n        \"Traditional Manufacturing\": [\"Industrial Manufacturing\", \"Production\", \"Manufacturing Services\"],\n        \"Advanced Manufacturing\": [\"Smart Manufacturing\", \"Digital Manufacturing\", \"Manufacturing Technology\"]\n      }\n    },\n    \"Software and Technology\": {\n      \"categories\": {\n        \"Software Development\": [\"SaaS\", \"Software Services\", \"Application Development\"],\n        \"Technology Services\": [\"IT Services\", \"Tech Solutions\", \"Digital Services\"],\n        \"Emerging Technology\": [\"AI/ML\", \"Cloud Services\", \"Cybersecurity\"]\n      }\n    },\n    \"Telecommunications\": {\n      \"aliases\": [\"Telecom\", \"Communications Services\", \"Network Services\", \"Telecommunications Technology\"]\n    }\n  }\n}\nScoring System\nExact Industry Match (Confidence 1.0): Direct match with the main industry category — Score = 4\nCategory Match (Confidence 0.9): Match with a specific sub-category — Score = 4\nAlias Match (Confidence 0.9): Match with an industry alias — Score = 4\nNo Match (Confidence 1.0): No match with the target industries — Score = 1\nPartial/Compound Match (Confidence 0.8): Multiple matches across categories — Score = 4 (highest match)\nOutput Format\njson\nCopy\n{\n  \"base_score\": 4,\n  \"matched_industry\": \"string\",\n  \"matched_category\": \"string\",\n  \"explanation\": \"string\",\n  \"confidence\": 1.0\n}\nExample Outputs\nExample 1: Direct Industry Match\nInput:\n\njson\nCopy\n{\n  \"industry\": \"Healthcare\"\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 4,\n  \"matched_industry\": \"Healthcare\",\n  \"matched_category\": \"Healthcare Services\",\n  \"explanation\": \"Direct match to Healthcare Services category in the target industry.\",\n  \"confidence\": 1.0\n}\nExample 2: Specific Category Match\nInput:\n\njson\nCopy\n{\n  \"industry\": \"HealthTech Platform\"\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 4,\n  \"matched_industry\": \"Healthcare\",\n  \"matched_category\": \"Healthcare Technology\",\n  \"explanation\": \"Match to the Healthcare Technology category in the target industry.\",\n  \"confidence\": 0.9\n}\nExample 3: Alias Match\nInput:\n\njson\nCopy\n{\n  \"industry\": \"RCM Solutions\"\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 4,\n  \"matched_industry\": \"Healthcare\",\n  \"matched_category\": \"Revenue Cycle Management\",\n  \"explanation\": \"Match to the Revenue Cycle Management category in the target industry.\",\n  \"confidence\": 0.9\n}\nExample 4: Non-Target Industry\nInput:\n\njson\nCopy\n{\n  \"industry\": \"Hospitality\"\n}\nOutput:\n\njson\nCopy\n{\n  \"base_score\": 1,\n  \"matched_industry\": \"Other\",\n  \"matched_category\": \"Non-Target\",\n  \"explanation\": \"Industry not in target sectors.\",\n  \"confidence\": 1.0\n}\n`\n\nreturn prompt","specifyInputSchema":true,"jsonSchemaExample":"{\n\t\"company_industry\": \"\"\n}"},"type":"@n8n/n8n-nodes-langchain.toolCode","typeVersion":1.1,"position":[-5520,1180],"id":"e73f1967-4ee9-43fb-a79d-a94f315a97f9","name":"ICP Industrty"},{"parameters":{"promptType":"define","text":"=--- OVERVIEW ---\nUse data from this object:\n{{ JSON.stringify($json)}}\n\n\n--- TASKS --- \n1) Firstly find the geolocation for the company\n2) Once we have geolocation of the company Calculate ICP Location Score\n3) Calculate ICP Industry score\n4) Calculate ICP Job Title \n5) Calculate ICP Company Size Score\n6) Calculate ICP Intent Score\n7) Calculate ICP Framework Score\n8) Check if the all diferent score values for all the categories (ICP Location Score, ICP Industry score, ICP Job Title score, ICP Company Size Score, ICP Intent Score, ICP Framework Score) fall into one of the provided valid values for that category in the list bellow: \n- Job Title ICP Valid Scores: 0 or 3 or 6 or 9 or 12\n- Company Size ICP Valid Scores: 0 or 1 or 2 or 3 or 4\n- Intent ICP Valid Scores: 0 or 3 or 6 or 9 or 12 or 15 or 18\n- Framework ICP Valid Scores: 0 or 3 or 6 or 9 or 12\n- Location ICP Valid Scores: 0 or 2 or 8\n- ICP Industry Valid Scores: 0 or 2 or 8\nIf any category dosn't have one of the valid scores provided, re-run the tool that calculates the score for that category.\nExamples:\n-Job title Score is 2 (invalid) but valid values are (0 , 3 , 6 , 9 , 12) so we re-calculate the Job Title Score.\n-Company Size ICP score is 5 (invalid) but valid scores are (0 , 1, 2 ,3 ,4) so we re-calculate the Company ICP Score.\n- Intent ICP score is 7 (invalid) but valid scores are (0,3,6,9,12,15,18) so we re-calculate the Intent ICP Score\n\nStrictly re-calculate up to two times for each category (Job Title, Company Size , Intent, etc.).\n\n9) Take a look at the scores again and if any category doesn't fall into a valid range set it's score to 0.\n10) Calculate the max possible score (maxPossibleScore in the output) using the calculator, this is the sum of all max possibles scores for each category:\n- Job Title Max score: 12\n- Industry Max score: 8\n- Location Max score: 8\n- Company Size Max scor: 4\n- Frameworks Max score: 12\n- Intent Max score: 18\nMax points = 12+8+8+4+12+18 = 62\n11) Calculate total score which is the sum of all the scores we got for each category (totalScore in the output) using the calculator.\nExample \n- Job Title Score: 3\n- Company Size Score: 0\n- Intent Score: 6\n- Framework Score: 9\n- Location Score: 2 (Include Location score in the totalScore sum, only if it's not local (is_local is equal to false), in onther cases act as it's score is 0 (when is_local is equal to false))\n- Industry Score: 2\n\nTotal score is the sum of 3 + 0 + 6 + 9 + 2 + 2  which is 22\n","hasOutputParser":true,"options":{"maxIterations":60}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-5420,940],"id":"a0dcaeda-d609-423e-94a1-bb8eb853978c","name":"ICP Score - Agent V1","retryOnFail":true,"alwaysOutputData":false,"maxTries":5,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"// let original = $('Combining Matched Frameworks').first().json;\n// let input = $json.output[0]\n// const jobTitleAllowedScores = [0, 3, 6, 9, 12];\n// const industryAllowedScores = [0, 2, 8];\n// const locationAllowedScores = [0, 2, 8];\n// const companySizeAllowedScores = [0, 1, 2, 3, 4];\n// const frameworksAllowedScores = [0, 3, 6, 9, 12];\n// const intentAllowedScores = [0, 3, 6, 9, 12, 15, 18];\n\n// function validateScores(scores) {\n//     const { totalScore, componentScores, maxPossibleScore } = scores;\n\n  \n\n//     // Create a copy of the component scores to avoid modifying the original object\n//     let updatedComponentScores = { ...componentScores };\n\n//     // Check and set invalid component scores to 0\n//     if (!jobTitleAllowedScores.includes(updatedComponentScores.jobTitle)) {\n \n//         updatedComponentScores.jobTitle = 0;\n//     }\n\n//     if (!industryAllowedScores.includes(updatedComponentScores.industry)) {\n        \n//         updatedComponentScores.industry = 0;\n//     }\n\n//     if (!locationAllowedScores.includes(updatedComponentScores.location)) {\n       \n//         updatedComponentScores.location = 0;\n//     }\n\n//     if (!companySizeAllowedScores.includes(updatedComponentScores.companySize)) {\n        \n//         updatedComponentScores.companySize = 0;\n//     }\n\n//     if (!frameworksAllowedScores.includes(updatedComponentScores.frameworks)) {\n        \n//         updatedComponentScores.frameworks = 0;\n//     }\n\n//     if (!intentAllowedScores.includes(updatedComponentScores.intent)) {\n       \n//         updatedComponentScores.intent = 0;\n//     }\n\n//     // Recalculate the total score after adjustment, excluding 'location' score\n//     const updatedTotalScore = Object.entries(updatedComponentScores)\n//         .filter(([key]) => key !== 'location') // Exclude location from total calculation\n//         .reduce((sum, [, score]) => sum + score, 0);\n\n//     // Recalculate the max possible score after adjustment, excluding 'location' score\n//     const updatedMaxPossibleScore = Object.entries(updatedComponentScores)\n//         .filter(([key]) => key !== 'location') // Exclude location from max possible score calculation\n//         .reduce((sum, [key, score]) => {\n//             const allowedScores = {\n//                 jobTitle: jobTitleAllowedScores,\n//                 industry: industryAllowedScores,\n//                 companySize: companySizeAllowedScores,\n//                 frameworks: frameworksAllowedScores,\n//                 intent: intentAllowedScores\n//             };\n//             return sum + Math.max(...allowedScores[key]);\n//         }, 0);\n\n//     // Return the new object with corrected scores, excluding location from total and max score\n//     return {\n//         totalScore: updatedTotalScore,\n//         componentScores: updatedComponentScores,\n//         maxPossibleScore: updatedMaxPossibleScore\n//     };\n// }\n\n\n// const scores = input.overall_score\n// const updatedScores = validateScores(scores);\n// input.overall_score = updatedScores\n// function getTier(scores) {\n//     const { totalScore } = scores;\n\n//     if (totalScore >= 44 && totalScore <= 54) {\n//         return \"1\";\n//     } else if (totalScore >= 33 && totalScore <= 43) {\n//         return \"2\";\n//     } else if (totalScore >= 20 && totalScore <= 32) {\n//         return \"3\";\n//     } else {\n//         return \"\";  // If the totalScore doesn't fall into any of the ranges\n//     }\n// }\n// function getTierWithEmoji(scores) {\n//     const { totalScore } = scores;\n\n//     if (totalScore >= 44 && totalScore <= 54) {\n//         return \"🟢 Tier 1\";\n//     } else if (totalScore >= 33 && totalScore <= 43) {\n//         return \"🔵 Tier 2\";\n//     } else if (totalScore >= 20 && totalScore <= 32) {\n//         return \"🟠 Tier 3\";\n//     } else {\n//         return \"\";  // If the totalScore doesn't fall into any of the ranges\n//     }\n// }\n// const tier = getTier(input.overall_score);\n// input.total_score_string = tier\n// const tier_with_emoji = getTierWithEmoji(input.overall_score)\n// input.total_score_string_emoji =  tier_with_emoji\n// original.company_info.icp_score = input\n// return original\n\nlet original = $('Combining Matched Frameworks').first().json;\n\nlet input = {}; \ntry{\n  input = $json.output[0] \n}catch(error){\n  original.company_info.icp_score = {}\n  return original\n}\n\nif (Object.keys(input).length === 0) {\n    return original;\n}\n\nconst jobTitleAllowedScores = [0, 3, 6, 9, 12];\nconst industryAllowedScores = [0, 2, 8];\nconst locationAllowedScores = [0, 2, 8];\nconst companySizeAllowedScores = [0, 1, 2, 3, 4];\nconst frameworksAllowedScores = [0, 3, 6, 9, 12];\nconst intentAllowedScores = [0, 3, 6, 9, 12, 15, 18];\n\nfunction validateScores(scores) {\n    const { totalScore, componentScores, maxPossibleScore } = scores;\n\n    // Create a copy of the component scores to avoid modifying the original object\n    let updatedComponentScores = { ...componentScores };\n\n    // Check and set invalid component scores to 0\n    if (!jobTitleAllowedScores.includes(updatedComponentScores.jobTitle)) {\n        updatedComponentScores.jobTitle = 0;\n    }\n\n    if (!industryAllowedScores.includes(updatedComponentScores.industry)) {\n        updatedComponentScores.industry = 0;\n    }\n\n    if (!locationAllowedScores.includes(updatedComponentScores.location)) {\n        updatedComponentScores.location = 0;\n    }\n\n    if (!companySizeAllowedScores.includes(updatedComponentScores.companySize)) {\n        updatedComponentScores.companySize = 0;\n    }\n\n    if (!frameworksAllowedScores.includes(updatedComponentScores.frameworks)) {\n        updatedComponentScores.frameworks = 0;\n    }\n\n    if (!intentAllowedScores.includes(updatedComponentScores.intent)) {\n        updatedComponentScores.intent = 0;\n    }\n\n    // Recalculate the total score after adjustment, excluding 'location' score\n    const updatedTotalScore = Object.entries(updatedComponentScores)\n        .filter(([key]) => key !== 'location') // Exclude location from total calculation\n        .reduce((sum, [, score]) => sum + score, 0);\n\n    // Recalculate the max possible score after adjustment, excluding 'location' score\n    const updatedMaxPossibleScore = Object.entries(updatedComponentScores)\n        .filter(([key]) => key !== 'location') // Exclude location from max possible score calculation\n        .reduce((sum, [key, score]) => {\n            const allowedScores = {\n                jobTitle: jobTitleAllowedScores,\n                industry: industryAllowedScores,\n                companySize: companySizeAllowedScores,\n                frameworks: frameworksAllowedScores,\n                intent: intentAllowedScores\n            };\n            return sum + Math.max(...allowedScores[key]);\n        }, 0);\n\n    // Return the new object with corrected scores, excluding location from total and max score\n    return {\n        totalScore: updatedTotalScore,\n        componentScores: updatedComponentScores,\n        maxPossibleScore: updatedMaxPossibleScore\n    };\n}\n\nconst scores = input.overall_score;\nconst updatedScores = validateScores(scores);\ninput.overall_score = updatedScores;\n\nfunction getTier(scores) {\n    const { totalScore } = scores;\n\n    if (totalScore >= 44 && totalScore <= 54) {\n        return \"1\";\n    } else if (totalScore >= 33 && totalScore <= 43) {\n        return \"2\";\n    } else if (totalScore >= 20 && totalScore <= 32) {\n        return \"3\";\n    } else {\n        return \"\";  // If the totalScore doesn't fall into any of the ranges\n    }\n}\n\nfunction getTierWithEmoji(scores) {\n    const { totalScore } = scores;\n\n    if (totalScore >= 44 && totalScore <= 54) {\n        return \"🟢 Tier 1\";\n    } else if (totalScore >= 33 && totalScore <= 43) {\n        return \"🔵 Tier 2\";\n    } else if (totalScore >= 20 && totalScore <= 32) {\n        return \"🟠 Tier 3\";\n    } else {\n        return \"\";  // If the totalScore doesn't fall into any of the ranges\n    }\n}\n\nconst tier = getTier(input.overall_score);\ninput.total_score_string = tier;\nconst tier_with_emoji = getTierWithEmoji(input.overall_score);\ninput.total_score_string_emoji = tier_with_emoji;\n\noriginal.company_info.icp_score = input;\n\nreturn original;\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-4900,940],"id":"4ed556a0-904a-4b89-b3d0-314599c79b0e","name":"Formatting ICP Score"},{"parameters":{"model":"claude-3-5-haiku-20241022","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1.2,"position":[-5960,1180],"id":"0c7d1651-49d6-4356-8350-a8397652ace0","name":"Anthropic Chat Model1","credentials":{"anthropicApi":{"id":"h0MMyf5nQ4cycwwR","name":"searchactions.com: ispartnersllc.com - Visitor Enrichment"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolCalculator","typeVersion":1,"position":[-4760,1180],"id":"cd24986b-8a8f-4066-8267-a91ca3567899","name":"Calculator1"},{"parameters":{"method":"POST","url":"=https://api.lemlist.com/api/campaigns/cam_Wt8i7t78qQ5ypMxZW/leads/{{ $('Adding to database').first().json.user_info.primary_email }}","authentication":"predefinedCredentialType","nodeCredentialType":"lemlistApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"deduplicate","value":"true"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.data }}","options":{"redirect":{"redirect":{}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[5960,480],"id":"4d637ca2-84ba-4fec-acd9-482aed1e7592","name":"Multiple Framework","notesInFlow":true,"credentials":{"lemlistApi":{"id":"J1YuRBkJqsZaV7CN","name":"ispartnersllc.com"}},"onError":"continueRegularOutput"},{"parameters":{"method":"POST","url":"=https://api.lemlist.com/api/campaigns/cam_oMBHEyNLnuGrorxbH/leads/{{ $('Adding to database').first().json.user_info.primary_email }}","authentication":"predefinedCredentialType","nodeCredentialType":"lemlistApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"deduplicate","value":"true"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.data }}","options":{"redirect":{"redirect":{}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[5960,180],"id":"b25bab2c-f5a1-40ff-bc0f-fb1cec9f893a","name":"Single Framework","notesInFlow":true,"credentials":{"lemlistApi":{"id":"J1YuRBkJqsZaV7CN","name":"ispartnersllc.com"}},"onError":"continueRegularOutput"},{"parameters":{"promptType":"define","text":"=--- INFORMATION TO USE IN THE TASK ---\nOverall prospect information:\n{{JSON.stringify($json) }}\nICP Scoring Information:\n{{ JSON.stringify($json.company_info.icp_score) }}\n\n--- TASK --- \n- Your goal is to summerize (provide reasoning) everything into one string regarding ICP Score (Output: \"summary\").\nKeep in mind in the totalScore and maxPossibleScore points the Location score isn't counted in because it's just a modifier.\nExamples:\n--The prospect from Diligent has a role as a Research Specialist within the Computer Software industry, which has a focus on governance. The company is fairly large with 2,599 employees and possesses multiple compliance frameworks (ISO 27001, SOC 2). However, the lack of specific location data hampers the scoring in that category. The intent shown by visiting a blog article, which discusses general audit testing methods, reveals limited immediate interest in specific compliance frameworks. Recommendations include monitoring for more focused engagement.\n--OhioHealth is a large not-for-profit health system with comprehensive healthcare services. It falls into the Hospital & Health Care industry, which is pertinent for compliance due to its regulatory requirements. The contact hold a Registered Nurse position, reflecting a limited influence on compliance or IT security. The company meets HIPAA compliance and has SOC 1 certifications, indicating attention to security standards, but the contact's role is not aligned with decision-making in compliance or security areas. The interest shown by visiting a blog article suggests a desire for knowledge but lacks actionable intent towards specific frameworks.\n--Company CDW•G operates within the Information Technology & Services industry, with a significant employee base (5001-10000) indicating enterprise scale. They hold important compliance frameworks including NIST Cybersecurity Framework and potentially HITRUST. The contact's role as an Advanced Technology Account Executive suggests limited influence on compliance decisions. The interest shown in HITRUST indicates awareness of compliance frameworks but was represented in a blog context, highlighting a need for additional information.\n--Crocs, a large player in the Apparel & Fashion industry, employs over 5000 personnel. The VP of Digital Commerce demonstrates strong influence over technology strategies but does not directly relate to compliance or security leadership. Crocs has two established compliance frameworks but visited a blog article indicating low intent. Given the company's size and employee count, it should be monitored for potential interest in cybersecurity enhancements.\n\n- Write Job Title score summary (Output: \"job_title_summary\"), it needs to start with score and max possible points\n  Example:  3/12 Points - The title 'Research Specialist' does not match the higher scoring titles in the defined categories which include management or ownership positions in compliance or technical fields.\n- Write Industry score summary (Output: \"industry_summary\") it needs to start with score and max possible points\n  Example: 8/8 Points - The industry is 'Computer Software' which is a target industry for compliance solutions and technology, thus scoring a 4.\n- Write Location score summary (Output: \"location_summary\") it needs to start with score and max possible points\n  Example: 2/8 Points - No specific location is provided, therefore it's unclear if they fall within the 60-mile radius of Philadelphia, so the score defaults to 1.\n- Write Company Size summary (Output: \"company_size_summary\") it needs to start with score and max possible points\n  Example: 4/4 Points - The company has 2,599 employees, which qualifies them for a score of 4 (500+ employees).\n- Write Frameworks score summary (Output: \"frameworks_summary\") it needs to start with score and max possible points\n  Example: 12/15 Points - The company is confirmed to have frameworks ISO 27001 and SOC 2, and they also refer to SOC 2 and PCI DSS in the page visited, yielding a score of 4 for having three or more confirmed frameworks.\n- Write Intent score summary (Output: \"intent_summary\") it needs to start with score and max possible points\n  Example: 3/18 Points - The page visited is a blog article (contains '/blog/') which scores 1, and does not exclusively focus on a single framework applicable to the company, leading to a score of 1 for factor B.\n\n\n\n--- OUTPUT EXAMPLES ----\n{\n\t\"summary\": \"The prospect from Diligent has a role as a Research Specialist within the Computer Software industry, which has a focus on governance. The company is fairly large with 2,599 employees and possesses multiple compliance frameworks (ISO 27001, SOC 2). However, the lack of specific location data hampers the scoring in that category. The intent shown by visiting a blog article, which discusses general audit testing methods, reveals limited immediate interest in specific compliance frameworks. Recommendations include monitoring for more focused engagement.\",\n\t\"job_title_summary\": \"3/12 Points - The title 'Research Specialist' does not match the higher scoring titles in the defined categories which include management or ownership positions in compliance or technical fields\",\n  \"industry_summary\": \"8/8 Points - The industry is 'Computer Software' which is a target industry for compliance solutions and technology, thus scoring a 4.\",\n  \"location_summary\":\"2/8 Points - No specific location is provided, therefore it's unclear if they fall within the 60-mile radius of Philadelphia, so the score defaults to 1.\",\n  \"company_size_summary\":\"4/4 Points - The company has 2,599 employees, which qualifies them for a score of 4 (500+ employees)\",\n  \"frameworks_summary\":\"12/15 Points - The company is confirmed to have frameworks ISO 27001 and SOC 2, and they also refer to SOC 2 and PCI DSS in the page visited, yielding a score of 4 for having three or more confirmed frameworks.\",\n  \"intent_summary\":\"3/18 Points - The page visited is a blog article (contains '/blog/') which scores 1, and does not exclusively focus on a single framework applicable to the company, leading to a score of 1 for factor B.\"\n}\n\n\n{\n\t\"summary\": \"OhioHealth is a large not-for-profit health system with comprehensive healthcare services. It falls into the Hospital & Health Care industry, which is pertinent for compliance due to its regulatory requirements. The contact hold a Registered Nurse position, reflecting a limited influence on compliance or IT security. The company meets HIPAA compliance and has SOC 1 certifications, indicating attention to security standards, but the contact's role is not aligned with decision-making in compliance or security areas. The interest shown by visiting a blog article suggests a desire for knowledge but lacks actionable intent towards specific frameworks.\",\n\t\"job_title_summary\": \"3/12 Points - The title 'Registered Nurse' does not indicate a leadership role within compliance or security functions and therefore receives the lowest score.\",\n  \"industry_summary\": \"8/8 Points - The industry 'Hospital & Health Care' is strongly relevant to compliance given the regulatory environment in healthcare, qualifying for the highest score.\",\n  \"location_summary\":\"2/8 Points - The location is not specified, and as the company is based in Ohio, it likely is outside 60 miles of Philadelphia, which defaults to the lowest score.\",\n  \"company_size_summary\":\"4/4 Points - With an employee count of 10,001+, it qualifies as enterprise-level, receiving the highest score.\",\n  \"frameworks_summary\":\"6/15 Points - The company has two compliance frameworks (HIPAA and SOC 1), which qualifies for a score of 3 based on the number of frameworks.\",\n  \"intent_summary\":\"3/18 Points - The page visited is a blog article which receives a score of 1, and since it discusses frameworks without sufficient specificity about the company's implementation, Factor B also scores 1, resulting in a total intent score of 3.\"\n}\n\n\n","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-4320,940],"id":"5cc65892-10eb-4938-a258-63d50bae3736","name":"ICP Summary","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.1,"position":[-4360,1160],"id":"58b95320-b293-4112-8069-5796c199fac1","name":"OpenAI Chat Model - ICP Summary","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Formatting ICP Score').first().json\noriginal.company_info.icp_score.summary = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-3900,940],"id":"e4b4375d-bc9c-46ac-80d9-61f46b4474c1","name":"Combining ICP summary"},{"parameters":{"operation":"get","tableId":"website_visitors_new","filters":{"conditions":[{"keyName":"email","keyValue":"={{ $('Combining Email data').item.json.email }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[-29920,840],"id":"52a6c91f-c9b3-483d-84f0-130ab8458861","name":"Supabase","alwaysOutputData":true,"retryOnFail":true,"credentials":{"supabaseApi":{"id":"KAjqGpkvqbL6t5fA","name":"searchactions.com - Website Visitors Project"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ff290191-5e4b-4f58-829a-366cd557683e","leftValue":"={{ $json.id }}","rightValue":"","operator":{"type":"number","operation":"exists","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-29640,840],"id":"b57d95f0-60f4-42a3-8ba3-d1e472f45da9","name":"Already Enriched ?"},{"parameters":{"content":"# Checking if we already enriched the contact","height":660,"width":1160},"type":"n8n-nodes-base.stickyNote","position":[-30060,700],"typeVersion":1,"id":"36f44196-6c99-4fff-88ea-e4b0a65e9ef3","name":"Sticky Note27"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"4c39f092-4511-48f7-af14-32f75764c84f","leftValue":"={{ $json.upcoming_meeting_data.hubspot_id }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"ddf19e53-5ad0-471f-a663-928836c958da","leftValue":"={{ $json.upcoming_meeting_data.meeting_time }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}}],"combinator":"or"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-29920,1620],"id":"51321c89-eab5-49bc-9e1f-40b83638b012","name":"HubSpot meeting data exists ?"},{"parameters":{"jsonSchemaExample":"{\n\t\"summary\": \"\",\n\t\"job_title_summary\": \"3/12 Points - The title 'Research Specialist' does not match the higher scoring titles in the defined categories which include management or ownership positions in compliance or technical fields.\",\n  \"industry_summary\": \"8/8 Points - The industry is 'Computer Software' which is a target industry for compliance solutions and technology, thus scoring a 4.\",\n  \"location_summary\":\"2/8 Points - No specific location is provided, therefore it's unclear if they fall within the 60-mile radius of Philadelphia, so the score defaults to 1.\",\n  \"company_size_summary\":\" 4/4 Points - The company has 2,599 employees, which qualifies them for a score of 4 (500+ employees).\",\n  \"frameworks_summary\":\"12/15 Points - The company is confirmed to have frameworks ISO 27001 and SOC 2, and they also refer to SOC 2 and PCI DSS in the page visited, yielding a score of 4 for having three or more confirmed frameworks.\",\n  \"intent_summary\":\"3/18 Points - The page visited is a blog article (contains '/blog/') which scores 1, and does not exclusively focus on a single framework applicable to the company, leading to a score of 1 for factor B.\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-4080,1180],"id":"dc2ddb3f-dc3f-4d0d-9b42-f6959c2d2488","name":"ICP Summary parser"},{"parameters":{"url":"https://linkedin-api8.p.rapidapi.com/get-profile-data-by-url","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"url","value":"={{ $json.user_info.social_urls.linked_in }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"x-rapidapi-host","value":"linkedin-api8.p.rapidapi.com"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-23020,1020],"id":"d15f7c25-2728-4f29-8947-24d184a715fa","name":"LinkedIn - Profile Data","notesInFlow":true,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"ZgvHAs9mRvDYM7Ms","name":"searchactions.com - Rapid API - key "}},"onError":"continueRegularOutput","notes":"Real-Time LinkedIn Scraper (Rapid API)"},{"parameters":{"url":"https://linkedin-api8.p.rapidapi.com/get-profile-posts","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"username","value":"={{ $json.username }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"x-rapidapi-host","value":"linkedin-api8.p.rapidapi.com"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-22840,1020],"id":"0c6bfce2-45c8-42f4-a0b6-3ff0a99b4efa","name":"LinkedIn - Posts","alwaysOutputData":true,"notesInFlow":true,"credentials":{"httpHeaderAuth":{"id":"ZgvHAs9mRvDYM7Ms","name":"searchactions.com - Rapid API - key "}},"onError":"continueRegularOutput","notes":"Real-Time LinkedIn Scraper (Rapid API)"},{"parameters":{"url":"https://linkedin-api8.p.rapidapi.com/connection-count","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"username","value":"={{ $('LinkedIn - Profile Data').item.json.username }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"x-rapidapi-host","value":"linkedin-api8.p.rapidapi.com"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-22680,1020],"id":"1116868c-a06a-46f5-ab03-479f6ff64c7c","name":"LinkedIn - Connection & Follower Count","notesInFlow":true,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"ZgvHAs9mRvDYM7Ms","name":"searchactions.com - Rapid API - key "}},"onError":"continueRegularOutput","notes":"Real-Time LinkedIn Scraper (Rapid API)"},{"parameters":{"jsCode":"function isWithinLastMonth(timestamp) {\n  const now = new Date();\n  const oneMonthAgo = new Date(now.setMonth(now.getMonth() - 1));\n  \n  const timestampDate = new Date(timestamp);\n\n  return timestampDate >= oneMonthAgo;\n}\n\n\nlet original = $('Adding Normalized Job Title').first().json\nconst profile_data = $('LinkedIn - Profile Data')?.first()?.json || {}\nconst posts = $('LinkedIn - Posts')?.first()?.json?.data || []\nconst connection_count = $input?.first()?.json?.connection || 0\nconst follower_count = $input?.first()?.json?.follower || 0\nlet is_active_on_linked_in = false\n\nif(posts[0]?.postedDateTimestamp){\n  is_active_on_linked_in = isWithinLastMonth(posts[0].postedDateTimestamp)\n}\nconst linked_in_data = {\n  profile_data :profile_data,\n  posts : posts,\n  connection_count: connection_count,\n  follower_count: follower_count,\n  is_active_on_linked_in\n}\nconst company_linked_in_data = $input.first().json.data\n// ---- ASSIGNING ----\noriginal.company_info.linked_in_data = company_linked_in_data\noriginal.user_info.linked_in_data = linked_in_data\n\n// PROFILE PICTURE\nif(!original?.user_info?.profile_pick &&linked_in_data.profile_data.profilePicture ){\n  original.user_info.profile_pick =  linked_in_data.profile_data.profilePicture\n}\n// COMPANY LOGO\nif(!original?.company_info?.logo && $input.first()?.json?.data?.Images?.logo){\n  original.company_info.logo = $input.first().json.data.Images.logo\n}\n// COMPANY LOCATION\nif(!original?.company_info?.location?.city && $input.first().json?.data?.headquarter?.city){\n  original.company_info.location.city = $input.first().json.data.headquarter.city\n}\nif(!original?.company_info?.location?.country && $input.first().json?.data?.headquarter?.country){\n  original.company_info.location.country = $input.first().json.data.headquarter.country\n}\n// LOCATION\nif(!original?.user_info?.location?.country && profile_data?.geo?.country){\n  original.user_info.location.country = profile_data.geo.country\n}\nif(!original?.user_info?.location?.city && profile_data?.geo?.city ){\n  original.user_info.location.city = profile_data.geo.city\n}\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-22280,1020],"id":"f5535dd8-3ddd-4dc4-a37c-8073ad6aecee","name":"Linked In Scraped Data"},{"parameters":{"content":"# Linked In Scraping\n","height":660,"width":920},"type":"n8n-nodes-base.stickyNote","position":[-23080,700],"typeVersion":1,"id":"7b6eaf33-2e03-4508-a298-1468390b1d23","name":"Sticky Note28"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"3fb1ff01-7951-4c57-8296-c33a6b37243f","leftValue":"={{ $('Summarizing').item.json.prospect_source }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}},{"id":"93ea1960-87eb-46a6-b2c6-94c5ff1d5146","leftValue":"={{ $('Summarizing').item.json.prospect_source }}","rightValue":"hubspot","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-29680,1680],"id":"89d66541-d319-4e1e-af86-669bdf824d28","name":"HubSpot Enrichment ?"},{"parameters":{"url":"https://linkedin-api8.p.rapidapi.com/get-company-by-domain","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendQuery":true,"queryParameters":{"parameters":[{"name":"domain","value":"={{ $('Prospect final structure').item.json.company_info.domain }}"}]},"sendHeaders":true,"headerParameters":{"parameters":[{"name":"x-rapidapi-host","value":"linkedin-api8.p.rapidapi.com"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-22500,1020],"id":"8b7604f6-8962-4831-940f-07b296241ea1","name":"LinkedIn - Company Information","notesInFlow":true,"alwaysOutputData":true,"credentials":{"httpHeaderAuth":{"id":"ZgvHAs9mRvDYM7Ms","name":"searchactions.com - Rapid API - key "}},"onError":"continueRegularOutput","notes":"Real-Time LinkedIn Scraper (Rapid API)"},{"parameters":{"content":"# Updating Enriched Prospect","height":560,"width":1920,"color":5},"type":"n8n-nodes-base.stickyNote","position":[-30060,1380],"typeVersion":1,"id":"b263763a-238f-40fc-ad87-e4bf70506c5d","name":"Sticky Note10"},{"parameters":{"promptType":"define","text":"=# Company Classification Prompt for I.S. Partners\n\n## GOAL\nYour goal is to accurately classify companies as either competitors or potential partners of I.S. Partners, while avoiding any incorrect classifications that could lead to business harm. You must protect I.S. Partners from inadvertently marketing to competitors while identifying valuable partnership opportunities.\n\n## ROLE\nYou are a specialized business analyst with expertise in:\n- IT compliance and audit services\n- Competitive analysis\n- Partnership evaluation\n- Service offering assessment\n- Industry classification\n\nYour primary responsibilities are to:\n1. Carefully analyze company descriptions and service offerings\n2. Identify explicit evidence of competitive services\n3. Evaluate partnership potential based on service synergy\n4. Make clear, evidence-based classifications\n5. Provide detailed reasoning for all decisions\n\n## CORE PRINCIPLE\nAccuracy is paramount. An incorrect classification could result in:\n- Sharing sensitive information with competitors\n- Missing valuable partnership opportunities\n- Damaging business relationships\n- Wasting marketing resources\n\n## STRICT EVIDENCE REQUIREMENT - READ FIRST\nA company can ONLY be classified as a competitor if compliance audit services are EXPLICITLY LISTED in their services or specialties.\n\nTo classify as competitor, MUST see phrases like:\n- \"We provide SOC 2 audits\"\n- \"We perform HIPAA certification\"\n- \"Our compliance audit services include...\"\n- \"We offer compliance certification\"\n- \"We provide compliance attestation\"\n\nNEVER:\n- Assume a service exists if not listed\n- Infer competitive services from industry presence\n- Classify as competitor without explicit service listing\n- Make assumptions about potential services\n- Classify based on hypotheticals\n\nIF NO EXPLICIT AUDIT SERVICES ARE LISTED → NOT A COMPETITOR\n\n## ABSOLUTE RULES\n1. NEVER classify based on hypothetical scenarios\n2. NEVER classify based on potential future services\n3. NEVER classify based on industry presence alone\n4. REQUIRE explicit evidence of competitive services\n5. Manufacturing companies are NOT competitors by default\n6. Internal compliance activities are NOT competitive services\n7. Working with auditors does NOT make a company a competitor\n8. Being audited does NOT make a company a competitor\n\n## CRITICAL EVIDENCE REQUIREMENTS\n- Must have clear evidence of providing compliance audit services to be a competitor\n- Must find specific mention of audit/certification services\n- Industry presence or company size does NOT indicate competitive status\n- Being regulated or compliant does NOT make a company a competitor\n- Manufacturing regulated products does NOT make a company a competitor\n- Internal compliance departments do NOT make a company a competitor\n- Working with external auditors does NOT make a company a competitor\n\n## ABOUT THE PROSPECT \nCompany Name:  {{ $json.company_info.name }}\nWebsite: {{ $json.company_info.domain }}\nLinkedIn URL: {{ $json.company_info.social_urls.linked_in }}\nDescription: {{ $json.company_info.report }}\nIndustry: {{ $json.company_info.industry }}\nServices: {{ $json.company_info.products ? $json.company_info.products.join(\",\") : \"\" }}\nSpecialities: {{ $json.company_info.specialities ? $json.company_info.specialities.join(\",\") : \"\" }}\n\n\n## I.S. PARTNERS CORE SERVICES\nI.S. Partners provides IT compliance and audit services, including:\n- SOC Audits (SOC 1, 2, 3, Cybersecurity, Supply Chain)\n- ISO Certifications (27001, 42001, 50001)\n- Compliance Audits (HIPAA/HITECH, PCI DSS, CMMC, CCPA, GDPR)\n- AI Compliance (NIST AI RMF, ISO 42001, HITRUST AI RMF)\n- Cybersecurity Frameworks (NIST CSF, SP 800-53)\n\n## CRITICAL DISTINCTIONS\n\n### WORKING WITH AUDITORS VS BEING AN AUDITOR\nDO NOT CONFUSE:\n- Being audited vs. Performing audits\n- Working with auditors vs. Being an auditor\n- Getting certified vs. Providing certification\n- Having external auditors vs. Being an external auditor\n\nThese phrases indicate a company USES audit services (NOT a competitor):\n- \"Works with external auditors\"\n- \"Validated by third-party auditors\"\n- \"Certified by independent auditors\"\n- \"Undergoes regular audits\"\n- \"Partners with compliance auditors\"\n- \"Verified by external assessors\"\n\nThese phrases indicate a company PROVIDES audit services (IS a competitor):\n- \"We perform audits\"\n- \"Our audit services include\"\n- \"We certify other companies\"\n- \"Our auditors assess\"\n- \"We provide compliance verification\"\n\n### HEALTHCARE TECHNOLOGY VENDORS\nDO NOT CLASSIFY AS COMPETITOR WHEN THEY:\n1. List compliance standards they meet\n2. Mention adhering to multiple frameworks\n3. Describe security certifications they've achieved\n4. Market their solutions as compliant\n5. Work with external auditors\n6. Maintain internal compliance programs\n\nCommon statements that do NOT indicate competitive services:\n- \"Our platform is HIPAA, HITRUST, and SOC 2 compliant\"\n- \"We meet NIST 800-53 requirements\"\n- \"Platform certified for multiple compliance frameworks\"\n- \"Solutions built to healthcare compliance standards\"\n- \"Adherence to HITRUST, SOC-2, and HIPAA standards\"\n- \"Validated by external auditors\"\n\n# PUBLIC ACCOUNTING FIRMS - SPECIAL RULES\n\n## AUTOMATIC COMPETITOR CLASSIFICATION\nPublic accounting and professional services firms that list \"Audit\" services are typically competitors, including:\n- Big 4 firms (Deloitte, EY, KPMG, PwC)\n- National accounting firms\n- Regional accounting firms that provide audit services\n- Professional services firms with audit practices\n\n## KEY INDICATORS OF COMPETITION\nWhen a company is a public accounting or professional services firm AND lists any of:\n- \"Audit services\"\n- \"Attestation services\"\n- \"Assurance services\"\n- \"Advisory services\" (in conjunction with audit)\n\nThey should be classified as competitors because these firms typically provide:\n- SOC audits\n- Compliance certifications\n- IT audit services\n- Security attestations\n\n## EXAMPLES\n\n### Example: Large Accounting Firm\n```\nCompany: Major Accounting LLP\nServices: Audit, Tax, Advisory, Consulting\n\nis_partner: FALSE\nis_competitor: TRUE\ncompetitor_reasoning: As a public accounting firm providing audit services, they compete with I.S. Partners in providing SOC audits and compliance certifications.\n```\n\n### Example: Regional Accounting Firm\n```\nCompany: Regional Accounting Group\nServices: Tax, Business Advisory, Wealth Management\n(Note: No audit services listed)\n\nis_partner: FALSE\nis_competitor: FALSE\npartner_reasoning: While an accounting firm, they do not provide audit services and therefore do not compete with I.S. Partners.\n```\n### FINANCIAL INSTITUTIONS - SPECIAL RULES\nFinancial institutions (banks, investment firms, etc.) require special attention:\n\nDO NOT CONFUSE:\n- Internal compliance activities vs. Providing compliance services\n- Having a compliance department vs. Offering compliance audits\n- Risk management operations vs. Compliance certification services\n- Regulatory reporting vs. Compliance auditing\n- Sanctions screening vs. Compliance assessments\n- Internal audit functions vs. External audit services\n\nCommon financial institution activities that are NOT competitive services:\n- Internal compliance programs\n- Risk management departments\n- Regulatory reporting\n- Sanctions screening\n- KYC/AML processes\n- Internal audits\n- Vendor risk assessments\n- Regulatory filings\n- Due diligence reviews\n\n### MANUFACTURING COMPANIES - SPECIAL RULES\nManufacturing companies, including:\n- Medical device manufacturers\n- Healthcare equipment producers\n- Hardware manufacturers\n- Pharmaceutical companies\n- Industrial equipment makers\n\nAre automatically NOT competitors unless there is explicit evidence they provide compliance audit services to other companies. Their status as manufacturers in regulated industries does NOT make them competitors.\n\n### BEING COMPLIANT VS. PROVIDING COMPLIANCE SERVICES\nA company stating they are compliant with standards is COMPLETELY DIFFERENT from providing compliance services.\n\nDO NOT CONFUSE:\n- Having certifications vs. Providing certifications\n- Being compliant vs. Making others compliant\n- Meeting standards vs. Auditing standards\n- Supporting compliance vs. Auditing compliance\n- Implementing compliant solutions vs. Certifying compliance\n- Manufacturing compliant products vs. Providing compliance audits\n\n### COMPLIANCE KEYWORDS ANALYSIS\n\nTHESE WORDS/PHRASES ALONE DO NOT INDICATE A COMPETITOR:\n- \"Compliant with...\"\n- \"Certified by...\"\n- \"Meets requirements of...\"\n- \"Built to standards of...\"\n- \"Adheres to...\"\n- \"In compliance with...\"\n- \"Achieved certification in...\"\n- \"Compliance support\"\n- \"Compliance implementation\"\n- \"Compliance preparation\"\n- \"Helps achieve compliance\"\n- \"FDA-compliant products\"\n- \"Regulated medical devices\"\n- \"HIPAA-compliant solutions\"\n- \"Internal audit team\"\n- \"Compliance department\"\n- \"Risk management\"\n- \"Regulatory reporting\"\n- \"Sanctions screening\"\n- \"KYC/AML processes\"\n- \"Due diligence\"\n- \"Vendor assessment\"\n- \"Regulatory compliance\"\n- \"Banking compliance\"\n\nTHESE WORDS/PHRASES INDICATE A COMPETITOR:\n- \"We certify...\"\n- \"We audit...\"\n- \"We assess compliance...\"\n- \"Provide certification services...\"\n- \"Compliance auditing...\"\n- \"We validate compliance...\"\n- \"Attestation services...\"\n- \"We verify compliance...\"\n- \"Compliance verification services\"\n- \"We perform compliance audits\"\n- \"Certification authority\"\n- \"Authorized compliance assessor\"\n\n## CLASSIFICATION RULES\n\n### IMMEDIATE DISQUALIFIERS\n- Any organization with .edu or .gov domain → DO NOT CLASSIFY\n- Any organization providing IT compliance audits or certifications → COMPETITOR\n- Organizations with no meaningful connection to IT, security, or compliance → NOT PARTNER\n- Manufacturing companies without audit services → NOT COMPETITOR\n- Financial institutions with only internal compliance → NOT COMPETITOR\n\n### COMPETITOR IDENTIFICATION\nA company is ONLY a competitor if they EXPLICITLY list services that:\n- Provide compliance audit/certification services to other companies\n- Market themselves as compliance auditors\n- Offer formal IT compliance assessments to external clients\n\nMust see these services clearly listed - no assumptions or hypotheticals.\n\n### PARTNER IDENTIFICATION\nA company must meet at least ONE of these criteria to be classified as a PARTNER:\n\n1. Direct Service Complementarity:\n   - Provides compliance readiness or preparation services\n   - Offers cybersecurity implementation or consulting\n   - Provides GRC software platforms\n   - Delivers IT security services or solutions\n   - Implements industry-specific compliant solutions\n\n2. Strong Industry Alignment:\n   - Focus on IT security or risk management\n   - Specializes in regulatory technology\n   - Provides managed security services\n   - Offers data protection solutions\n   - Delivers regulated industry solutions\n\n3. Clear Value Chain Connection:\n   - Services naturally lead to compliance needs\n   - Works with clients likely to need compliance audits\n   - Provides solutions that require compliance validation\n   - Offers complementary risk management services\n\nNOT sufficient for partnership alone:\n- Simply being in the technology sector\n- Having achieved compliance certifications\n- Occasional overlap in client base\n- Basic IT services without security focus\n- Hardware manufacturing, even for regulated industries\n- Being subject to compliance requirements\n- Having internal compliance programs\n- Performing internal audits\n\n## EXAMPLE ANALYSES\n\n### Example 1: Healthcare Technology Provider\n```\nServices Listed:\n- Real-Time Care Intelligence\n- Care coordination\n- Risk reduction\n- Prescription monitoring\n- Behavioral Health\n- Crisis Management\n\nis_partner: TRUE\nis_competitor: FALSE\npartner_reasoning: Provides healthcare technology solutions that require compliance validation. No audit services explicitly listed.\ncompetitor_reasoning: N/A\n```\n\n### Example 2: Clear Competitor\n```\nServices Listed:\n- SOC 2 Audit Services\n- HIPAA Compliance Certification\n- ISO 27001 Assessments\n\nis_partner: FALSE\nis_competitor: TRUE\npartner_reasoning: N/A\ncompetitor_reasoning: Explicitly lists compliance audit and certification services that compete with I.S. Partners' offerings.\n```\n\n### Example 3: Medical Device Manufacturer\n```\nCompany: MedDevice Corp\nServices: Medical device manufacturing, FDA-compliant products, healthcare equipment\n\nis_partner: FALSE\nis_competitor: FALSE\npartner_reasoning: Manufacturing medical devices, even in a regulated industry, does not create sufficient service synergy for partnership.\ncompetitor_reasoning: N/A\n```\n\n### Example 4: Large Financial Institution\n```\nCompany: Global Bank Corp\nServices: Commercial banking, investment services, risk management, internal compliance\n\nis_partner: FALSE\nis_competitor: FALSE\npartner_reasoning: While operating in financial services with robust internal compliance, they do not provide complementary services that create partnership opportunities. Their focus is on banking services, not IT or security solutions.\ncompetitor_reasoning: N/A\n```\n\n### Example 5: Financial Technology Provider\n```\nCompany: FinTech Solutions Inc\nServices: Payment processing, banking software, regulatory reporting tools\n\nis_partner: TRUE\nis_competitor: FALSE\npartner_reasoning: Provides financial technology solutions that require compliance validation and creates natural partnership opportunities through clients needing compliance audits.\ncompetitor_reasoning: N/A\n```\n\n## OUTPUT FORMAT\nFor each company analyzed, provide these specific fields:\n\nis_partner: [TRUE/FALSE]\nis_competitor: [TRUE/FALSE]\npartner_reasoning: [Detailed explanation if marked as partner, or \"N/A\" if not]\ncompetitor_reasoning: [Detailed explanation if marked as competitor, or \"N/A\" if not]\n","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-17100,960],"id":"64df878d-a034-4944-b88d-07397a530f51","name":"Competitor/Partner Classification","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-17120,1180],"id":"1ba20b44-204b-4a14-b602-56c086d067f8","name":"Competitor/Partner Classification Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"is_partner\": \"TRUE\",\n\t\"is_competitor\": \"FALSE\",\n    \"partner_reasoning\":\"\",\n    \"competitor_reasoning\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-16900,1180],"id":"f011ce40-eebf-49a9-8169-b0589824e7ce","name":"Competitor/Partner Parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Combining Contact non-public information').item.json\nconst object = {\n  is_partner: $json?.output?.is_partner || \"\",\n  is_competitor: $json?.output?.is_competitor || \"\",\n  partner_reasoning: $json?.output?.partner_reasoning || \"\",\n  competitor_reasoning: $json?.output?.competitor_reasoning || \"\"\n}\n\noriginal.company_info.competitor_partner_classification = object\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-16740,960],"id":"5be646f3-d589-4b49-a588-c61a0392b0d5","name":"Adding Competitor Partner Classification"},{"parameters":{"promptType":"define","text":"=# AUTHORIZED FRAMEWORKS\nOnly these exact frameworks and certifications are authorized.  Any framework or certification not on this list is not authorized.\n\n* SOC 1\n* SOC 2\n* SOC 3\n* ISO 27001\n* HIPAA\n* PCI DSS\n* HITRUST\n* NIST AI RMF\n* HITRUST AI RMF\n* NIST AI Risk Management\n* NIST Cybersecurity for IoT\n* ISO 42001\n* ISO 50001\n* CMMC\n* CCPA\n* GDPR\n* GLBA\n* FISMA\n* MAR/SOX\n* MARS-E\n* NERC\n* NYDFS\n* NIST CSF\n* NIST SP 800-53\n# FRAMEWORK ANALYSIS \n{{ $json.company_info.framework_review.analysis_summary }}\n\n\n#TASK \nLet's extract the authorized frameworks from the analysis.  Your goal is to provide a response that tells us what authorized frameworks or certifications a company has based ONLY on the analysis provided.   Do not do any additional research.\n# OUTPUT\n- Your output only consists of the authorized frameworks.  \n- Use a comma to seperate multiple authorized frameworks.  \n- Do not include an explanation, context or any additional text. \n- If there are no authorized frameworks found, your response will be \"Not Found\"\n## OUTPUT EXAMPLE\n- For example, if the analysis includes ISO 9001 and ISO 45001, your output will be:  Not Found. \n- For example, if the analysis includes ISO 27001, ISO 17100, SOC 1, SOC 2, ISO 13485 and HITRUST, your response will be: ISO 27001, SOC 1, SOC 2, HITRUST\n- If there are no authorized frameworks in the analysis, your output will be: Not Found","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-8220,960],"id":"52e358a6-4d77-4fd9-9b1a-9c74d7dbf2df","name":"Confirmed Frameworks (Primary)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-8260,1180],"id":"9666922c-349a-4bb8-ac04-b8b20c0a5653","name":"OpenAI Chat Model - Confirmed Frameworks (Primary))","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Combining Framework Review').item.json\nconst confirmed_frameworks_primary = $json?.output || \"\"\n\noriginal.company_info.framework_review.confirmed_frameworks_primary = confirmed_frameworks_primary\n\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-7860,960],"id":"5d82bab5-c56e-49ca-8711-35cc1b9626ec","name":"Adding Confirmed Frameworks (Primary)"},{"parameters":{"promptType":"define","text":"=# Framework Extraction Analysis\n\n### ROLE\nYou are a framework and certification extraction specialist who identifies any and all frameworks, certifications, or compliance standards that are not in our authorized list.\n\n### AUTHORIZED FRAMEWORKS\nOnly these exact frameworks and certifications are authorized. Any framework or certification not on this list is not authorized:\n\n* SOC 1\n* SOC 2\n* SOC 3\n* ISO 27001\n* HIPAA\n* PCI DSS\n* HITRUST\n* NIST AI RMF\n* HITRUST AI RMF\n* NIST AI Risk Management\n* NIST Cybersecurity for IoT\n* ISO 42001\n* ISO 50001\n* CMMC\n* CCPA\n* GDPR\n* GLBA\n* FISMA\n* MAR/SOX\n* MARS-E\n* NERC\n* NYDFS\n* NIST CSF\n* NIST SP 800-53\n\n### EXCLUSION RULES\nDo NOT extract or include in your output any mention of authorized frameworks, even when they appear as:\n1. Service offerings (e.g., \"HIPAA compliance services\")\n2. Compliance statements (e.g., \"HIPAA compliant\", \"PCI DSS compliance\")\n3. Product features (e.g., \"HIPAA-ready\", \"PCI DSS certified\")\n4. Consulting services (e.g., \"HIPAA consulting\", \"PCI consulting\")\n5. Implementation services (e.g., \"SOC 2 implementation\")\n6. With variations in spacing or punctuation\n7. Combined with other terms\n8. In any other context or variation\n\n### EXTRACTION RULES\n1. Extract any framework, certification, or compliance standard that:\n   - Is completely unrelated to anything in the authorized list\n   - Is an industry-specific standard not in the authorized list\n   - Is a facility or process certification\n   - Is a quality management standard not in the authorized list\n   - Contains terms like \"certified\", \"compliant\", \"compliance\", \"standards\" but is unrelated to authorized frameworks\n\n2. Include frameworks even when they appear as:\n   - Part of a larger description\n   - With or without version numbers\n   - With varying capitalization\n   - With or without spaces/hyphens\n\n### INPUT\nAnalysis Summary: {{ $json.company_info.framework_review.analysis_summary }}\nConfirmed Frameworks: {{ $json.company_info.framework_review.confirmed_frameworks }}\n\n\n### TASK\n1. Review all input fields for mentions of frameworks, certifications, and compliance standards\n2. Identify only those that are completely unrelated to the authorized frameworks list\n3. Exclude any mention of authorized frameworks, regardless of context or variation\n4. Extract the exact wording used for unauthorized frameworks\n\n### OUTPUT FORMAT\n- List unauthorized frameworks separated by commas\n- Use exact wording from the input\n- Do not include explanations or context\n- Respond with \"Not Found\" if no unauthorized frameworks are mentioned\n- Do not include variations of authorized frameworks\n\n### EXAMPLES\nInput: \"They maintain ISO Certified Cleanroom standards and follow cGMP requirements. They also offer HIPAA compliance services and PCI DSS consulting.\"\nOutput: ISO Certified Cleanroom, cGMP\n\nInput: \"The company provides HIPAA compliance services and PCI DSS implementation assistance.\"\nOutput: Not Found\n\nInput: \"Their facility is FDA registered and follows ISO 9001:2015 quality standards.\"\nOutput: FDA registered, ISO 9001:2015\n\n### OUTPUT\n[Your findings here]","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-7640,960],"id":"45b707ad-3b63-4424-a6a6-43ebabe9d031","name":"Confirmed Frameworks (Secondary)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-7660,1180],"id":"8f4e1c99-1b0c-4499-82a6-3913171558ba","name":"OpenAI Chat Model - Confirmed Frameworks (Secondary)","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Confirmed Frameworks (Primary)').item.json\nconst confirmed_frameworks_secondary = $json?.output || \"\"\n\noriginal.company_info.framework_review.confirmed_frameworks_secondary = confirmed_frameworks_secondary\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-7280,960],"id":"80e681cf-aa3b-40a7-b7f4-cb9a4c0e080e","name":"Adding Confirmed Frameworks (Secondary)"},{"parameters":{"content":"# Competitor / Partner Classification\n","height":660,"width":940},"type":"n8n-nodes-base.stickyNote","position":[-17300,700],"typeVersion":1,"id":"cc885ec4-b742-4d7e-92c6-94d4c8609529","name":"Sticky Note5"},{"parameters":{"content":"# AUDITOR / GRC TOOLS\n","height":660,"width":680},"type":"n8n-nodes-base.stickyNote","position":[-9720,700],"typeVersion":1,"id":"1f3460be-3282-4881-be4d-9eb45062cfba","name":"Sticky Note7"},{"parameters":{"content":"# Find Compliance Frameworks\n\n","height":660,"width":2900},"type":"n8n-nodes-base.stickyNote","position":[-9020,700],"typeVersion":1,"id":"49091744-2ca8-40a0-ad15-4634db6185c0","name":"Sticky Note11"},{"parameters":{"content":"# Company Name Normalized\n","height":660,"width":640},"type":"n8n-nodes-base.stickyNote","position":[-24420,700],"typeVersion":1,"id":"175e14df-e419-4174-84ab-8d3b6ce75697","name":"Sticky Note15"},{"parameters":{"promptType":"define","text":"=You are tasked with normalizing a company name based on the following rules:\n1. **Preprocess the Name:**\n   - Strip any leading or trailing spaces from the company name.\n2. **Remove Legal Designations:**\n   - Remove any legal designations at the end or beginning of the company name, such as:\n     - Inc, LLC, Ltd, Limited, Corp, Corporation, Co, Company, LLP, LP, PLC, PC, PLLC, PA.\n     - This also applies to legal designations in any form with or without punctuation (e.g., Inc., Inc, etc.).\n3. **Remove Generic Business Descriptors:**\n   - Remove any generic business terms, especially if they appear at the end of the company name:\n     - Examples: Group, Holdings, Media, Solutions, Services, Systems, Technologies, International, Associates, Partners, Enterprises, Industries, Global, Network, Investment, Ventures, Consulting, Logistics, Management.\n\n4. **Simplify Educational Institutions:**\n   - If the company name contains keywords like \"university\", \"college\", \"institute\", or \"school\", simplify the name to include only the core institution name and the relevant keyword.\n   - Example: \"Harvard University School of Engineering\" becomes \"Harvard University\".\n\n5. **Handle Religious Organizations:**\n   - If the name contains religious keywords like \"church\", \"temple\", \"mosque\", \"synagogue\", \"ministry\", or \"chapel\", truncate the name to include only the first six words.\n   - Example: \"First Baptist Church of the Holy Savior\" becomes \"First Baptist Church\".\n\n6. **Handle Government Departments:**\n   - If the company name includes government-related keywords like \"department\", \"agency\", \"bureau\", \"office\", or \"administration\", truncate the name to the first eight words.\n   - Example: \"Department of Health and Human Services Office of Public Affairs\" becomes \"Department of Health and Human Services\".\n\n7. **Normalize Capitalization:**\n   - Ensure proper capitalization for each word in the company name.\n   - Maintain full uppercase for known abbreviations or acronyms like \"IBM\", \"NYC\", \"USA\", and \"UK\".\n   - For other words, capitalize the first letter unless the word is already in uppercase and is not an acronym.\n\nReturn the normalized company name following these rules.\n<Company Name>\n {{ $json.company_info.name }}","options":{"systemMessage":"You are an AI tasked with normalizing company names. Your job is to apply a set of rules to clean and standardize company names.  These rules involve removing legal designations, unnecessary business descriptors, handling special cases for educational institutions, religious organizations, and government departments, and ensuring proper capitalization. Always return the company name in a clean, standardized format according to the provided rules.\n\nIMPORTANT: Do not explain your response.  Your output will be the normalized company name. "}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-24360,1020],"id":"50b3cdb6-05c8-4a9f-9033-cf6504f162a5","name":"Company Name Normalized","alwaysOutputData":true},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-24360,1220],"id":"45d456db-22be-4407-bd43-763fcb16b011","name":"OpenAI Chat Model - Company Name Normalized","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Prospect final structure').item.json\nconst normalized_company_name = $json.output || \"\"\noriginal.company_info.name_normalized = normalized_company_name\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-24000,1020],"id":"f4f29c94-b332-4118-aa8d-cb8640600477","name":"Adding Normalized Company Name"},{"parameters":{"content":"# Job Title Normalized","height":660,"width":640},"type":"n8n-nodes-base.stickyNote","position":[-23760,700],"typeVersion":1,"id":"689edde6-1601-4292-8052-ea37f2a3f654","name":"Sticky Note16"},{"parameters":{"promptType":"define","text":"=You are tasked with normalizing a job title based on the following rules:\n\n1. **Remove Trailing Phrases:**\n   - If the job title has trailing phrases starting with prepositions like \"at\", \"for\", \"with\", \"by\", or \"in\", remove everything starting from these prepositions.\n   - Example: \"Marketing Manager at Acme Corp\" becomes \"Marketing Manager\".\n\n2. **Extract Main Area of Responsibility:**\n   - If the job title includes terms related to areas of responsibility like \"Cloud\", \"Security\", \"Marketing\", or \"Finance\", extract and retain the key term. Use the first two words if no key term is found.\n   - Example: \"Director of Cloud Infrastructure\" becomes \"Director of Cloud\".\n\n3. **Handle Multiple Titles:**\n   - If the job title includes multiple roles or titles separated by \"and\" or \"&\", retain only the first role.\n   - Example: \"Head of Sales and Marketing\" becomes \"Head of Sales\".\n\n4. **Remove Common Prefixes:**\n   - Remove common prefixes such as \"Senior\", \"Junior\", \"Lead\", \"Principal\", \"Global\", \"Associate\", \"Assistant\".\n   - Example: \"Senior Product Manager\" becomes \"Product Manager\".\n\n5. **Simplify Titles:**\n   - Replace full titles with their commonly abbreviated versions:\n     - \"Chief Executive Officer\" becomes \"CEO\".\n     - \"Chief Technology Officer\" becomes \"CTO\".\n     - \"Chief Financial Officer\" becomes \"CFO\".\n     - \"Chief Operating Officer\" becomes \"COO\".\n     - \"Chief Marketing Officer\" becomes \"CMO\".\n     - \"Chief Information Officer\" becomes \"CIO\".\n     - \"Vice President\" becomes \"VP\".\n     - Example: \"Chief Financial Officer\" becomes \"CFO\".\n\n6. **Limit Word Count:**\n   - Limit the job title to a maximum of five words to keep it concise.\n   - Example: \"Senior Vice President of Global Marketing\" becomes \"Vice President of Marketing\".\n\n7. **Remove Redundant Words:**\n   - Remove standalone redundant words such as \"The\", \"I&D\", \"Licensed\", or \"Va\".\n   - Example: \"Licensed Manager\" becomes \"Manager\".\n\n8. **Remove Taglines:**\n   - If the job title includes promotional or tagline-like phrases such as \"Helping\", \"Building\", \"Creating\", \"Providing\", discard the entire title.\n   - Example: \"Helping Companies Grow\" becomes an empty string.\n\n9. **Normalize Capitalization:**\n   - Convert the job title to title case (capitalize the first letter of each word), while keeping certain abbreviations in uppercase (e.g., CEO, CTO).\n   - Example: \"senior engineer at ibm\" becomes \"Engineer at IBM\".\n<Job Title to Normalize>\n {{ $json.user_info.role }}\n\n\n\n<output>\nRespond with a JSON object.  The key fields will correspond to an output.  Format the JSON output like the example.  Only use multiple values in an array when your output has multiple values related to a key. The value can be a word, sentence or any string and it's capitalization should remain as you intended the output to be.  \nExample: \n{\n\"work_title_normalized\": \"value\"\n\n}\n","hasOutputParser":true,"options":{"systemMessage":"You are an AI tasked with normalizing job titles. Your job is to apply a set of rules to clean and standardize job titles. These rules involve removing trailing phrases, simplifying titles, handling multiple roles, removing unnecessary prefixes, and normalizing capitalization. Always return the job title in a clean, standardized format according to the provided rules."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-23640,1020],"id":"6b11e2df-62d1-4410-8a87-f41d54adaf35","name":"Job Title Normalized","alwaysOutputData":true},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-23640,1220],"id":"674858ee-8b11-4989-a295-778c538d948c","name":"OpenAI Chat Model - Job Title Normalized","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"work_title_normalized\": \"IT Admin\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-23420,1220],"id":"e28fec8c-f7e3-46f6-8733-e9530a8d37af","name":"Structured Output Parser - Job Title Normalized"},{"parameters":{"jsCode":"let original = $('Adding Normalized Company Name').first().json\nconst normalized_job_title = $input.first().json?.output?.work_title_normalized || \"\"\n\noriginal.user_info.role_normalized = normalized_job_title\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-23280,1020],"id":"b8418711-2390-494b-8642-84750397ccd7","name":"Adding Normalized Job Title"},{"parameters":{"content":"# Personalization","height":660,"width":7620},"type":"n8n-nodes-base.stickyNote","position":[-2840,700],"typeVersion":1,"id":"e41075c5-d014-4d27-aa13-a2a0e62b4171","name":"Sticky Note13"},{"parameters":{"promptType":"define","text":"=# Task\nWrite the opening line of a cold email to a prospect. This line must:\n- Show you've done your homework about their company\n- Give a clear reason why you're reaching out now\n- Sound like a real person having a conversation\n- Be short and written at a 4th grade level\n\n# Input\n\n## About I.S. Partners\n### Location:  Horsham, PA (Outside of Philadelphia)\n### Description: I.S. Partners is a premier IT Compliance and Cybersecurity firm dedicated to helping companies secure their networks and data while achieving industry and government regulatory compliance and certification. With nearly two decades of experience, we specialize in providing comprehensive solutions that meet regulatory requirements and enhance our clients' overall security posture.\n### Services: \nWe offer a wide range of services and solutions across various frameworks:\n\nSOC 1, SOC 2, and SOC 3\nSOC for Cybersecurity\nHIPAA/HITECH and HITRUST\nPCI DSS\nISO 27001\nISO 42001\nISO 50001\nCMMC\nCCPA and GDPR\nGLBA\nFISMA\nMAR/SOX\nMARS-E\nNERC\nNYDFS\n\nNIST AI RMF\nISO 42001\nHITRUST AI RMF\n\nNIST CSF\nNIST SP 800-53\nNIST Cybersecurity for IoT\nNIST AI Risk Management\n\nPenetration Testing\nRisk Assessments\n\nInternal Audit\nIT Compliance & Certification\nAgreed Upon Procedures\n\n## Prospect Info\n\n### About: \n- Company name: {{ $json.company_info.name_normalized }}\n- Industry: {{ $json.company_info.industry }}\n- Specialities: {{ $json.company_info.specialities }}\n- What they do: {{ $json.company_info.description }}\n- Location: {{ $json.company_info.location.city }}{{ $json.company_info.location.state }}\n- Employees: {{ $json.company_info.size }}\n- Latest funding round: {{ $json.company_info.funding.latest_round_year }}\n- Latest funding amount: {{ $json.company_info.funding.latest_round_amount }}\n### Positive News (If any)\n- Type of news: {{ $json.company_info.positive_article.category }}\n- Recent positive news: {{ $json.company_info.positive_article.summary }}\n- Positive impact on company: {{ $json.company_info.positive_article.outcomes }}\n- Local impact on community: {{ $json.company_info.positive_article.local_impact }}\n- Impact on employees: {{ $json.company_info.positive_article.employee_reaction }}\n\n\n### Compliance Frameworks\n- Current compliance frameworks (if any): {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n\n# Writing Rules\n- Write in a conversational, casual yet direct tone.\n- Write at a 4th grade reading level using simple words and a short sentences.\n- Keep it short and punchy (1 sentence max)\n- Be genuinely interested, not fake-excited\n- OK to use casual writing (abbreviations, dashes, etc)\n- Do not use jargons or colorful adjectives and verbs\n- No adjectives unless absolutely needed\n- Mimic a real-life human conversation\n\n# Response Format\nChoose the appropriate template based on available information:\n\n## Scenario 1: Has Positive News\nTemplate:\n\"I was researching {{ $json.company_info.name }}  and saw [[news topic]] - [[quick genuine reaction]]\"\n\nQuick genuine reactions should:\n- short, direct and to the point\n- Connect to business impact (\"this will help you...\")\n- Stay grounded and realistic\n- Avoid overused phrases like \"congratulations\" or \"amazing\"\n- Use casual language like \"love seeing\" or \"I love this\"\n- You can say that the news relates to you, along with why, if it makes sense\n- Adjust tone based on news age (\"just saw\" for recent, \"was reading about\" for older)\n- written at a 4th grade level using simple words\n\nExamples by industry:\n- Healthcare: \"...helping doctors make faster decisions - that's literally life saving work - love it!\"\n- Fintech: \"...making investing easier for everyone - I'm not the \"saviest\" investor so that resonates with me\"\n- Tech: \"...launching that new AI platform - love seeing local companies innovate like this!\"\n\n## Scenario 2: Has Frameworks (No News)\nTemplate:\n\"I noticed {{ $json.company_info.name }} already has [[framework(s)]] in place - [[quick framework comment]]\"\n\nFramework comments should:\n- Connect to their business type\n- Acknowledge it as a smart decision\n- Mention multiple frameworks only if relevant\n- Stay casual and genuine\n\nExamples:\n- Single framework: \"noticed you've got SOC 2 in place - smart move.\"\n- Multiple frameworks: \"saw you're running SOC 2 + ISO together - I know it's difficult and time consuming mapping those controls.\" \n\n## Scenario 3: No News, No Frameworks\nTemplate:\n\"I noticed {{ $json.company_info.name }} is [[what they do]] in [[location]] - [[quick impact comment]]\"\n\nImpact comments should:\n- Focus on their core business value\n- Acknowledge real-world impact\n- Stay genuine and grounded\n- Connect to local community if relevant\n\nExamples:\n- Healthcare: \"noticed you're helping seniors live alone at home and that hits close to home for me.\"\n- Tech: \"saw how you're making AI accessible for small businesses - that's clutch!\"\n\n# Output\nProvide a single opening line following the appropriate template above. Do not explain your choice or provide multiple options.\n\n# IMPORTANT\n- Write at a 4th grade level using simple words and short sentences \n- Mimic a humans conversational tone\n\n","options":{"systemMessage":"You are a compliance sales professional who helps companies manage their IT compliance frameworks. You write in a casual, friendly way that makes complex compliance topics easy to understand. Your goal is to start genuine conversations, not to push sales.\n\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-2700,940],"id":"e10cbc8e-b7ff-4175-96ba-53fd3f2e2c9b","name":"Opening Sentence","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-2720,1160],"id":"cbe5704c-ea0d-4e1f-bd9c-dbf255d0b96a","name":"OpenAI Chat Model - Opening Sentence","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"promptType":"define","text":"=#COMPANY INFO\nThis is the name of the company: {{ $json.company_info.name }}\n# TASK\nScrape the web to determine:\n1.  How much a company raised from from all its rounds of funding. \n2. The year of the latest round of funding\n3. The amount of the latest round of funding\n# IMPORTANT\nIf you can find the information, only output the amount they raised, the year of the latest round of funding and the amount of the latest round of funding. If you cannot determine any of the information, output Not found.","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-20080,1020],"id":"9d178cf5-e07c-4149-88c0-5be0baa0c60a","name":"Funding","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-20100,1240],"id":"a032e06d-76f7-468b-99f6-19fefad5e1f8","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"result\": \"\",\n\t\"latest_round_year\": \"\",\n    \"latest_round_amount\": \"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-19880,1220],"id":"d20c405b-0215-4eda-9fa7-3208f47c053a","name":"Structured Output Parser - Company Funding"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original =  $('Combining Company info. data').item.json\nconst funding = {\n  latest_round_year: $json?.output?.latest_round_year || \"\",\n  latest_round_amount: $json?.output?.latest_round_amount || \"\",\n  result: $json?.output?.result || \"\"\n}\noriginal.company_info.funding = funding\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-19720,1020],"id":"e03d866c-5ff1-43b5-a7dd-ce9c96fe4e2e","name":"Adding Funding To Company"},{"parameters":{"promptType":"define","text":"=Scrape the web to find a recent positive news article for the company {{ $json.company_info.name }}(domain:{{ $json.company_info.domain }}).  The article must be no older than January 1st 2025.   If you find any article with a positive headline about this company, output only the url to the article. \n\nIMPORTANT ! - If not article URL was found return emtpy strings as it's URL.\n\n\n--- Output Structure ---\nYour Output should look like this:\n{\n\t\"article_url\": \"https://www.ispartnersllc.com/soc-audits/soc-1-services/\"\n}","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-19500,1020],"id":"ffb0c2ff-5901-4342-a35f-9431eb0eb013","name":"Company Positive Article","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-19520,1220],"id":"aa0981b6-01d1-421f-8c31-5257c1466c7a","name":"OpenAI Chat Model - Company Positive Article","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"article_url\": \"https://www.ispartnersllc.com/soc-audits/soc-1-services/\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-19280,1220],"id":"75566655-e298-444a-b59c-88d9329507a0","name":"Structured Output Parser - Positive Article URL"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Funding To Company').item.json\noriginal.company_info.positive_article = {}\noriginal.company_info.positive_article.url = $json.output.article_url || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-19140,1020],"id":"048c35bc-aec5-4a3e-afe0-ce63a2494579","name":"Adding positive article URL"},{"parameters":{"promptType":"define","text":"=# News Article\nArticle URL: {{ $json.company_info.positive_article.url ? $json.company_info.positive_article.url : \"Not Found\"  }}\n#Task\nLet's analyze the news article and provide the following:\n1. Short summary of the article\n2. Classify the news in a category so that our team understands the main focus.  For example, is the focus of the article about a merger, sale, investment, new hire, acquisition, good will, event, new service or product, etc. \n3. Let's celebrate this positive news by finding the three best possible outcomes this news or event can bring to {{ $json.company_info.name }}  .\n4. If you work at {{ $json.company_info.name }}, why should you be excited about this move?  \n5. Does this news or event impact the local community? If not, respond with \"No Impact\".  If so, write a sentence that describes the impact. \n\n#Output\n- If no article URL is provided use empty strings in your response \n- Your response will be written at 6th grade level.\n- Your response will be concise, accurate and direct.\n- Speed is not a priority - accuracy is.  Take your time and prioritize accuracy and quality over speed.\n- Your output should be structured as the following object:\n{\n\t\"article_summary\": \"\",\n\t\"article_category\":\"\",\n    \"article_outcomes\":\"\",\n    \"article_employee_reaction\" : \"\",\n    \"article_local_impact\":\"\"\n}\n- Example of the output object if no URL is provided:\n{\n\t\"article_summary\": \"\",\n\t\"article_category\":\"\",\n    \"article_outcomes\":\"\",\n    \"article_employee_reaction\" : \"\",\n    \"article_local_impact\":\"\"\n}\n-","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-18920,1020],"id":"2b7a2641-bdd7-451a-b1b2-cf5094991155","name":"Positive Article Analysis","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-18940,1220],"id":"ce820f35-7b7a-4da9-9d5a-1c7cb27ed903","name":"OpenAI Chat Model - Positive Article Analysis","credentials":{"openAiApi":{"id":"4CyHGYBXbo8hGpRr","name":"searchactions.com: outeredge.biz - Website Visitor Enrichment"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"article_summary\": \"\",\n\t\"article_category\":\"\",\n    \"article_outcomes\":\"\",\n    \"article_employee_reaction\" : \"\",\n    \"article_local_impact\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-18720,1220],"id":"822000a3-4047-46cf-9111-63695b16e05e","name":"Structured Output Parser - Positive Article Analysis"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original =  $('Adding positive article URL').item.json\noriginal.company_info.positive_article.summary = $json?.output?.article_summary || \"\"\noriginal.company_info.positive_article.category = $json?.output?.article_category || \"\"\noriginal.company_info.positive_article.outcomes = $json?.output?.article_outcomes || \"\"\noriginal.company_info.positive_article.employee_reaction = $json?.output?.article_employee_reaction || \"\"\noriginal.company_info.positive_article.local_impact =$json?.output?.article_local_impact || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-18560,1020],"id":"1a8352b9-60f4-4425-9dee-ce475ff05882","name":"Adding Article Analysis"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Prospect Report').item.json\noriginal.personalization = {}\noriginal.personalization.sentence_opening = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-2340,940],"id":"cf45b835-c8eb-46a6-86da-dae6b9f3f664","name":"Adding Opening Sentence"},{"parameters":{"promptType":"define","text":"=# Goal \nYou are writing part of a sales email to a prospect.  The goal of this task is to write a two sentence bridge that connects the existing opening line of the email to a specific compliance problem and the pain that problem causes the business.  The two  sentences will be short and direct, with a clear cause and effect between them.\n\n# Writing Guidelines\n\n## Core Style Elements\n* Write at a 4th grade reading level\n* Use natural, conversational language\n* Keep sentences short and direct\n* Use casual abbreviations (b/c, w/, +)\n* Be confident and precise\n* OK to use exclamation points and occasional caps for emphasis\n\n## Language Do's and Don'ts\n\n### DO:\n* Use specific industry terms\n* If the specific frameworks that have are mentioned in the opening line, don't mention them all by name again.  For example, if the opening line says \"I noticed [[company name]] already has SOC 1, SOC 2, PCI DSS...\" then your bridge will refer to these frameworks as \"these frameworks\". \n* Mention team size when relevant\n* Use confident language when speaking about facts (\"means\", \"requires\", \"brings\")\n* Use less confident language when you are unsure (\"could\", \"may\", \"possibly\")\n* Use neutral terms (\"spent on\", \"dedicated to\", \"needed for\")\n* Be specific (\"security requirements\", \"data protection controls\", \"SOC 2 controls\", etc)\n* Prioritize aligning the problem in sentence 1 with the pain it causes in sentence 2.  There must be a direct connection.  This is critical.\n* If the opening line states that  {{ $json.company_info.name }} has ISO 27001 and SOC 2 frameworks, you will speak to the benefits of mapping ISO 27001 and SOC 2 controls:  Identify overlapping controls, removing redundant work and cutting down the time required from your team.   \n\n### DON'T:\n* Use corporate jargon or buzzwords\n* Show uncertainty (\"might\", \"could\", \"maybe\") UNLESS the fact you are stating is subjective, unknown or depends on other factors or variables that are not known.\n* Use negative language (\"lost to\", \"waste\", \"burden\")\n* Be vague (\"compliance rules\", \"extra requirements\")\n* Use emojis\n* Be overly enthusiastic\n* Use unnecessary adjectives\n* Use \"I think...\" statements\n* Make up information\n\n## Examples\n\nWRONG:\n```\n\"I'm reaching out b/c the new partnership might bring extra compliance rules your small team has to follow.\"\n- Uses uncertainty (\"might\")\n- Vague (\"extra compliance rules\")\n- Generic language\n```\n\nRIGHT:\n```\n\"I'm reaching out b/c partnering with institutional data providers means new security requirements to manage.\"\n- Confident (\"means\")\n- Specific (\"security requirements\")\n- Industry-relevant (\"institutional data\")\n```\n\n\n# Format\nTwo sentence bridge that follows this opening line in the email: {{ $json.personalization.sentence_opening }}\n# Required Input\n* First sentence (Personalized Opener): {{ $json.personalization.sentence_opening }}\n* Company name: {{ $json.company_info.name }}\n* Industry: {{ $json.company_info.industry }}\n* Company description/what they do: {{ $json.company_info.report }}\n* Frameworks they have (if known): {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n* News article summary (if exists): {{ $json.company_info.positive_article.summary }}\n* Type of news: {{ $json.company_info.positive_article.category }}\n* Impact on employees: {{ $json.company_info.positive_article.employee_reaction }}\n* Impact on community: {{ $json.company_info.positive_article.local_impact }}\n* Size of company: {{ $json.company_info.size }}\n* Latest round of funding: {{ $json.company_info.funding.latest_round_year }}\n* Amount of latest round of funding: {{ $json.company_info.funding.latest_round_amount }}\n\n# Pain Points to Include (Use One)\n* Time costs (specific hours per week/month/quarter)\n* Resource requirements (specific team members needed)\n* Revenue impact (delays in deals/partnerships)\n* Team burden (specific tasks/documentation requirements)\n* Compliance costs (audit preparation, certification costs)\n\n# Example Outputs By Scenario\n\n## Has News + No Framework:\n```\nFirst Line: \"I did some research on [[company name]] and saw an article about your acceptance of Medicaid - love seeing how you're making therapy more accessible.\"\n\nBridge Output:\nSentence one: \"I'm reaching out b/c accepting Medicaid means new rules to protect patient info.\"\nSentence two: \"This means your team could spend a ton of time each month just documenting HIPAA procedures and prepping for audits.\"\n```\n\n## Has News + Has Framework:\n```\nFirst Line: \"I saw [[company name]] acquired StarCite - great move!\"\n\nBridge Output:\nSentence one: \"I'm reaching out b/c mergers mean bringing different compliance programs together. \nSentence two: \"Most companies spend 3-4 months aligning their SOC 2 controls after an acquisition.\"\n```\n\n## No News + Has Framework:\n```\nFirst Line: \"I noticed you already have SOC 2 in place - smart move!\"\n\nBridge Output:\nSentence one: \"I'm reaching out b/c maintaining SOC 2 takes up a ton of dev time.\"\nSentence two: \"Most teams spend 40+ hours each quarter just gathering evidence and preparing for audits.\"\n```\n\n## No News + No Framework:\n```\nFirst Line: \"I noticed [[company name]] helps investment managers make better decisions - that's important work!\"\n\nBridge Output:\nSentence one: \"I'm reaching out b/c fintech companies need strong security to win those big enterprise clients. Sentence two: \"Most companies take 4-6 months to get compliant, which delays deals.\"\n```\n\n## IMPORTANT - Has ISO 27001 and SOC 2 Frameworks:\nIf the company has ISO 27001 and SOC 2 frameworks, you will ignore the news and use focus on the time and complexity required for mapping controls between these two frameworks.  \n```\nFirst Line: \"I did some research on [[company name]] and see you have SOC 2 & ISO 27001 - great move!\"\n\nBridge Output:\nSentence one: \"I'm reaching out because I know mapping controls between them is a pain - not to mention time consuming.   \nSentence two: \"Most companies spend several months aligning controls like incident response, access management, and encryption to meet both frameworks' requirements.\"\n```\n\n# Key Elements\n* Keep language simple and direct\n* Sound like a real person having a conversation\n* Connect directly to their news/situation or compliance framework(s) when possible\n* Include one specific, measurable pain point\n\n* Make the pain point relevant to their industry and size\n* Sentence 1 - Problem\n* Sentence 2 - Pain point directly related to problem\n* Sentence 1 and Sentence 2 MUST align.\n# Output\n- Write two sentences. \n-- Sentence one will be inserted into the field labeled \"bridge_sentence_1\".  \n-- Sentence two will be inserted into the field labeled \"bridge_sentence_2\".\n- Do not include an explanation, analysis or any other text except for the sentences\n# Important\n- Write at a 4th grade level using simple words and a friendly casual tone that mimics human conversation.\n- You write short, concise and direct sentences that are friendly, helpful and convincing without being false or untruthful\n- The bridge sentences you write will come after this opening line:  {{ $json.personalization.sentence_opening }}\n- The key is making sure the second sentence explains the specific pain of the problem mentioned in the first sentence. They should feel like natural cause and effect.\n\n\n","hasOutputParser":true,"options":{"systemMessage":"You are a friendly, helpful IT compliance consultant who works with companies to make their compliance programs better. You're knowledgeable but not pushy, and you genuinely care about helping companies handle compliance more efficiently. You talk like a real person having a casual business conversation - no corporate speak, no jargon, just straightforward talk.\n\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-2000,940],"id":"2f2a0dc8-5aa0-43f9-904e-3b7934f19922","name":"Bridge","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-2020,1160],"id":"0c23a850-043c-44c0-93d4-4384d5bddae9","name":"OpenAI Chat Model Bridge","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"bridge_sentence_1\": \"\",\n\t\"bridge_sentence_2\": \"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-1800,1160],"id":"b4420822-a6d3-498e-b3a4-e582779e52ca","name":"Structured Output Parser - Bridge"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Opening Sentence').item.json\noriginal.personalization.bridge_sentence_one = $json.output?.bridge_sentence_1 || \"\"\noriginal.personalization.bridge_sentence_two = $json.output?.bridge_sentence_2 || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-1640,940],"id":"274b3672-adbf-45bc-93f2-c22c06dc9f55","name":"Adding Bridge Sentence"},{"parameters":{"promptType":"define","text":"=## Context\nI.S. Partners (ispartnersllc.com) sales team is emailing prospects about helping save time and money on their IT Compliance needs.   This task is part of the process of writing personalized emails to a prospect.\n\n\n\n## Goal\nCreate one sentence that connects:\n1. The prospect's situation (news/changes)\n2. Their compliance frameworks\n3. The pain point mentioned\n4. How I.S. Partners helps\n5. Business benefit to them\n\n## Existing Email:\nHere is the email message you will be adding your sentence to.  Your sentence will be inserted into the [[HOW WE CAN HELP]] section.\n---\nHey there [[NAME]],\n\n{{ $json.personalization.sentence_opening }}\n{{ $('Bridge').item.json.output.bridge_sentence_1 }}\n{{ $('Bridge').item.json.output.bridge_sentence_2 }}\n\n[[HOW WE CAN HELP]]\nCheers!\n[[SENDER NAME]]\n---\n## Writing Style\n* Write at a 4th grade reading level\n* Use natural, conversational language\n* Keep sentences short and direct\n* Avoid corporate jargon and buzzwords\n* Use casual abbreviations (b/c, w/, +)\n* NO emojis or overly enthusiastic language\n* NO adjectives unless absolutely necessary\n* NO \"we think\" or \"we believe\" statements\n* Your sentence will convince the prospect that our solution is the best solution for their company.\n\n## Examples of Good Benefit Sentences:\n```\n\n\"We help companies cut documentation time up to 50% through smart automation and a dedicated team led by a senior auditor. \"\n\nFor companies with multiple frameworks:\n\"We help companies cut compliance time up to 50% by eliminating redundant controls using smart automation and our 20 years of experience.\"\n```\n\n## ABOUT PROSPECT COMPANY\n\n* Company name: {{ $json.company_info.name }}\n* Industry: {{ $json.company_info.industry }}\n* What they do: {{ $json.company_info.report }}\n* Current frameworks: {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n\n## TASK\nWrite the \"How we can help\" email sentence \n## OUTPUT\nYou will respond with one sentence and no additional context or explanation.  ","options":{"systemMessage":"You are a friendly, helpful IT compliance consultant writing a single sentence that shows how I.S. Partners can solve a prospect's specific compliance challenges."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-1320,940],"id":"75d4f200-1a23-4b23-8e57-2f69fc50da2a","name":"How Can We Help - Sentence","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-1340,1160],"id":"f8bad4b6-8fa3-4a5e-92b2-4dd6d95a99e5","name":"OpenAI Chat Model - How Can We Help ?","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Bridge Sentence').item.json\noriginal.personalization.how_can_we_help = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-960,940],"id":"8f283511-b8d4-4289-ab31-073ce9de8e9c","name":"Adding How Can We Help"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-780,1160],"id":"33ef334e-f19c-445e-a7e7-281142ebaaf7","name":"Related Customers","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"promptType":"define","text":"=<INFORMATION>\n- Company Name:  {{ $json.company_info.name_normalized }}\n- Website: {{ $json.company_info.domain }}\n- Industry: {{ $json.company_info.industry }}\n- Specialty:  {{ $json.company_info.specialities }}\n- Description: {{ $json.company_info.report }}\n<TASK>\n{{ $json.company_info.name_normalized }} is a sales prospect.  We must prove that we have worked with other companies in their industry to land a huge deal with them.  Based on the information provided about the prospect, find four current customers in the same industry, or a closely related industry.\n<OUTPUT>\nRespond with the following sentence:\n\"We've done the same for companies like [[CURRENT CUSTOMERS]].\"\nReplace [[CURRENT CUSTOMERS]] with three (3) current customers.  \nFor example, if the industry of the potential customer is Healthcare, your response would be \"We've done the same for companies like Jorie Healthcare, DentaQuest and Intellicure.\"\nIf we do not have three (3) similar customers, then you can respond with one (1) or two (2) customers and format the sentence to match. \n\n<RULES>\n- Do not wrap your response in quotation marks\n- If the industry is not provided for the potential customer, then try to understand what industry they are in from the additional context provided, such as their specialization or the services and products they sell.\n- If you cannot find three (3) related current customers, then include how ever many you can find.  For example, if you can only find one related current customer than respond with \"We've done the same for companies like Mullen Coughlin.\"\nFor example, if you can only find two customers, than respond with \"We've done the same for companies like Mullen Coughlin and Acme.\"\n- Consider the current customer's industry and description to help you determine if it is related to the potential company's industry.  If the industry is not an exact match, consider matching based on closely related industries or on the services each offers.\n- Do not respond with an explanation or additional context.\n- If you are unable to find current customers that match the industry of this potential customer then your output will be: \"We've done the same for companies like Tommy Hilfiger (PVH), Shutterfly and Blue Cross Blue Shield.\" \n- Do not use \"I've\" to begin the sentence.  You will always use \"We've\" to begin the sentence.  This is important.\n\n","options":{"systemMessage":"<ROLE>\nYou are an expert assistant. You will use this list of current customers and their associated industries in your task.\n\nHere's the list of current customers organized by their respective industries:\n\n**Airlines/Aviation**\n- Rocketmiles - A travel rewards platform that allows users to earn miles and points from leading loyalty programs when booking hotels.\n\n**Apparel & Fashion**\n- PVH - A global apparel company known for its iconic brands such as Calvin Klein, Tommy Hilfiger, and Van Heusen.\n\n**Architecture & Planning**\n- Moseley Architects - A well-established architectural firm, providing comprehensive design and planning services for various projects.\n\n**Artificial Intelligence**\n- Bloomreach - A leading AI-driven platform for e-commerce and content management, helping businesses personalize customer experiences.\n- Tact.ai Technologies - Develops AI-powered sales workflow automation solutions to enhance sales productivity and customer engagement.\n- Jorie Healthcare Partners - Jorie offers comprehensive RCM services, including pre-authorization, patient registration, insurance verification, charge capture, and billing, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline these processes.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n**Automotive**\n- Noodoe - A provider of electric vehicle charging solutions, offering a range of charging products and services.\n- Xeal - Known for its innovative electric vehicle charging technology, focusing on smart charging solutions for various applications.\n- Moj.io - Designs, develops, and delivers connected car solutions that transform data into scalable services for partners and their customers.\n\n**Banking**\n- Beacon Financial Services - Personalized financial advice and services in areas such as retirement planning, estate planning, and asset management.\n\n**Biotechnology**\n- MCL Systems - A leading independent laboratory in Alabama, providing extensive laboratory services using state-of-the-art testing equipment.\n\n**BPO**\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n- AnswerNet - A provider of outsourced contact center services, offering a range of solutions including customer service, sales, and technical support.\n\n**Business Intelligence, Market Research, Data Analytics**\n- Datateer - A data analytics and consulting company.\n- Dynata - A company specializing in market research and data analytics solutions.\n- Epic Research - A company specializing in market research and data analytics solutions.\n- ReconMR - A company providing market research and data collection services.\n\n**Business Services/Consulting**\n- American Legal Records - A leading record retrieval company specializing in obtaining all types of records nationwide.\n- 3H Corporate Services - A corporate consulting and compliance company that provides expert services in areas such as corporate compliance reviews, national regulatory research, M&A due diligence, and state department desk and field audit representation and counseling.\n\n**Chemicals**\n- Flotek Industries - A global developer and distributor of advanced technology, including specialty chemicals, systems, and services for the energy and industrial markets.\n\n**Cloud Services & Hosting**\n- IDrive - A cloud storage and backup services company.\n- CyberLynk Network - A technology company offering web hosting, virtual private servers, and dedicated server solutions.\n\n**Collection Services**\n- iQor - A leading provider of business process outsourcing and product support services, specializing in customer interaction and product lifecycle management.\n\n**Commercial Real Estate**\n- CoStar Group - A leading provider of commercial real estate information, analytics, and online marketplaces, serving professionals and businesses.\n\n**Computer Software**\n- Bloomreach - A leading AI-driven platform for e-commerce personalization, enabling personalized marketing, product discovery, content, and conversational shopping.\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences for candidates, recruiters, employees, and managers.\n\n**Construction**\n- Kimball Construction - A Baltimore-based construction company known for self-performing critical portions of its projects, including pile driving, sheeting/shoring, and structural concrete.\n- Cleaver-Brooks - A complete boiler room solutions provider, offering a range of products and services to help businesses run efficiently.\n\n**Consumer Goods**\n- Favor Delivery - A food delivery service.\n- Backyard Adventures - A company specializing in outdoor play equipment.\n- Exceedra - A provider of consumer goods and retail solutions.\n\n**Consumer Services**\n- Bookmed Printing - A printing services company.\n- Image Process Design - A company offering image processing and design services.\n- VMS Group - A provider of consumer services and solutions.\n\n**Cybersecurity, Computer & Network Security**\n- Dynatrace - A leading provider of unified observability and security solutions, helping businesses monitor and secure their full stack on one AI-powered data platform.\n- SOC Prime - Builds collective cyber defense by fusing Detection as Code, Sigma, and MITRE ATT&CK to help teams proactively defend against emerging threats.\n\n**Data Analytics & Marketing Solutions**\n- Fullthrottle.ai - Known for its AI-driven data analytics and marketing solutions.\n- ClosedLoop - A company offering AI-powered marketing and data analytics solutions.\n\n**Data Processing Services**\n- Recordsforce - A company specializing in data processing services.\n\n**Direct Mail and Printing**\n- Cardinal Presort Services - A company offering direct mail marketing and presort services.\n- Polaris Direct - A company offering direct mail marketing and printing services.\n- Direct Mail Depot - A company specializing in direct mail marketing services.\n\n**Education**\n- Frontline Technologies - An education technology company.\n\n**Education Management**\n- Echo360 - An education management company focusing on learning analytics.\n- Folder Wave - A company offering education management solutions.\n\n**Electrical/Electronic Manufacturing**\n- Service Wire - A manufacturer of electrical wire and cable.\n- West Coast Magnetics - A company specializing in magnetic components and assemblies.\n\n**Events Services**\n- Vendelux - An events services company.\n- Vario Productions - A company offering event production services.\n\n**Executive Office**\n- SPS - A company providing executive office services.\n\n**Facilities Services**\n- Service First Medical - A facilities services company specializing in medical facilities.\n- Command Group - A facilities services company offering a range of services.\n- United Systems of Arkansas - A facilities services company based in Arkansas.\n- TELUS Agriculture - A facilities services company focusing on agricultural solutions.\n- NEST International - A facilities services company with international operations.\n- ANRO - A facilities services company providing various services.\n- JLS Mailing Services - A facilities services company specializing in mailing services.\n\n**Financial Services Companies**\n- Broadridge Financial Solutions - A global financial services company providing financial technology solutions.\n- Sun Life Financial - A global financial services company offering insurance and wealth management solutions.\n- Edenred - A financial services company specializing in payment solutions.\n- Ingo Money - A financial services company specializing in digital payment solutions.\n- FullThrottle Technologies - A financial services company providing financial technology solutions.\n\n**Food & Beverages**\n- Waltz Health - A company specializing in health-related food and beverage solutions.\n\n**Furniture**\n- Stylex - A furniture manufacturing company known for its office furniture and seating solutions.\n\n**Gambling & Casinos**\n- Sports Innovation Lab - A company specializing in sports technology and innovation, particularly in the gambling and casino sector.\n\n**Genetic Testing and Diagnostics**\n- Fulgent Genetics - A premier, full-service genomic testing company focused on transforming patient care in oncology, infectious, and rare diseases.\n\n**Healthcare**\n- Undue Medical Debt - A nonprofit that acquires and abolishes medical debts for financially burdened individuals.\n- Sentara Healthcare - A not-for-profit health system recognized for its comprehensive healthcare services.\n- Marshfield Clinic System - A well-known health system that provides a range of healthcare services and insurance products.\n\n**Healthcare Insurance and Financial Services**\n- Elevance Health - A well-known health insurance company recognized for its comprehensive health coverage plans.\n- Blue Cross and Blue Shield of Mississippi - A prominent health insurance provider, part of the larger Blue Cross Blue Shield Association.\n\n**Healthcare Services and Management**\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services for hospitals, health systems, and physician groups.\n- Midwestern University - Known for its comprehensive health care education and community health care services through its multispecialty clinics.\n- MyPlace Health - Provides personalized care and coverage to older adults, enabling them to age safely in their homes and communities through the PACE model.\n\n**Healthcare Staffing and Technology**\n- connectRN - A revolutionary healthcare staffing platform that connects qualified nurses with temporary job opportunities, addressing staffing shortages and improving patient care.\n\n**Hospitality**\n- Trinity Resort Services - A company that provides a comprehensive range of world-class services to the vacation ownership industry, including financial, reservations, and contact center services.\n\n**Human Resources**\n- AmeriBen - A third-party administrator specializing in self-funded health plans and other benefits services.\n- Netchex - A comprehensive Human Capital Management (HCM) solution provider, offering services such as payroll, time and attendance, benefits administration, and performance management.\n\n**Infection Prevention and Disinfection**\n- Tru-D Smart UVC - A leader in UVC disinfection technology, providing intelligent solutions for healthcare facilities to ensure a germ-free environment.\n\n**Information Technology and Services**\n- XL.net - An IT services and solutions provider.\n- The Longleaf Network - A managed IT services provider, offering a range of IT solutions and support services.\n- Snappt - A company that provides AI-powered rental application screening and fraud detection services.\n- Rune Labs - A neurotechnology company focused on developing AI-powered solutions for neurological disorders.\n- Asignet - A provider of IT and telecom expense management services, helping businesses optimize their IT and telecom expenses.\n\n**Insurance**\n- J.B. Lloyd & Associates - A commercial insurance agency that has been serving clients since 1978, focusing on cost-effective risk management solutions.\n- Statewide Underwriting Services - Provides personal and commercial insurance coverage solutions for insurance brokers and agents.\n- MTI America - Offers workers' compensation ancillary healthcare solutions, including transportation, language services, physical medicine, home & catastrophic care, and durable medical equipment.\n- IDEAL3 - Provides strategic and effective claim services with empathy and respect, offering customized solutions for unique claims needs.\n- Alexander & Schmidt - Helps insurance industry partners maximize underwriting profitability by achieving lower loss ratios.\n\n**Internet**\n- USSI Global - A leading provider of network, broadcast, and digital signage services, offering customized solutions for internet providers and broadcasters.\n\n**Investment Management**\n- Brooklyn Investment Group - A white-label managed accounts platform for financial advisors and asset managers, offering custom direct indexing across equities and fixed income.\n- Charter Group Fund Administration - Provides fund administration services for established boutiques, hedge funds, managed accounts, new launches, and crypto funds, offering a cutting-edge platform and quality client service.\n\n**Legal Services**\n- Questel - Offers a full complement of legal operations services, including ELM data integration, legal support services, legal interpretation services, and legal translation services.\n- Segal McCambridge Singer & Mahoney - A law firm providing creative advice and battle-tested trial experience for companies facing high-stakes litigation and business challenges.\n- ILYM Group - Provides consultative expertise, professionalism, and experience in class action administration, legal notification, and media representation.\n- doeLEGAL - Offers legal operations software solutions for ELM and eDiscovery, leveraging innovative LegalTech to optimize team efficiency and cost savings.\n- Mood K Law - A premier defense firm known for its creative, aggressive, and effective defense strategies, coupled with unparalleled client service.\n\n**Leisure, Travel & Tourism**\n- Hershey Entertainment & Resorts - A well-known entertainment and resort company recognized for its comprehensive leisure and tourism services.\n\n**Logistics and Supply Chain**\n- APL Maritime - A global shipping and logistics company with a significant presence in container shipping services and intermodal transportation networks.\n- Bamboo Rose - Specializing in product lifecycle management (PLM) and supply chain technology solutions for retailers.\n- Expedock - A company providing AI-powered logistics and freight management solutions.\n- Lefturn - A logistics and supply chain management company.\n- B2Gnow - Offering supplier diversity and grant management compliance software solutions.\n- Cash Connect - A company specializing in cash management and logistics solutions.\n\n**Management Consulting**\n- AGM Consulting - An information technology services company providing consulting services in virtualized solutions, private and public cloud computing, data management, business continuity, disaster recovery, and complex infrastructure designs.\n- Vision Link Advisors - A compensation design firm helping mid-market companies create and sustain pay strategies that drive business growth.\n- Gr8 People - A company offering human resources and recruitment consulting services.\n- MDaudit - A company specializing in billing compliance and revenue cycle management software for healthcare providers.\n- AB Data - A company providing data management and consulting services.\n- Apex Software Technologies - A company offering software development and consulting services.\n- Paymedia - A company specializing in payment solutions and financial technology.\n- Breakaway Technologies - A company providing technology consulting and solutions.\n\n**Manufacturing**\n- Innovative Solutions and Support - A company designing and manufacturing state-of-the-art avionics technology, including solid-state instruments and flat-panel displays for various aircraft.\n\n**Mechanical or Industrial Engineering**\n- FleetWatcher - A fleet management telematics system designed for construction equipment.\n- M&S Engineering - A full-service engineering firm offering electrical, civil, MEP, survey, and SUE services.\n- Resonac - A chemical company that develops and provides individualized products for various fields.\n\n**Medical Devices**\n- Trividia Health - A leading developer, manufacturer, and marketer of advanced performance products for people living with diabetes.\n- LifeSigns - Offers a wireless multi-patient digital monitoring system that bridges healthcare gaps.\n- ImplantBase - Helps medical device companies eliminate operational blind spots by digitally transforming their performance.\n\n**Oil & Energy**\n- CMC Energy Services - A leading provider of program management, customer engagement, field services, call center support, and engineering for utility customer segments, focusing on energy efficiency and clean energy solutions.\n- EnergyNet.com - A platform for buying and selling oil and gas properties.\n\n**Pharmaceuticals**\n- CaptureRx - Provides 340B third-party administrative services, helping safety net providers and pharmacies achieve their objectives through leading 340B solutions.\n\n**Printing**\n- Presort First Class - A premier OKC printing company offering top-quality printing and friendly customer service, providing a complete array of design, print, and mail services.\n\n**RCM**\n- Jorie Healthcare Partners - Offers comprehensive RCM services, leveraging advanced technologies such as AI and Robotic Process Automation (RPA) to streamline processes.\n- HealthWare Systems - Offers fully integrated, customizable workflow solutions, revenue cycle management, and patient management software.\n- R1 RCM - A leading provider of technology-enabled revenue cycle management services.\n- MDaudit - Specializes in billing compliance and revenue cycle management software.\n\n**Real Estate**\n- Woodbury Capital - A real estate investment and management company.\n- CW Financial Services - A commercial real estate services company offering a range of financial solutions.\n- Entera Holdings - A real estate technology company providing a platform for single-family residential investments.\n- LiquidSpace - A company offering flexible office space solutions.\n- HqO - A real estate technology company providing a platform for office building management and tenant engagement.\n- Hekemian & Co - A real estate development and management company.\n- Harding And Carbone - A property tax consulting firm offering services for commercial and residential properties.\n\n**Real Estate - Property Management**\n- Property Works - A real estate services company specializing in property management and maintenance.\n- Quarem - A real estate services company specializing in property management and leasing.\n\n**Real Estate - Software and Technology**\n- Cherre - A real estate data management and intelligence platform.\n\n**Real Estate - Title Insurance and Escrow**\n- Timios - A real estate services company specializing in title insurance and escrow services.\n\n**Retail**\n- Shutterfly - An online retailer specializing in personalized photo products and services.\n- Logile - A retail technology company providing workforce management and scheduling solutions.\n\n**Robotics**\n- Locus Robotics - Known for its autonomous mobile robots designed for warehouse and logistics applications.\n- Jorie Healthcare Partners - Offers services leveraging advanced technologies such as AI and Robotic Process Automation (RPA).\n\n**Software Development**\n- Phenom People - A global HR technology company delivering a single-platform solution for hyper-personalized experiences.\n- Big Brass Band - A technology company specializing in software development and consulting.\n- Beneration - A technology company specializing in software development and consulting.\n\n**Sporting Goods**\n- Alveo - A company specializing in sporting goods and equipment.\n\n**Technology**\n- Clearview Live - A technology company offering live streaming and video conferencing solutions.\n- Anduin Transact - A technology company providing financial"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-740,940],"id":"fb219b35-88cc-4b3e-baed-1a4c0fe426c8","name":"Related Customers Sentence","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding How Can We Help').item.json\noriginal.personalization.related_customers_sentence = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-380,940],"id":"94724bf4-7fba-4d35-96f5-9fae0bc9282e","name":"Adding Related Customers Sentence"},{"parameters":{"promptType":"define","text":"=\n## Context\nI.S. Partners (ispartnersllc.com) sales team is emailing prospects about helping save time and money on their IT Compliance needs.   This task is part of the process of writing personalized emails to a prospect.\n\n\n\n## Goal\nCreate one closing sentence that entices the prospect to reply or take the next step.\n\n## Existing Email:\nHere is the email message you will be adding your sentence to.  Your sentence will be inserted into the [[CLOSING]] section.\n---\nHey there [[NAME]],\n \n\n{{ $json.personalization.sentence_opening }}\n{{ $json.personalization.bridge_sentence_one }}\n{{ $json.personalization.bridge_sentence_two }}\n{{ $json.personalization.how_can_we_help }}\n[[CLOSING]]\n\nCheers!\n[[SENDER NAME]]\n---\n\n# Closing Sentence Format\n- The sentence will be short, direct and to the point. \n- The sentence should be a call to action or question, asking if the offer is interesting or challenging prospects to request more proof. \n- Match the tone and intent of the rest of the email \n- The CTA shouldn't ask for much effort \n- Asking a question or for the recipient to reply to an email is enough.\n- Use strong language.  Instead of \"trim time and costs\" say \"cut time and costs by 30% or more\"\n## Examples:\n- \"Does this resonate with you, or am I off-topic?\n\"\n- \"Is cutting [[framework]] time and costs important to you or am I off-topic?\" \n- \"Is [[how we can help]] worth a quick call to check what's possible?\"\n- \"Are you interested in cutting time and costs on [[Framework(s)]]?\"\n- \"Worth a convo?\"\n- \"This this could help your team?\"\n- \"Are you open to hearing how IS Partners can help?\"","options":{"systemMessage":"You are a friendly, helpful IT compliance sales rep writing a single sentence that shows how I.S. Partners can solve a prospect's specific compliance challenges. You write in short sentences using simple words at a 4th-grade reading level.  Short emails are a priority. You are a master at getting people to reply or take action."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-160,940],"id":"78278965-9d4a-4f9f-8474-6babc1b610d9","name":"Closing Sentence","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-200,1160],"id":"e8d7c953-8b32-467c-85be-b0316f0560b8","name":"OpenAI Chat Model - Closing Sentence","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original =  $('Adding Related Customers Sentence').item.json\noriginal.personalization.closing_sentence = $json?.output || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[220,940],"id":"7b20dfcf-7b58-4aeb-90d2-7513a8c17066","name":"Adding Closing Sentence"},{"parameters":{"promptType":"define","text":"=# Information\n- Company Name: {{ $json.company_info.name }}\n- Industry: {{ $json.company_info.industry }}\n- Specialities:{{ $json.company_info.specialities }}\n- What they do:{{ $json.company_info.report }} \n- Location: {{ $json.user_info.location.city }} {{ $json.user_info.location.state }} {{ $json.user_info.location.country }}\n- Employees:{{ $json.company_info.size }}\n- Last funding round: {{ $json.company_info.funding.latest_round_year }}\n- Last funding amount: {{ $json.company_info.funding.latest_round_amount }}\n- Positive news:\n-- Type of news: {{ $json.company_info.positive_article.category }}\n-- Recent positive news: {{ $json.company_info.positive_article.summary }}\n-- Positive impact on company: {{ $json.company_info.positive_article.outcomes }}\n-- Local impact on community: {{ $json.company_info.positive_article.local_impact }}\n-- Impact on employees: {{ $json.company_info.positive_article.employee_reaction }}\n\n# Email\nHey there [[NAME]],\n\n{{ $json.personalization.sentence_opening }}\n{{ $json.personalization.bridge_sentence_one }}\n{{ $json.personalization.bridge_sentence_two }}\n{{ $json.personalization.how_can_we_help }}\n{{ $json.personalization.related_customers_sentence }}\n{{ $json.personalization.closing_sentence }}\n\n\nCheers,\n[[SENDER NAME]]\n\n## Role\nYou analyze and improve cold emails about IT compliance, ensuring they connect naturally to the prospect's business while maintaining a friendly, conversational tone.\n\n## Goal\nAnalyze the email for:\n1. Flow and readability\n2. Connection to prospect's business\n3. Natural transitions\n4. Appropriate tone\n5. Impact and clarity\n\n## Analysis Steps\n1. Review Prospect Info:\n- Core business/mission\n- Industry focus\n- Size/scale\n- Frameworks they have\n- Recent news (if any)\n\n2. Check Email Elements:\n- Do not include a greeting in the opening line. \n- Opening line should use the \"Why you, why now\" framework.  \"Why I'm reaching out to you, right now\" so that it's clear to the recipient up front why I'm reaching out\"\n- Bridge sentence 1\n- Bridge sentence 2\n- How we can help\n- Related customers (social proof)\n- Closing (call to action)\n\n3. Identify Issues:\n- Disconnected elements\n- Technical overload\n- Missed business connections\n- Tone inconsistencies\n- Redundant information\n\n## Improvement Guidelines\n* Write at a 4th grade reading level using simple words and short sentences\n* Use natural, conversational language that mimics a human, but keep the sentences short - one sentence to a line.\n* Keep sentences short and direct\n* Connect to their core business\n* Avoid listing multiple frameworks repeatedly\n* Make compliance relevant to their goals\n* Use casual abbreviations (b/c, w/, +) but don't overdo it\n* Maintain consistent tone throughout\n* Avoid jargon and colorful verbs and adjectives\n*  Avoid jargon and overly technical terms unless they are relevant to the recipient's field.\n* Do not insert related customers into any other sentence except for the \"Related Customers\" sentence and do not change the \"Related Customers\" sentence we've provided to you.   Here is that sentence:  \n{{ $json.personalization.related_customers_sentence }}\n* You will only write one sentence for each part.  You may write two sentences for a part if absolutely neccessary, but shorter emails take priority. \n* Do not change the closing sentence.\n\n\n## Output structure\nYour output should follow this structure\n{\n\t\"email_analysis\": \"\",\n\t\"email_opening_revised\": \"\",\n    \"bridge_sentence_1_revised\":\"\",\n    \"bridge_sentence_2_revised\":\"\",\n    \"how_we_can_help_revised\":\"\",\n    \"related_customers-1\":\"\",\n    \"closing_1\":\"\"\n}","hasOutputParser":true,"options":{"systemMessage":"You analyze and improve cold emails about IT compliance, ensuring they connect naturally to the prospect's business while maintaining a friendly, conversational tone."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[440,940],"id":"e070cd9b-9ebd-4ca5-8f54-01db7d33d3af","name":"Email Analysis","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[420,1180],"id":"27cb379d-716a-4577-ad68-ad2577f32de7","name":"OpenAI Chat Model - Email Analysis","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"email_analysis\": \"\",\n\t\"email_opening_revised\": \"\",\n    \"bridge_sentence_1_revised\":\"\",\n    \"bridge_sentence_2_revised\":\"\",\n    \"how_we_can_help_revised\":\"\",\n    \"related_customers-1\":\"\",\n    \"closing_1\":\"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[640,1180],"id":"ca722acb-ba7c-49e0-9b07-60bb95956891","name":"Structured Output Parser - Email Analysis"},{"parameters":{"jsCode":"let original = $('Adding Closing Sentence').first().json\nconst email_analysis = {\n  opening_sentence : $input.first().json?.output?.email_opening_revised || \"\",\n  bridge_sentence_one:$input.first().json?.output?.bridge_sentence_1_revised || \"\",\n  bridge_sentence_two:$input.first().json?.output?.bridge_sentence_2_revised || \"\",\n  how_can_we_help: $input.first().json?.output?.how_we_can_help_revised || \"\",\nrelated_customers: ($input.first()?.json?.output?.['related_customers-1']) || \"\",\n\n  closing_sentence:$input.first().json.output?.closing_1 || \"\",\n}\noriginal.personalization.email_analysis = email_analysis\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[800,940],"id":"2fecb878-4df4-4c47-91be-ee4aa3288cc5","name":"Adding Email Analysis"},{"parameters":{"promptType":"define","text":"=# GOAL\nWrite a short, catchy email subject line for the email below, following the guidelines provided.  This email is being sent to prospects that we have found through research.   \n\n# TASK\nLet's write the email subject line that will accompany this email: \n{{ $json.personalization.email_analysis.opening_sentence }}\n{{ $json.personalization.email_analysis.bridge_sentence_one }}\n{{ $json.personalization.email_analysis.bridge_sentence_two }}\n{{ $json.personalization.email_analysis.how_can_we_help }}\n{{ $json.personalization.email_analysis.related_customers }}\n{{ $json.personalization.email_analysis.closing_sentence }}\n\n# ABOUT THE PROSPECT\n### About: \n- Company name: {{ $json.company_info.name_normalized }}\n- Industry: {{ $json.company_info.industry }}\n- Specialities: {{ $json.company_info.specialities }}\n- What they do: {{ $json.company_info.report }}\n- Location: {{ $json.company_info.location.city }} {{ $json.company_info.location.state }}\n- Employees: {{ $json.company_info.size }}\n- Latest funding round: {{ $json.company_info.funding.latest_round_year }}\n- Latest funding amount: {{ $json.company_info.funding.latest_round_amount }}\n\n### Positive News (If any)\n- Type of news: {{ $json.company_info.positive_article.category }}\n- Recent positive news: {{ $json.company_info.positive_article.summary }}\n- Positive impact on company: {{ $json.company_info.positive_article.outcomes }}\n- Local impact on community: {{ $json.company_info.positive_article.local_impact }}\n- Impact on employees: {{ $json.company_info.positive_article.employee_reaction }}\n\n### Compliance Frameworks\n- Current compliance frameworks (if any): {{ $json.company_info.framework_review.confirmed_frameworks }}\n\n# GUIDELINES\n** IMPORTANT **\n- Use sentence case, but capitalize frameworks when applicable\n- Keep subjects to 1 - 8 words\n**Write personalized subject lines**  \n- “Thoughts on your l[[POSITIVE NEWS]]”\n- “Congrats on XYZ!”\n- “Loved reading about [[[POSITIVE NEWS STORY]]]!”  \n\n## Pain Point\n- “Need help with [[painpoint]]?”, “Happy with 50% open rates?”, “idea for [[painPoint]]”  \nWhy this works: It addresses the prospect’s pain point and offers actionable solutions.  \nUse these two lines as the pain point:\n{{ $json.personalization.email_analysis.bridge_sentence_one }}\n{{ $json.personalization.email_analysis.bridge_sentence_two }}\n\n\n\n\n- “Ideas & feedback for you & [[companyname]]”  \n- “Hey [[firstName]], congrats on your funding round”  \nHow to use: Use a specific trigger (e.g., funding round, new job, IPO) and congratulate the prospect. Then, offer a valuable resource or idea for their next steps.\n\n\n\n\n","options":{"systemMessage":"You are an expert email copywriter for IS Partners, and IT compliance and cybersecurity firm."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[1020,940],"id":"adc1704a-3bfb-4203-bf51-85725c7b3e1e","name":"Email Subject"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1020,1160],"id":"65a840ab-65b3-4419-9c7e-c945031add7a","name":"OpenAI Chat Model - Email Subject","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Email Analysis').item.json\noriginal.personalization.email_subject = $json?.output || \"\"\n\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1380,940],"id":"4f5f9e76-be24-49f7-a278-1bc1eca427ac","name":"Adding Email Subject"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const original = $('Adding Email Subject').item.json\noriginal.personalization.related_customer = $json?.output || \"\"\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2100,940],"id":"acc15ed2-655a-4ba1-8348-fc63179b1311","name":"Adding Related Customer"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Related Customer').item.json\noriginal.personalization.related_customers = $json?.output || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2720,940],"id":"60ec8d72-69db-44e1-b2d5-77b2a33c53d7","name":"Adding Related Customers"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"211a6ab2-2a2a-486b-b114-743c934ec3c8","leftValue":"={{ $json.original.personalization['Compliance - Has Multiple Frameworks'] }}","rightValue":"False","operator":{"type":"string","operation":"equals"}}],"combinator":"or"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[5640,300],"id":"a25070b7-85e8-45e6-830d-5aa0f4d8f2e8","name":"Do they have single framework ?"},{"parameters":{"content":"# Lemlist\n","height":480,"width":1140,"color":4},"type":"n8n-nodes-base.stickyNote","position":[5080,180],"typeVersion":1,"id":"06098598-e9e9-43dc-8bbc-7ba08636789e","name":"Sticky Note17"},{"parameters":{"content":"# HubSpot\n","height":720,"width":1140,"color":4},"type":"n8n-nodes-base.stickyNote","position":[5080,660],"typeVersion":1,"id":"b8e4848d-8ef2-4f1d-8d44-5ee6e08f050e","name":"Sticky Note26"},{"parameters":{"content":"# Slack","height":260,"width":1140,"color":4},"type":"n8n-nodes-base.stickyNote","position":[5080,1380],"typeVersion":1,"id":"9beb9fcd-8fd3-45dc-a17c-9a5f58e2c95e","name":"Sticky Note14"},{"parameters":{"jsCode":"const data = {\n\"ICP - Contact Tier\":$input.first().json.company_info.icp_score.total_score_string || \"Not Found\",  \n\"ICP - Contact Score\":  `${$input.first().json.company_info?.icp_score?.overall_score?.totalScore || 0}/${$input.first().json.company_info?.icp_score?.overall_score?.maxPossibleScore || 54}`,\n\"Page Visited - URL\":$input.first().json.technical_data.page_visited_url || \"Not Found\",\n\"Page Visited - Framework\":$input.first().json.technical_data.page_visited_framework || \"Not Found\",\n\"Page Visited - Matched Framework\":$input.first().json.technical_data.matched_framework || \"Not Found\",\n\"Page Visited - Matches Framework Held\":$input.first().json.technical_data.matches_frameworks_held || \"Not Found\",\n\"Page Visited - Topic\":$input.first().json.technical_data.page_visited_topic || \"Not Found\",\n\"Page Visited - Keyword Mentioned\":$input.first().json.technical_data.page_visited_keyword || \"Not Found\",\n\"Job Responsibilties\":$input.first().json.user_info.job_responsibilities || \"Not Found\",\n\"Job Challenges\":$input.first().json.user_info.job_challenges || \"Not Found\",\n\"Job Title Normalized\": $input.first().json.user_info.role_normalized || \"Not Found\",\n\"firstName\":$input.first().json.user_info.first_name || \"Not Found\",\n\"lastName\":$input.first().json.user_info.last_name || \"Not Found\",\n\"email\":$input.first().json.user_info.primary_email || \"Not Found\",\n\"phone\":$input.first().json.user_info.phone_number || \"Not Found\",\n\"linkedinUrl\":$input.first().json.user_info.social_urls.linked_in || \"Not Found\",\n\"Is active on LinkedIn\":$input.first().json.user_info.linked_in_data.is_active_on_linked_in ? \"true\" : \"false\",\n\"LinkedIn Follower Count\": $input.first().json.user_info.linked_in_data.follower_count || \"Not Found\",\n\"companyName\":$input.first().json.company_info.name_normalized || \"Not Found\",\n\"companyDomain\":$input.first().json.company_info.domain || \"Not Found\",\n\"jobTitle\":$input.first().json.user_info.role_normalized || \"Not Found\",\n\"picture\":$input.first().json.user_info.profile_pick || \"Not Found\",\n\"Industry\": $input.first().json.company_info.industry || \"Not Found\",\n\"Company Name\":$input.first().json.company_info.name || \"Not Found\",\n\"Years in Business\":$input.first().json.company_info.years_in_business || \"Not Found\",\n\"Company Name - Normalized\":$input.first().json.company_info.name_normalized || \"Not Found\",\n\"Employee Count\":$input.first().json.company_info.size || \"Not Found\",\n\"About\":$input.first().json.company_info.report || \"Not Found\",\n\"About Contact\" :$input.first().json.user_info.report || \"Not Found\",\n\"Compliance - Primary Frameworks\":$input.first().json.company_info.framework_review.confirmed_frameworks_primary || \"Not Found\",\n\"Auditors\":$input.first().json.company_info.framework_review.confirmed_auditors || \"Not Found\",\n\"GRC Software\":$input.first().json.company_info.framework_review.confirmed_grc_tools || \"Not Found\",\n\"Competitor\":$input.first().json.company_info.competitor_partner_classification.is_competitor || \"Not Found\",\n\"Content - Related Customers\":$input.first().json.personalization.related_customers || \"Not Found\",\n\"Content - Related Customer\":$input.first().json.personalization.related_custome || \"Not Found\",\n\"Content - Framework\":$input.first().json.personalization['Content-Framework'] || \"Not Found\",\n\"Content - Frameworks\":$input.first().json.personalization['Content-Frameworks'] || \"Not Found\",\n\"Compliance - Has Single Framework\":$input.first().json.personalization['Compliance - Has Single Framework'] || \"Not Found\",\n\"Compliance - Has Multiple Frameworks\":$input.first().json.personalization['Compliance - Has Multiple Frameworks'] || \"Not Found\",\n\"Partner Opportunity\":$input.first().json.company_info.competitor_partner_classification.is_partner || \"Not Found\",\n\"Services\": Array.isArray($input.first().json.company_info.products) && $input.first().json.company_info.products.length > 0 ? \n    $input.first().json.company_info.products.join(\",\") : \"Not Found\",\n\"Specialities\": Array.isArray($input.first().json.company_info.specialities) && $input.first().json.company_info.specialities.length > 0 ? \n    $input.first().json.company_info.specialities.join(\",\") : \n    \"Not Found\",\n\"LinkedIn Page\":$input.first().json.company_info.social_urls.linked_in || \"Not Found\",\n\"Last Funding Round Date\":$input.first().json.company_info.funding.latest_round_year || \"Not Found\",\n\"Last Funding Round Amount\":$input.first().json.company_info.funding.latest_round_amount || \"Not Found\",\n\"Content - Email 1 - Sentence - Opening\":$input.first().json.personalization.email_analysis.opening_sentence || \"Not Found\",\n\"Content - Email 1 - Sentence - Bridge 1\":$input.first().json.personalization.email_analysis.bridge_sentence_one || \"Not Found\",\n\"Content - Email 1 - Sentence - Bridge 2\":$input.first().json.personalization.email_analysis.bridge_sentence_two || \"Not Found\",\n\"Content - Email 1 - Sentence - How We Help\":$input.first().json.personalization.email_analysis.how_can_we_help || \"Not Found\",\n\"Content - Email 1 - Sentence - Related Customers\":$input.first().json.personalization.email_analysis.related_customers || \"Not Found\",\n\"Content - Email 1 - Sentence - Closing\":$input.first().json.personalization.email_analysis.closing_sentence || \"Not Found\",\n \"Content - Sentence - Social Proof\":$input.first().json.personalization.email_analysis.related_customers || \"Not Found\",\n\"Recent News URL\": $input.first().json.company_info.positive_article.url || \"Not Found\",\n\"Recent News Article Summary\":$input.first().json.company_info.positive_article.summary|| \"Not Found\",\n\"Recent LinkedIn Post\":$input.first().json.user_info.linked_in_data.posts && $input.first().json.user_info.linked_in_data.posts.length > 0 ? $input.first().json.user_info.linked_in_data.posts[0].text : \"Not Found\",\n\"Page Visited Type\":$input.first().json.technical_data.page_visited_type || \"Not Found\",\n\"Visit Intent\":$input.first().json.user_info.visit_intent || \"Not Found\"\n}\nreturn {data, original:$input.first().json}"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[5160,320],"id":"7307326b-45c4-4825-8a13-46bb4427d2d2","name":"Lemlist Data","alwaysOutputData":false},{"parameters":{"promptType":"define","text":"=Your task is to count how many frameworks Prosect has and format them correctly from the given string.\nHere are the frameworks:  {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n\nYour output should be structured as the following object:\n{\n \"framework\":\"SOC 1\",\n \"frameworks\": \"\",\n \"has_single_framework\": \"True\",\n \"has_multiple_frameworks\" : \"False\"\n}\n\nMore information\n- framework key should be populated if prospect has only one framework (using the framework prospect has)\n- frameworks key should be populated if prospect has more then one framework, but it must have this structure \"SOC 2, HIPAA, CCPA and GDPR\", notice how\nwe placed the \"and\" at the end of the list.\n- has_single_framework should be \"True\" if the prospect has only one framework, in other cases it should be \"False\"\n- has_multiple_frameworks should be \"True\" if the prospect has more then one framework, in other cases it should be \"False\"\n\nExamples:\nInput string is SOC 2\nOutput object should look like this:\n{\n \"framework\":\"SOC 2\",\n \"frameworks\": \"\",\n \"has_single_framework\": \"True\",\n \"has_multiple_frameworks\" : \"False\"\n}\n---------------\nInput string is \"SOC 2, SOC 1\"\nOutput object should look like this:\n{\n \"framework\":\"\",\n \"frameworks\": \"SOC 2 and SOC 1\",\n \"has_single_framework\": \"False\",\n \"has_multiple_frameworks\" : \"True\"\n}\n\n---------------------------\n\nInput string is \"SOC 2, SOC 1, HIPAA\"\nOutput object should look like this:\n{\n \"framework\":\"\",\n \"frameworks\": \"SOC 2,SOC 1 and HIPAA\",\n \"has_single_framework\": \"False\",\n \"has_multiple_frameworks\" : \"True\"\n}","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[2900,940],"id":"7dbb38c3-5225-45fc-9eb1-4185c00303e9","name":"Has a Single framework or multiple ?","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2840,1160],"id":"7a303764-de87-4af1-9869-a86d00fae50b","name":"OpenAI Chat Model - Framework Count","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n \"framework\":\"\",\n \"frameworks\": \"SOC 2,SOC 1 and HIPAA\",\n \"has_single_framework\": \"False\",\n \"has_multiple_frameworks\" : \"True\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[3140,1160],"id":"a6b98499-2677-4bb8-b08a-1bd491ed1a24","name":"Structured Output Parser - Framework Count"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let original = $('Adding Related Customers').item.json\noriginal.personalization['Content-Framework'] = $json.output.framework\noriginal.personalization['Content-Frameworks'] = $json.output.frameworks\noriginal.personalization['Compliance - Has Single Framework'] = $json.output.has_single_framework\noriginal.personalization['Compliance - Has Multiple Frameworks'] = $json.output.has_multiple_frameworks\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[3240,940],"id":"a3f91c29-c032-4580-bfb2-ea5ee5fd7f61","name":"Adding Framework Count"},{"parameters":{"httpMethod":"POST","path":"vector-v3","options":{}},"id":"860b6fcd-6375-4be1-a4ed-a6f8f97546bd","name":"Vector Data","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-33520,1040],"webhookId":"05853312-769d-41e6-adb7-8a8a352d90dd"},{"parameters":{"httpMethod":"POST","path":"rb2b-v3","options":{}},"id":"ae81f289-b0c6-4f26-9f0b-2ffc8693d47e","name":"RB2B Data","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-33520,880],"webhookId":"9ec4d875-b9bb-4776-9e4e-aba247c3a68b"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst input = $input.item.json.body;\n\nconst first_name = input['First Name'] || \"\"\nconst last_name = input['Last Name'] || \"\"\nconst role = input['Title'] || \"\"\n\nconst primary_email = input['Business Email'] || \"\"\nconst personal_emails = []\nconst work_emails = [primary_email]\n\nconst linked_in = input[\"LinkedIn URL\"] || \"\"\nconst city = input[\"City\"] || \"\"\nconst state = input[\"State\"] || \"\"\nconst zip = input[\"Zipcode\"] ||\"\"\n\nconst company_name = input['Company Name'] || \"\"\nconst company_size = input['Employee Count'] || \"\"\nconst company_revenue = input[\"Estimate Revenue\"] || \"\"\nconst company_domain = input['Website'] || \"\"\nconst company_industry = input[\"Industry\"] || \"\"\n \nconst formatted = {\n  \"user_info\":{\n    \"first_name\": first_name,\n    \"last_name\": last_name,\n    \"role\": role,\n    \"primary_email\": primary_email,\n    \"personal_emails\":  personal_emails,\n    \"work_emails\": work_emails,\n    \"phone_numbers\":[],\n    \"social_urls\":{\n     \"linked_in\": linked_in,\n    },\n    \"location\":{\n      \"city\": city ,\n      \"state\":state,\n      \"zip\":zip\n    },\n    \"page_visited\": input[\"Referrer\"] || \"\"\n  },\n  \"company_info\":{\n    name: company_name,\n    size: company_size,\n    revenue:company_revenue,\n    domain:company_domain,\n    industry:company_industry,\n    social_urls:{\n     linked_in:\"\",\n     facebook:\"\",\n     twitter:\"\",\n     instagram: \"\",\n    },\n    phone_numbers:[],\n    \"location\":{\n      \"city\":\"\",\n      \"state\":\"\",\n      \"country\":\"\",\n      \"address\":\"\",\n      \"zip\":\"\",\n    }\n  },\n   technical_data:{\n    \"page_visited_url\": input['Captured URL'] || \"\",\n    \"utmCampaign\": input.utmCampaign || \"\",\n    \"utmContent\": input.utmContent || \"\",\n    \"utmMedium\": input.utmMedium || \"\",\n    \"utmSource\": input['Referrer'] || \"\",\n    \"utmTerm\": input.utmTerm || \"\",\n    \"vvid\": input.vvid || \"\",\n    \"hem\": input.hem\n  }\n}\n\n\nreturn formatted;"},"id":"0832c1af-3f27-4538-be99-c78b7b4e6193","name":"RB2B Data normalization","type":"n8n-nodes-base.code","typeVersion":2,"position":[-33180,880]},{"parameters":{"authentication":"appToken","resource":"company","operation":"searchByDomain","domain":"={{ $('HubSpot Data').item.json.original.company_info.domain }}","limit":1,"options":{}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[5920,900],"id":"efaa51b8-3d0c-45ea-a012-8e5b58012577","name":"Finding HubSpot Company","alwaysOutputData":true,"notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"authentication":"appToken","email":"={{ $json.original.user_info.primary_email }}","additionalFields":{"customPropertiesUi":{"customPropertiesValues":[{"property":"job_challenges","value":"={{ $json.data['Job Challenges'] }}"},{"property":"job_responsibilities","value":"={{ $json.data['Job Responsibilities'] }}"},{"property":"job_title_normalized","value":"={{ $json.data['Company Name - Normalized'] }}"},{"property":"about_the_contact","value":"={{ $json.data['About Contact'] }}"},{"property":"content_sentence_social_proof","value":"={{ $json.data['Content - Sentence - Social Proof'] }}"},{"property":"content_sentence_saw_compliance_status","value":"={{ $json.data['Content - Sentence - Saw Compliance Status'] }}"},{"property":"content_sentence_compliance_benefits","value":"={{ $json.data['Content - Sentence - Compliance Benefits'] }}"},{"property":"linkedin_follower_count","value":"={{ $json.data['LinkedIn Follower Count'] }}"},{"property":"is_active_on_linkedin","value":"={{ $json.data['Is active on LinkedIn'] }}"},{"property":"linkedin_summary","value":"={{ $json.data['LinkedIn Summary'] }}"},{"property":"linkedin_headline","value":"={{ $json.data['LinkedIn Headline'] }}"},{"property":"enrichement_status","value":"enriched"}]}},"options":{}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[5720,920],"id":"f773867d-2808-4284-a5c2-7557ccfcf43b","name":"Updating HubSpot Contact","notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"authentication":"appToken","resource":"company","operation":"update","companyId":{"__rl":true,"value":"={{ $json.companyId }}","mode":"id"},"updateFields":{"customPropertiesUi":{"customPropertiesValues":[{"property":"icp_company_score","value":"={{ $('HubSpot Data').item.json.data['ICP - Company Score'] }}"},{"property":"icp_company_tier","value":"={{ $('HubSpot Data').item.json.data['ICP - Company Tier'] }}"},{"property":"lemlistfoundedon","value":"={{ $('HubSpot Data').item.json.data['Years in Business'] }}"},{"property":"company_name_normalized","value":"={{ $('HubSpot Data').item.json.data['Company Name - Normalized'] }}"},{"property":"lemlistsize","value":"={{ $('HubSpot Data').item.json.data['Employee Count'] }}"},{"property":"company_summary","value":"={{ $('HubSpot Data').item.json.data['About Company'] }}"},{"property":"confirmed_certs_frameworks","value":"={{ $('HubSpot Data').item.json.data['Compliance - Primary Frameworks'] }}"},{"property":"compliance_secondary_frameworks","value":"={{ $('HubSpot Data').item.json.data['Compliance - Secondary Frameworks'] }}"},{"property":"auditors","value":"={{ $('HubSpot Data').item.json.data.Auditors }}"},{"property":"grc_software","value":"={{ $('HubSpot Data').item.json.data['GRC Software'] }}"},{"property":"competitor","value":"={{ $('HubSpot Data').item.json.data.Competitor }}"},{"property":"content_related_customers","value":"={{ $('HubSpot Data').item.json.data['Content - Related Customers'] }}"},{"property":"content_related_customer","value":"={{ $('HubSpot Data').item.json.data['Content - Related Customer'] }}"},{"property":"content_framework","value":"={{ $('HubSpot Data').item.json.data['Content - Framework'] }}"},{"property":"content_frameworks","value":"={{ $('HubSpot Data').item.json.data['Content - Frameworks'] }}"},{"property":"compliance_has_single_framework_","value":"={{ $('HubSpot Data').item.json.data['Compliance - Has Single Framework'] }}"},{"property":"compliance_has_multiple_frameworks","value":"={{ $('HubSpot Data').item.json.data['Compliance - Has Multiple Frameworks'] }}"},{"property":"partner_opportunity","value":"={{ $('HubSpot Data').item.json.data['Partner Opportunity'] }}"},{"property":"services","value":"={{ $('HubSpot Data').item.json.data.Services }}"},{"property":"lemlistspecialities","value":"={{ $('HubSpot Data').item.json.data.Specialities }}"},{"property":"lemlistprofileurl","value":"={{ $('HubSpot Data').item.json.data['LinkedIn Page'] }}"},{"property":"last_funding_round_date","value":"={{ $('HubSpot Data').item.json.data['Last Funding Round Date'] }}"},{"property":"last_funding_round_amount_string","value":"={{ $('HubSpot Data').item.json.data['Last Funding Round Amount'] }}"},{"property":"content_email_1_sentence_opening","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Opening'] }}"},{"property":"content_email_1_sentence_bridge_1","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Bridge 1'] }}"},{"property":"content_email_1_sentence_bridge_2","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Bridge 2'] }}"},{"property":"content_email_1_sentence_how_we_help","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - How We Help'] }}"},{"property":"content_email_1_sentence_related_customers","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Related Customers'] }}"},{"property":"content_email_1_sentence_closing","value":"={{ $('HubSpot Data').item.json.data['Content - Email 1 - Sentence - Closing'] }}"},{"property":"enrichement_status","value":"Enriched"}]}}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[6080,900],"id":"01b17a66-7aa9-43a6-97c5-62bfa9c8528f","name":"Updating HubSpot Company","notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"method":"POST","url":"=https://api.clay.com/v3/sources/webhook/pull-in-data-from-a-webhook-dc91b6a2-8223-4fc0-9bac-21f0ab81742b","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content","value":"application/json"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={{ $json.data }}","options":{"redirect":{"redirect":{}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[5360,0],"id":"b1eac74f-7f0a-4151-98d8-9dad2571489e","name":"Sent to Clay","notesInFlow":true},{"parameters":{"content":"# Clay\n\n\n","height":260,"width":1140,"color":4},"type":"n8n-nodes-base.stickyNote","position":[5080,-80],"typeVersion":1,"id":"4bf14ac8-d43b-40a0-9ab9-cee1b20a577a","name":"Sticky Note30"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"2962c159-f615-43d5-a13f-9fd1923242b4","leftValue":"={{ $json.original.company_info.icp_score.total_score_string }}","rightValue":"1","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[5420,940],"id":"31a32fc6-5280-4695-bcb0-0b8278ddb6f9","name":"Is Tier 1 ?"},{"parameters":{"promptType":"define","text":"=Data to use in the task\nConfirmed frameworks: {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\nFramework Analysis: {{ $json.company_info.framework_review.analysis_summary }}\n\nTask:\nWrite one casual sentence mentioning a compliance framework discovered during research on the prospect.\n\nWriting Style:\n- Use a 6th-grade reading level.\n- Include contractions.\n- Be conversational and direct.\n- Skip uncertain findings.\n- Don't include quotation marks in your response.\n\nContent Requirements:\n-State where you found it (e.g., website, trust center, LinkedIn, etc.).\n-Only include confirmed frameworks.\n-Mention the specific framework name.\n-Remove unnecessary words like \"compliance\" or \"certification\" when possible.\n-If there are no confired frameworks return empty response \nExample Sentences:\n-Website Examples:\n--\"Your security page shows you have SOC 2.\"\n--\"I see you have both GDPR and CCPA on your website.\"\n--\"Spotted your ISO 27001 badge on your homepage.\"\n-Trust Center Examples:\n--\"Found ISO 27001 in your trust center.\"\n--\"Your trust page lists HIPAA and PCI.\"\n--\"Just saw your SOC 2 Type 2 in the trust center.\"\n-LinkedIn Examples:\n--\"Your company LinkedIn mentions FedRAMP.\"\n--\"Noticed CMMC on your LinkedIn profile.\"\n--\"Your LinkedIn shows you're NIST compliant.\"\n-Other Sources:\n--\"Your recent press release mentions SOC 2 Type 2.\"\n--\"Saw NIST compliance in your annual report.\"\n--\"Your about page shows you have HIPAA.\"\n\nDo Not Write:\n-\"I found references to potential SOC 2 compliance.\"\n-\"Your company appears to have compliance achievements.\"\n-\"Research shows you may be pursuing certification.\"\n\nSkip Compliance Mention If:\n-You only found old or expired certifications.\n-The framework status is unclear.\n-You found third-party mentions without official confirmation.\n-You cannot confirm the exact framework name.","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[3500,940],"id":"55513ae4-96a5-4f81-8054-718c5751b063","name":"Framework research results","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.1,"position":[3440,1140],"id":"37a26055-113a-4c67-876f-bcc28aa80c5b","name":"OpenAI Chat Model - Framework research results","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsCode":"const original = $('Adding Framework Count').first().json\nlet sentence = $json?.output || ''\nif($('Adding Framework Count').item.json.company_info.framework_review.confirmed_frameworks.length === 0){\n  sentence = ''\n}\noriginal.company_info.framework_review.framework_research_results = sentence\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[3880,940],"id":"0b67c6af-b76f-4b48-87e7-055668522f05","name":"Adding Framework Research Results"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[4140,1140],"id":"dd33eab5-4705-4721-b6fd-f09f0a11fc0f","name":"Single Framework Benefits (Casual) Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"jsonSchemaExample":"{\n\t\"benefit_sentence\": \"\",\n\t\"benefit_framework\": \"\"\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[4360,1140],"id":"9206704e-f317-4b48-8fb9-f9188f427b5f","name":"Structured Output Parser"},{"parameters":{"jsCode":"const original = $('Adding Framework Count').first().json\noriginal.personalization.benefit_sentence = $input.first().json?.output?.benefit_sentence || \"\"\noriginal.personalization.benefit_framework = $input.first().json?.output?.benefit_framework || \"\"\n\nreturn original"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[4500,940],"id":"ee256caa-7425-4ba6-adb8-5b8ed99021ff","name":"Adding Content - Benefit"},{"parameters":{"promptType":"define","text":"=### INFORMATION\nA prospect visited a page on our website about {{$json.technical_data.page_visited_framework}}.  The prospect's company currently has implemented the following IT Compliance Audits/Certifications: \n\nCurrent Frameworks Held by Company {{ $json.company_info.framework_review.confirmed_frameworks_primary }}\n\nWe believe their reason for visiting is: {{$json.user_info.visit_intent}}\n\n### COMPLIANCE FRAMEWORK BENEFITS\n## SOC 1 Benefits:\nKeep your clients' money safe, land those big company deals, and get your books in perfect shape.\n\n## SOC 2\nStart winning business in strict industries, show clients their data is in good hands, and beef up your security game.\n\n## SOC 1 & 2:\nShow the world you take security seriously, win over those hard-to-please enterprise clients, and handle their data like a pro.\n\n## HIPAA:\nGet more healthcare clients, keep patient info safe from hackers, and make your medical work run smoother.\n\n## HITRUST:\nLand bigger healthcare deals, nail multiple security checks at once, and make your security way simpler.\n\n## PCI DSS:\nStart taking cards safely, keep your customers safe from fraud, and dodge those nasty breach fines.\n\n## ISO 27001:\nWin business worldwide, show everyone you're serious about security, and keep your data locked down tight.\n\n## ISO 42001:\nWin more AI business, show your AI can be trusted, and build better tech the right way.\n\n## ISO 50001:\nCut your power bills big time, show you care about the planet, and win over eco-friendly customers.\n\n## CMMC:\nGet in on those defense contracts, keep government secrets safe, and level up your security setup.\n\n## CCPA:\nDo business in California, handle customer info the right way, and avoid those huge privacy fines.\n\n## GDPR:\n\nDo business in Europe, handle customer info the right way, and avoid those huge privacy fines.\n\n## GLBA:\nLand more banking business, keep customer money info safe, and stop hackers in their tracks.\n\n## FISMA:\nWin those government deals, handle federal info like a pro, and make your security rock-solid.\n\n## MAR/SOX:\nGet investors to trust you more, stop money mishaps before they happen, and run a tighter ship.\n\n## MARS-E:\nGet in on healthcare exchange deals, keep health records super safe, and nail those ACA requirements.\n\n## NERC:\nBreak into the power industry, keep the grid safe from attacks, and keep everything running smooth.\n\n## NYDFS:\nGet more NY banking business, lock down financial info tight, and boost your security setup.\n\n## NIST AI RMF:\nWin more AI contracts, build AI that people trust, and handle AI risks like a pro.\n\n## HITRUST AI RMF:\nGet more healthcare AI deals, knock out multiple AI requirements at once, and keep your AI risks in check.\n\n## NIST CSF:\nLand government contracts, meet security standards easily, and make your cyber defense strong.\n\n## NIST SP 800-53:\nGet federal contracts rolling in, nail multiple security requirements, and stay ahead of new threats.\n\n## NIST IoT:\nWin more smart device deals, keep connected gadgets safe, and stop IoT hackers cold.\n\n## NIST AI RMF:\nLand bigger AI projects, build AI that works right, and keep AI problems from happening.\n\n<TASK>\nLet's choose the framework that this prospect is most interested in and select a benefit sentence to send them.  Consider the page the prospect visited first, then consider if there is a connection between the compliance framework of the page they visited and current compliance frameworks/certficiations held by ${input.company_info.name}.   Sometimes there will be two frameworks associated with a page.  In this situation, choose the framework that you believe the person is most interested in.  ${input.company_info.name};s current frameworks/certifications that they have, if they have any.  \n\n<OUTPUT>\nYour output will have two parts.   The first part will be the main framework you chose.   The second part will be the benefit sentence related to that framework.  Do not explain your answer or add any additional words to the output.    For example, if the framework/certification is SOC 1, your output will be:  Keep your clients' money safe, land those big company deals, and get your books in perfect shape.\n\nIf the page is about SOC 1 and SOC 2, and you are unable to choose the best framework, you can respond with the SOC 1 & 2 Benefits, which combine SOC 1 and SOC 2 benefits. \n\nIf you are unable to determine a framework/certification, then your output should be \"Unable to determine\" \n\nThe benefit sentence will be inserted into the \"benefit_sentence\" field.   The framework you choose will be inserted into the \"benefit_framework\" field. \n\nFor example, if HITRUST is the framework the person was interested in, then you would insert the \"Land bigger healthcare deals, nail multiple security checks at once, and make your security way simpler.\n\"  into the \"benefits_sentence\" field and \"HITRUST\" into the \"benefit_framework\".  \n\nFor example, if NIST AI RMF is the framework, then you will insert \"Get federal contracts rolling in, nail multiple security requirements, and stay ahead of new threats.\n\"  into the \"benefits_sentence\" field and \"NIST AI RMF\" into the \"benefit_framework\".  \n\n<IMPORTANT>\nDo not include the word \"Benefits\" in the \"benefit_framework\" output.  The \"benefit_framework\" will be the framework/certification.  It should not include the word \"benefits\".","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[4140,940],"id":"344dbb12-dd8a-4809-9442-b498183c9a52","name":"Content Benefit","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let PrimaryFrameworks = [];\nif ($json.company_info.framework_review.confirmed_frameworks_primary && $json.company_info.framework_review.confirmed_frameworks_primary !== \"Not Found\") {\n  PrimaryFrameworks = $json.company_info.framework_review.confirmed_frameworks_primary.split(\",\");\n  PrimaryFrameworks = PrimaryFrameworks.map(framework => framework.trim());\n}\n\n\nconst data = {\n  \"Phone (Contact)\":$json.user_info.phone_number,\n  \"Email (Contact)\":$json.user_info.primary_email,\n  \"LinkedIn Profile URL\":$json.user_info.social_urls.linked_in,\n  \"Job Title\":$json.user_info.role,\n  \"Job Challenges\":$json.user_info.job_challenges,\n  \"Job Responsibilities\":$json.user_info.job_responsibilities,\n  \"Job Title Normalized\":$json.user_info.role_normalized,\n  \"Picture\":$json.user_info.profile_pick,\n  \"About Contact\":$json.user_info.report,\n  \"ICP - Contact Score\":\"\",\n  \"ICP - Contact Tier\":\"\",\n  \"Industry\":$json.company_info.industry,\n  \"ICP - Company Score\":`${$json.company_info.icp_score.overall_score.totalScore || 0}/${$json.company_info.icp_score.overall_score.maxPossibleScore || 54}`,\n  \"ICP - Company Tier\": $json.company_info.icp_score.total_score_string,\n  \"Company Name\": $json.company_info.name,\n  \"Years in Business\":$json.company_info.years_in_business ? $json.company_info.years_in_business.toString() : \"\",\n  \"Company Name - Normalized\":$json.company_info.name_normalized,\n  \"Employee Count\": $json.company_info.size,\n  \"About Company\": $json.company_info.report,\n  \"Compliance - Primary Frameworks\":PrimaryFrameworks ? PrimaryFrameworks.join(\";\") : \"\",\n  \"Compliance - Secondary Frameworks\":$json.company_info.framework_review.confirmed_frameworks_secondary,\n  \"Auditors\":$json.company_info.framework_review.confirmed_auditors,\n  \"GRC Software\":$json.company_info.framework_review.confirmed_grc_tools,\n  \"Competitor\":$json.company_info.competitor_partner_classification.is_competitor === \"FALSE\" ? \"False\" : \"True\",\n  \"Content - Related Customers\":$json.personalization.related_customers,\n  \"Content - Related Customer\":$json.personalization.related_customer,\n  \"Content - Sentence - Social Proof\": $json.personalization.email_analysis.related_customers,\n  \"Content - Framework\":$json.personalization['Content-Framework'],\n  \"Content - Frameworks\": $json.personalization['Content-Frameworks'],\n  \"Content - Sentence - Saw Compliance Status\": $json.company_info.framework_review.framework_research_results,\n  \"Content - Sentence - Compliance Benefits\": $json.personalization.benefit_sentence,\n  \"Compliance - Has Single Framework\":$json.personalization['Compliance - Has Single Framework'],\n  \"Compliance - Has Multiple Frameworks\":$json.personalization['Compliance - Has Multiple Frameworks'],\n  \"Partner Opportunity\":$json.company_info.competitor_partner_classification.is_partner === \"FALSE\" ? \"False\" : \"True\",\n  \"Services\":$json.company_info.products ? $json.company_info.products.join(\",\"):\"\",\n  \"Specialities\":$json.company_info.specialities && $json.company_info.specialities.length > 0 ? $json.company_info.specialities.join(\",\") :\"\",\n  \"LinkedIn Page\":$json.company_info.social_urls.linked_in,\n  \"LinkedIn Follower Count\":$json.user_info.linked_in_data.follower_count,\n  \"Is active on LinkedIn\":$json.user_info.linked_in_data.is_active_on_linked_in === false ? \"False\" : \"True\",\n  \"Last Funding Round Date\":$json.company_info.funding.latest_round_year,\n  \"Last Funding Round Amount\":$json.company_info.funding.latest_round_amount,\n  \"Street Address\":$json.company_info.location.address,\n  \"City\":$json.company_info.location.city,\n  \"State\":$json.company_info.location.state,\n  \"Postal Code\":$json.company_info.location.zip,\n  \"Country\":$json.company_info.location.country,\n  \"Content - Email 1 - Sentence - Opening\":$json.personalization.email_analysis.opening_sentence,\n  \"Content - Email 1 - Sentence - Bridge 1\":$json.personalization.email_analysis.bridge_sentence_one,\n  \"Content - Email 1 - Sentence - Bridge 2\": $json.personalization.bridge_sentence_two,\n  \"Content - Email 1 - Sentence - How We Help\": $json.personalization.email_analysis.how_can_we_help,\n  \"Content - Email 1 - Sentence - Related Customers\":$json.personalization.email_analysis.related_customers,\n  \"Content - Email 1 - Sentence - Closing\":$json.personalization.email_analysis.closing_sentence ,\n  \"LinkedIn Summary\":$json.user_info.linked_in_data.profile_data.summary,\n  \"LinkedIn Headline\":$json.user_info.linked_in_data.profile_data.headline\n}\n\nreturn {data, original:$json}\n\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[5180,940],"id":"68ee1208-6819-4c26-829a-ecf7330a859c","name":"HubSpot Data"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"1d2215d6-2933-4c5e-ba6a-61cd9a9fe362","leftValue":"={{ $json.original.company_info.icp_score.total_score_string }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}},{"id":"18380cd9-f5b7-43fa-a9a5-f2ca82fde0fb","leftValue":"={{ $json.original.company_info.icp_score.total_score_string }}","rightValue":"","operator":{"type":"string","operation":"notEmpty","singleValue":true}},{"id":"253620e7-de9b-43b1-a71b-de39e41b3e3b","leftValue":"={{ $json.data.Competitor }}","rightValue":"FALSE","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}},{"id":"af094130-1c5a-4b94-ab88-994a9cbb7a14","leftValue":"={{ $json.original.company_info.icp_score.total_score_string }}","rightValue":"1","operator":{"type":"string","operation":"notEquals"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[5400,320],"id":"f061909e-5312-4737-9e59-b7aea11efe04","name":"Does Prospect have a Tier ? AND they are not a competitor"},{"parameters":{"authentication":"appToken","resource":"contactList","email":"={{ $json.original.user_info.primary_email }}","listId":1129},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[5700,720],"id":"e42265a7-f7cc-4684-9e6e-0baab0ebd0d0","name":"Add to a list","credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"inputSource":"passthrough"},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[-33520,1220],"id":"f55b6695-413f-4bef-84b3-8d8c645b96c0","name":"When Executed by Another Workflow"},{"parameters":{"operation":"update","tableId":"website_visitors_new","filters":{"conditions":[{"keyName":"id","condition":"eq","keyValue":"={{ $json.id }}"}]},"fieldsUi":{"fieldValues":[{"fieldId":"upcoming_meeting_data","fieldValue":"={{ $('Summarizing').item.json.upcoming_meeting_data }}"}]}},"type":"n8n-nodes-base.supabase","typeVersion":1,"position":[-29680,1480],"id":"e4146184-ffd5-4c74-9037-4e7e6f3d1a0f","name":"Updating Meeting information","notesInFlow":true,"credentials":{"supabaseApi":{"id":"KAjqGpkvqbL6t5fA","name":"searchactions.com - Website Visitors Project"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"let PrimaryFrameworks = [];\nif ($json.company_info.framework_review.confirmed_frameworks_primary && $json.company_info.framework_review.confirmed_frameworks_primary !== \"Not Found\") {\n  PrimaryFrameworks = $json.company_info.framework_review.confirmed_frameworks_primary.split(\",\");\n  PrimaryFrameworks = PrimaryFrameworks.map(framework => framework.trim());\n}\n\n\nconst data = {\n  \"Phone (Contact)\":$json.user_info.phone_number,\n  \"Email (Contact)\":$json.user_info.primary_email,\n  \"LinkedIn Profile URL\":$json.user_info.social_urls.linked_in,\n  \"Job Title\":$json.user_info.role,\n  \"Job Challenges\":$json.user_info.job_challenges,\n  \"Job Responsibilities\":$json.user_info.job_responsibilities,\n  \"Job Title Normalized\":$json.user_info.role_normalized,\n  \"Picture\":$json.user_info.profile_pick,\n  \"About Contact\":$json.user_info.report,\n  \"ICP - Contact Score\":\"\",\n  \"ICP - Contact Tier\":\"\",\n  \"Industry\":$json.company_info.industry,\n  \"ICP - Company Score\":`${$json.company_info.icp_score.overall_score.totalScore || 0}/${$json.company_info.icp_score.overall_score.maxPossibleScore || 54}`,\n  \"ICP - Company Tier\": $json.company_info.icp_score.total_score_string,\n  \"Company Name\": $json.company_info.name,\n  \"Years in Business\":$json.company_info.years_in_business ? $json.company_info.years_in_business.toString() : \"\",\n  \"Company Name - Normalized\":$json.company_info.name_normalized,\n  \"Employee Count\": $json.company_info.size,\n  \"About Company\": $json.company_info.report,\n  \"Compliance - Primary Frameworks\":PrimaryFrameworks ? PrimaryFrameworks.join(\";\") : \"\",\n  \"Compliance - Secondary Frameworks\":$json.company_info.framework_review.confirmed_frameworks_secondary,\n  \"Auditors\":$json.company_info.framework_review.confirmed_auditors,\n  \"GRC Software\":$json.company_info.framework_review.confirmed_grc_tools,\n  \"Competitor\":$json.company_info.competitor_partner_classification.is_competitor === \"FALSE\" ? \"False\" : \"True\",\n  \"Content - Related Customers\":$json.personalization.related_customers,\n  \"Content - Related Customer\":$json.personalization.related_customer,\n  \"Content - Sentence - Social Proof\": $json.personalization.email_analysis.related_customers,\n  \"Content - Framework\":$json.personalization['Content-Framework'],\n  \"Content - Frameworks\": $json.personalization['Content-Frameworks'],\n  \"Content - Sentence - Saw Compliance Status\": $json.company_info.framework_review.framework_research_results,\n  \"Content - Sentence - Compliance Benefits\": $json.personalization.benefit_sentence,\n  \"Compliance - Has Single Framework\":$json.personalization['Compliance - Has Single Framework'],\n  \"Compliance - Has Multiple Frameworks\":$json.personalization['Compliance - Has Multiple Frameworks'],\n  \"Partner Opportunity\":$json.company_info.competitor_partner_classification.is_partner === \"FALSE\" ? \"False\" : \"True\",\n  \"Services\":$json.company_info.products ? $json.company_info.products.join(\",\"):\"\",\n  \"Specialities\":$json.company_info.specialities && $json.company_info.specialities.length > 0 ? $json.company_info.specialities.join(\",\") :\"\",\n  \"LinkedIn Page\":$json.company_info.social_urls.linked_in,\n  \"LinkedIn Follower Count\":$json.user_info.linked_in_data.follower_count,\n  \"Is active on LinkedIn\":$json.user_info.linked_in_data.is_active_on_linked_in === false ? \"False\" : \"True\",\n  \"Last Funding Round Date\":$json.company_info.funding.latest_round_year,\n  \"Last Funding Round Amount\":$json.company_info.funding.latest_round_amount,\n  \"Street Address\":$json.company_info.location.address,\n  \"City\":$json.company_info.location.city,\n  \"State\":$json.company_info.location.state,\n  \"Postal Code\":$json.company_info.location.zip,\n  \"Country\":$json.company_info.location.country,\n  \"Content - Email 1 - Sentence - Opening\":$json.personalization.email_analysis.opening_sentence,\n  \"Content - Email 1 - Sentence - Bridge 1\":$json.personalization.email_analysis.bridge_sentence_one,\n  \"Content - Email 1 - Sentence - Bridge 2\": $json.personalization.bridge_sentence_two,\n  \"Content - Email 1 - Sentence - How We Help\": $json.personalization.email_analysis.how_can_we_help,\n  \"Content - Email 1 - Sentence - Related Customers\":$json.personalization.email_analysis.related_customers,\n  \"Content - Email 1 - Sentence - Closing\":$json.personalization.email_analysis.closing_sentence ,\n  \"LinkedIn Summary\":$json.user_info.linked_in_data.profile_data.summary,\n  \"LinkedIn Headline\":$json.user_info.linked_in_data.profile_data.headline\n}\n\nreturn {data, original:$json}\n\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-29320,1660],"id":"99355713-5a75-414a-96f9-7832cf417c9c","name":"Updating - HubSpot Data"},{"parameters":{"authentication":"appToken","email":"={{ $json.original.user_info.primary_email }}","additionalFields":{"customPropertiesUi":{"customPropertiesValues":[{"property":"job_challenges","value":"={{ $json.data['Job Challenges'] }}"},{"property":"job_responsibilities","value":"={{ $json.data['Job Responsibilities'] }}"},{"property":"job_title_normalized","value":"={{ $json.data['Company Name - Normalized'] }}"},{"property":"about_the_contact","value":"={{ $json.data['About Contact'] }}"},{"property":"content_sentence_social_proof","value":"={{ $json.data['Content - Sentence - Social Proof'] }}"},{"property":"content_sentence_saw_compliance_status","value":"={{ $json.data['Content - Sentence - Saw Compliance Status'] }}"},{"property":"content_sentence_compliance_benefits","value":"={{ $json.data['Content - Sentence - Compliance Benefits'] }}"},{"property":"linkedin_follower_count","value":"={{ $json.data['LinkedIn Follower Count'] }}"},{"property":"is_active_on_linkedin","value":"={{ $json.data['Is active on LinkedIn'] }}"},{"property":"linkedin_summary","value":"={{ $json.data['LinkedIn Summary'] }}"},{"property":"linkedin_headline","value":"={{ $json.data['LinkedIn Headline'] }}"},{"property":"enrichement_status","value":"enriched"}]}},"options":{}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[-29100,1660],"id":"ce809343-4200-4ee1-9c57-e56e2d1a7d3d","name":"Updating - Updating HubSpot Contact","notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"authentication":"appToken","resource":"company","operation":"searchByDomain","domain":"={{ $('Updating - HubSpot Data').item.json.original.company_info.domain }}","limit":1,"options":{}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[-28840,1660],"id":"2240a54a-a20b-43a0-bf0b-99fd532532a0","name":"Updating - Finding HubSpot Company","alwaysOutputData":true,"notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"authentication":"appToken","resource":"company","operation":"update","companyId":{"__rl":true,"value":"={{ $json.companyId }}","mode":"id"},"updateFields":{"customPropertiesUi":{"customPropertiesValues":[{"property":"icp_company_score","value":"={{ $('Updating - HubSpot Data').item.json.data['ICP - Company Score'] }}"},{"property":"icp_company_tier","value":"={{ $('Updating - HubSpot Data').item.json.data['ICP - Company Tier'] }}"},{"property":"lemlistfoundedon","value":"={{ $('Updating - HubSpot Data').item.json.data['Years in Business'] }}"},{"property":"company_name_normalized","value":"={{ $('Updating - HubSpot Data').item.json.data['Company Name - Normalized'] }}"},{"property":"lemlistsize","value":"={{ $('Updating - HubSpot Data').item.json.data['Employee Count'] }}"},{"property":"company_summary","value":"={{ $('Updating - HubSpot Data').item.json.data['About Company'] }}"},{"property":"confirmed_certs_frameworks","value":"={{ $('Updating - HubSpot Data').item.json.data['Compliance - Primary Frameworks'] }}"},{"property":"compliance_secondary_frameworks","value":"={{ $('Updating - HubSpot Data').item.json.data['Compliance - Secondary Frameworks'] }}"},{"property":"auditors","value":"={{ $('Updating - HubSpot Data').item.json.data.Auditors }}"},{"property":"grc_software","value":"={{ $('Updating - HubSpot Data').item.json.data['GRC Software'] }}"},{"property":"competitor","value":"={{ $('Updating - HubSpot Data').item.json.data.Competitor }}"},{"property":"content_related_customers","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Related Customers'] }}"},{"property":"content_related_customer","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Related Customer'] }}"},{"property":"content_framework","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Framework'] }}"},{"property":"content_frameworks","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Frameworks'] }}"},{"property":"compliance_has_single_framework_","value":"={{ $('Updating - HubSpot Data').item.json.data['Compliance - Has Single Framework'] }}"},{"property":"compliance_has_multiple_frameworks","value":"={{ $('Updating - HubSpot Data').item.json.data['Compliance - Has Multiple Frameworks'] }}"},{"property":"partner_opportunity","value":"={{ $('Updating - HubSpot Data').item.json.data['Partner Opportunity'] }}"},{"property":"services","value":"={{ $('Updating - HubSpot Data').item.json.data.Services }}"},{"property":"lemlistspecialities","value":"={{ $('Updating - HubSpot Data').item.json.data.Specialities }}"},{"property":"lemlistprofileurl","value":"={{ $('Updating - HubSpot Data').item.json.data['LinkedIn Page'] }}"},{"property":"last_funding_round_date","value":"={{ $('Updating - HubSpot Data').item.json.data['Last Funding Round Date'] }}"},{"property":"last_funding_round_amount_string","value":"={{ $('Updating - HubSpot Data').item.json.data['Last Funding Round Amount'] }}"},{"property":"content_email_1_sentence_opening","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Email 1 - Sentence - Opening'] }}"},{"property":"content_email_1_sentence_bridge_1","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Email 1 - Sentence - Bridge 1'] }}"},{"property":"content_email_1_sentence_bridge_2","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Email 1 - Sentence - Bridge 2'] }}"},{"property":"content_email_1_sentence_how_we_help","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Email 1 - Sentence - How We Help'] }}"},{"property":"content_email_1_sentence_related_customers","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Email 1 - Sentence - Related Customers'] }}"},{"property":"content_email_1_sentence_closing","value":"={{ $('Updating - HubSpot Data').item.json.data['Content - Email 1 - Sentence - Closing'] }}"},{"property":"enrichement_status","value":"Enriched"}]}}},"type":"n8n-nodes-base.hubspot","typeVersion":2.1,"position":[-28580,1660],"id":"a49fbd14-ef11-4f06-97ff-bb2d238dea00","name":"Updating - Updating HubSpot Company","notesInFlow":true,"credentials":{"hubspotAppToken":{"id":"B4qJi5bVNVRoRnuV","name":"ispartnersllc.com Hubspot App Token"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"3fb1ff01-7951-4c57-8296-c33a6b37243f","leftValue":"={{ $('Summarizing').item.json.prospect_source }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}},{"id":"93ea1960-87eb-46a6-b2c6-94c5ff1d5146","leftValue":"={{ $('Summarizing').item.json.prospect_source }}","rightValue":"hubspot","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[5560,1120],"id":"db751f0b-dc6c-4378-a0b0-ed4fa66aa63f","name":"HubSpot Enrichment ? - New Prospect"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-33520,720],"id":"4e1e65e0-c044-4ad9-a08e-fb61284200b4","name":"When clicking ‘Test workflow’"},{"parameters":{"promptType":"define","text":"=INPUT\n[Company Name]: {{ $json.company_info.name }}\n[Company Description]:{{ $json.company_info.description }}\n[Company Website]:{{ $json.company_info.domain }}\n[Company LinkedIn Page]:{{ $json.company_info.social_urls.linked_in }}\n[Additional Sources (optional)]:\nROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved SOC 1 compliance. You systematically analyze public information to make this determination with the highest possible accuracy.\nGOAL\nDetermine whether [Company Name] has obtained SOC 1 compliance by researching public sources. If the company has achieved SOC 1 compliance, then you will provide the user with specific details about it, along with evidence.\nRESEARCH PROCESS\n1. ESTABLISH TARGET IDENTITY\n\nSearch for \"[Company Name] official website\"\nDocument the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\nNote the headquarters location and any other identifying information\nDetermine the company's primary industry and business model\nCRITICAL: This verified information will be used to validate all other sources\n\n2. SEARCH FOR EVIDENCE\n\nSearch for \"[Company Name] SOC 1 compliance\" or \"[Company Name] SOC 1 certification\"\nCheck the company's verified official domain, particularly security/compliance pages and trust centers\nSearch for company press releases mentioning SOC 1\nReview the company's annual reports or financial disclosures\nCheck third-party auditor websites for client lists\nSearch industry resources and news for mentions of the company's SOC 1 status\nReview public statements from executives or official company representatives\nSearch social media and professional networks for official announcements\n\n2.1. CRITICAL DISTINCTION: SERVICE PROVIDER VS. CERTIFIED ENTITY\n\nEXPLICITLY DETERMINE if [Company Name] is a SOC 1 service provider/auditor OR a company seeking/achieving SOC 1 certification\nIf [Company Name] is an accounting firm, auditor, or compliance consultant:\n\nEvidence that they PROVIDE SOC 1 audit services to clients is NOT evidence they themselves are SOC 1 certified\nLook specifically for statements that [Company Name] has undergone their OWN SOC 1 audit by an independent third party\nStatements like \"[Company Name] offers SOC 1 audit services\" or \"[Company Name] helps clients achieve SOC 1\" indicate they are a service provider, NOT that they are certified\n\n\nAccounting firms and auditors (like Deloitte, KPMG, PwC, EY, BDO) may provide SOC services but this is NOT evidence of their own certification\n\n3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\nDomain Verification Check\n\nIF source domain matches verified domain → VALID first-party source\nIF source domain different from verified domain → REQUIRES additional verification\n\nOrganization Name Check\n\nExtract the EXACT organization name mentioned in the source text\nCompare to target [Company Name]\nIF names don't match exactly → NOT VALID EVIDENCE\nDocument the exact organization name found in the source\n\nContent Review\n\nRead the actual content to identify which organization is being discussed\nLook for location, size, leadership names that match verified target information\nIF content mentions a different organization → NOT VALID EVIDENCE\nIF organization details don't match target → NOT VALID EVIDENCE\n\nService Provider vs. Certificate Holder Check\n\nCAREFULLY analyze if content states [Company Name] is:\na) A SOC 1 certified organization (HAS UNDERGONE an audit)\nb) A provider of SOC 1 audit services (PERFORMS audits for others)\nFor EVERY piece of evidence, ask: \"Does this show the company RECEIVED a SOC 1 report, or does it show they ISSUE SOC 1 reports to others?\"\nIf the content states [Company Name] offers SOC 1 audit services → NOT VALID EVIDENCE for certification\nIf the content mentions [Company Name] helps clients achieve SOC 1 → NOT VALID EVIDENCE for certification\nEvidence must EXPLICITLY state [Company Name] has undergone its own SOC 1 audit by an independent auditor\n\nCertification Details Check\n\nVerify certification date (reject if older than 3 years)\nDocument type (Type I or Type II)\nNote the scope of the assessment (which systems/processes are covered)\nNote if certification appears to be current or expired\nCheck for mention of the specific auditing firm that performed the assessment\n\n4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about [Company Name], you MUST document:\n\nHow you verified it refers to the correct organization\nWhat specific text in the source confirms it's about [Company Name]\nWhy you're confident it's not about a similarly-named organization\n\n5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n\nIf reporting \"soc1_certified: false\", DO NOT include certification details\nIf sources are about a different organization than [Company Name], they are NOT included as evidence\nConfidence level matches the quality and consistency of evidence\nNo contradictions exist between evidence and conclusions\n\nOUTPUT\nReturn your findings in JSON format with these specific fields:\njsonCopy{\n  \"company_name\": \"[Company Name]\",\n  \"soc1_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown\", \n    \"certification_level\": \"Type I/Type II or Unknown\",\n    \"scope\": \"Description of systems/data covered or Unknown\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\nRESPONSE GUIDELINES\nSOC 1 Status Determination\n\nCertified Status (True)\n\nReport \"soc1_certified: true\" ONLY if:\n\nAt least two independent sources confirm certification\nAt least one source is from company's verified official domain OR official auditor statement\nCertification appears to be current (SOC 1 reports are typically valid for 12 months)\nALL sources clearly reference the EXACT [Company Name]\nNO conflicting information about organization identity\nEvidence EXPLICITLY states [Company Name] HAS UNDERGONE THEIR OWN SOC 1 AUDIT (not that they provide such services)\nIf the company is an auditor, accounting or consulting firm, confirmation must explicitly state they themselves underwent an audit by another independent firm\n\n\nIn this case, include complete certification details\n\n\nNot Certified Status (False)\n\nReport \"soc1_certified: false\" when:\n\nThorough search of official sources finds no certification evidence\nOfficial company sources explicitly state no certification\nMultiple reliable sources indicate no certification\n\n\nIn this case, set certification details to \"Not Applicable\"\n\n\nUnclear Status\n\nReport \"soc1_certified: unclear\" when:\n\nOnly one source is found\nSources are older than 3 years\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss [Company Name]\n\n\n\n\n\nLogical Consistency Requirements\n\nFor \"soc1_certified: false\" determination:\n\nDo NOT include certification details from any other organization\nDo NOT reference certification dates, levels, or scope from non-applicable sources\nSet certification details to \"Not Applicable\" or similar clear indication\n\n\nFor \"soc1_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of certification information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if certification appears to be for limited systems rather than company-wide\nUnderstand that SOC 1 focuses on financial reporting controls, not security controls (which is SOC 2)\nNote that SOC 1 reports are typically not publicly available, so look for attestation statements\n\nCRITICAL DISTINCTIONS TO PREVENT MISINTERPRETATION\nService Provider vs. Certificate Holder\n\nNEVER report that a company is SOC 1 certified based on evidence they PROVIDE SOC 1 services\nMany accounting/consulting firms (like BDO, Deloitte, KPMG, etc.) PROVIDE SOC audit services but this is NOT evidence they are certified\nOnly evidence that a company has undergone their OWN audit by an independent third-party should be considered as proof of certification\nLook for language like \"[Company Name] has completed their SOC 1 audit\" or \"[Company Name] has received a SOC 1 attestation report\"\n\nDistinguishing Evidence Types\n\nVALID EVIDENCE: \"Company X has undergone a SOC 1 Type II audit\" or \"Company X has received their SOC 1 attestation\"\nINVALID EVIDENCE: \"Company X provides SOC 1 audit services\" or \"Company X helps clients achieve SOC 1 compliance\"\nIf evidence shows the company is a service provider rather than a certificate holder, clearly note this distinction\n\nCompany Identification\n\nCRITICAL - The company name you are researching MUST match [Company Name]\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention [Company Name] by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to [Company Name]\n\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for [Company Name] (e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing [Company Name]\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\n\nSource does not explicitly mention [Company Name]\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about [Company Name]\nYou cannot find direct quotes confirming the source discusses [Company Name]\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting certification details from an incorrect organization\nCreating relationships between organizations without explicit evidence ","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-16000,940],"id":"a2f26f78-66b2-43d9-b93c-3bcadeb03f50","name":"SOC 1","retryOnFail":true,"alwaysOutputData":false,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-16020,1120],"id":"27ce9a11-595d-43ff-bdba-aa80f90fb31a","name":"SOC 1 Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"soc1_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\"High\", \"Medium\", \"Low\"]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"soc1_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-15800,1120],"id":"1c058a42-c8f4-4963-a527-349f39415699","name":"SOC 1 Output parser"},{"parameters":{"promptType":"define","text":"=INPUT\n[Company Name]: {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n[Company Description]:{{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\n[Company Website]:{{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\n[Company LinkedIn Page]:{{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n[Additional Sources (optional)]:\nROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved SOC 2 Compliance. You systematically analyze public information to make this determination with the highest possible accuracy.\nGOAL\nDetermine whether [Company Name] has obtained SOC 2 Compliance by researching public sources. If the company has achieved SOC 2 Compliance, then you will provide the user with specific details about it, along with evidence.\nRESEARCH PROCESS\n1. ESTABLISH TARGET IDENTITY\n\nSearch for \"[Company Name] official website\"\nDocument the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\nNote the headquarters location and any other identifying information\nCRITICAL: This verified information will be used to validate all other sources\n\n2. SEARCH FOR EVIDENCE\n\nCheck for SOC 2 attestation mentions on the company's security or compliance pages\nSearch for company press releases announcing SOC 2 compliance\nReview the company's verified official domain for security whitepapers or compliance documentation\nSearch for \"[Company Name] SOC 2 compliance\" and \"[Company Name] SOC 2 attestation\"\nCheck for mentions in customer security questionnaires or vendor security documentation\nLook for third-party compliance directories or security review platforms (e.g., Whistic, SecurityScorecard)\nSearch LinkedIn for company posts about compliance achievements\nReview annual reports or investor materials for compliance mentions\n\n3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\nDomain Verification Check\n\nIF source domain matches verified domain → VALID first-party source\nIF source domain different from verified domain → REQUIRES additional verification\n\nOrganization Name Check\n\nExtract the EXACT organization name mentioned in the source text\nCompare to target [Company Name]\nIF names don't match exactly → NOT VALID EVIDENCE\nDocument the exact organization name found in the source\n\nContent Review\n\nRead the actual content to identify which organization is being discussed\nLook for location, size, leadership names that match verified target information\nIF content mentions a different organization → NOT VALID EVIDENCE\nIF organization details don't match target → NOT VALID EVIDENCE\n\nCertification Details Check\n\nVerify certification date (reject if older than 3 years)\nDocument scope, level, and any limitations\nNote if certification appears to be current or expired\nCheck for specific SOC 2 type (Type I or Type II)\nIdentify which Trust Service Criteria are covered (Security, Availability, Processing Integrity, Confidentiality, Privacy)\n\n4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about [Company Name], you MUST document:\n\nHow you verified it refers to the correct organization\nWhat specific text in the source confirms it's about [Company Name]\nWhy you're confident it's not about a similarly-named organization\n\n5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n\nIf reporting \"soc2_certified: false\", DO NOT include certification details\nIf sources are about a different organization than [Company Name], they are NOT included as evidence\nConfidence level matches the quality and consistency of evidence\nNo contradictions exist between evidence and conclusions\n\nOUTPUT\nReturn your findings in JSON format with these specific fields:\njsonCopy{\n  \"company_name\": \"[Company Name]\",\n  \"soc2_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown\", \n    \"certification_level\": \"Type I/Type II or Unknown\",\n    \"scope\": \"Description of systems/data covered or Unknown\",\n    \"trust_principles_covered\": [\"Security\", \"Availability\", \"Processing Integrity\", \"Confidentiality\", \"Privacy\"]\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\nRESPONSE GUIDELINES\nSOC 2 Compliance Status Determination\n\nCertified Status (True)\n\nReport \"soc2_certified: true\" ONLY if:\n\nAt least two independent sources confirm certification\nAt least one source is from company's verified official domain OR official framework directory\nCertification appears to be current (within validity period)\nALL sources clearly reference the EXACT [Company Name]\nNO conflicting information about organization identity\n\n\nIn this case, include complete certification details\n\n\nNot Certified Status (False)\n\nReport \"soc2_certified: false\" when:\n\nThorough search of official sources finds no certification evidence\nOfficial company sources explicitly state no certification\nMultiple reliable sources indicate no certification\n\n\nIn this case, set certification details to \"Not Applicable\"\n\n\nUnclear Status\n\nReport \"soc2_certified: unclear\" when:\n\nOnly one source is found\nSources are older than 3 years\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss [Company Name]\n\n\n\n\n\nLogical Consistency Requirements\n\nFor \"soc2_certified: false\" determination:\n\nDo NOT include certification details from any other organization\nDo NOT reference certification dates, levels, or scope from non-applicable sources\nSet certification details to \"Not Applicable\" or similar clear indication\n\n\nFor \"soc2_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of certification information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if certification appears to be for limited systems rather than company-wide\nRemember that SOC 2 reports typically have a 12-month validity period\nBe aware that companies may have SOC 2 Type I (point-in-time assessment) or Type II (assessment over a period, typically 6-12 months)\nCheck for which Trust Service Criteria are covered (not all SOC 2 reports cover all five principles)\nCRITICAL - The company name you are researching MUST match [Company Name]\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention [Company Name] by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to [Company Name]\n\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for [Company Name] (e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing [Company Name]\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\n\nSource does not explicitly mention [Company Name]\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about [Company Name]\nYou cannot find direct quotes confirming the source discusses [Company Name]\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting certification details from an incorrect organization\nCreating relationships between organizations without explicit evidence ","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-15600,940],"id":"d9cf270b-65b5-4579-a9b9-7c146c30a80c","name":"SOC 2","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-15600,1120],"id":"bbae09ee-dde7-4ca3-a1d5-180522207e3f","name":"SOC 2 Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"soc2_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        },\n        \"trust_principles_covered\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\"High\", \"Medium\", \"Low\"]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"soc2_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-15400,1120],"id":"c6e338e7-a7dc-4548-a038-d56176088321","name":"SOC 2 Output Parser"},{"parameters":{"promptType":"define","text":"=# INPUT\n[Company Name]: {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n[Company Description]: {{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\n[Company Website]: {{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\n[Company LinkedIn Page]: {{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n[Additional Sources (optional)]: \n\n# ROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved HIPAA and HITECH compliance. You systematically analyze public information to make this determination with the highest possible accuracy.\n\n# GOAL\nDetermine whether [Company Name] has implemented HIPAA and HITECH compliance measures by researching public sources. If the company has achieved HIPAA/HITECH compliance, then you will provide the user with specific details about it, along with evidence.\n\n# RESEARCH PROCESS\n## 1. ESTABLISH TARGET IDENTITY\n- Search for \"[Company Name] official website\"\n- Document the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\n- Note the headquarters location and any other identifying information\n- CRITICAL: This verified information will be used to validate all other sources\n\n## 2. SEARCH FOR EVIDENCE\n- Search for \"[Company Name] HIPAA compliance\" and \"[Company Name] HITECH compliance\"\n- Check the company's verified official domain, particularly privacy policy, security pages, and compliance sections\n- Look for Business Associate Agreements (BAAs) mentions or templates\n- Search for third-party attestations or audit reports (SOC 2 reports often include HIPAA/HITECH attestations)\n- Check the HHS Office for Civil Rights breach portal for any reported incidents\n- Review industry resources, healthcare IT publications, and compliance news\n- Search for press releases about HIPAA/HITECH implementation\n- Check for HIPAA compliance attestations in client testimonials or case studies\n- Review public records and third-party validation services\n- Search social media and professional networks for official announcements\n\n## 3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\n\n### Domain Verification Check\n- IF source domain matches verified domain → VALID first-party source\n- IF source domain different from verified domain → REQUIRES additional verification\n\n### Organization Name Check  \n- Extract the EXACT organization name mentioned in the source text\n- Compare to target [Company Name]\n- IF names don't match exactly → NOT VALID EVIDENCE\n- Document the exact organization name found in the source\n- Pay special attention to companies with similar names (e.g., \"Brown & Brown\" vs. \"Brown & Meyers\")\n- Double-check all search results to confirm they discuss the target company\n- Do not include evidence from similarly-named companies even if they appear in search results\n\n### Content Review\n- Read the actual content to identify which organization is being discussed\n- Look for location, size, leadership names that match verified target information\n- IF content mentions a different organization → NOT VALID EVIDENCE\n- IF organization details don't match target → NOT VALID EVIDENCE\n\n### Compliance Details Check\n- Verify when HIPAA/HITECH compliance measures were implemented or last updated\n- Document scope, specific measures, and any limitations\n- Note if compliance appears to be current or outdated\n- Check if both HIPAA and HITECH are specifically mentioned\n- Document whether the company is identified as a Covered Entity or Business Associate under HIPAA\n\n### Date Verification\n- Carefully verify all compliance dates are in the past, not future dates\n- Distinguish between proposal dates and actual implementation dates\n- If only proposal dates are found, note this in additional notes field\n- Implementation dates should be treated as unknown if only proposals are found\n- Never accept future dates as implementation dates\n\n### Proposed vs. Implemented Measures\n- Clearly distinguish between proposed compliance measures and actually implemented ones\n- If evidence only shows proposed measures, this should result in \"unclear\" compliance status\n- Implementation dates should only be recorded when there is explicit evidence of actual implementation\n- Proposals or plans for future compliance should be noted but not treated as evidence of current compliance\n\n## 4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about [Company Name], you MUST document:\n- How you verified it refers to the correct organization\n- What specific text in the source confirms it's about [Company Name]\n- Why you're confident it's not about a similarly-named organization\n\n## 5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n- If reporting \"hipaa_hitech_compliant: false\", DO NOT include compliance details\n- If sources are about a different organization than [Company Name], they are NOT included as evidence\n- Confidence level matches the quality and consistency of evidence\n- No contradictions exist between evidence and conclusions\n- You have not mistaken proposed measures for implemented ones\n- All dates are realistic and in the past\n- You have verified if the company is a Covered Entity, Business Associate, or neither under HIPAA\n\n# OUTPUT\nReturn your findings in JSON format with these specific fields:\n```json\n{\n  \"company_name\": \"[Company Name]\",\n  \"hipaa_hitech_compliant\": true/false/unclear,\n  \"hipaa_entity_type\": \"Covered Entity/Business Associate/Not Specified\",\n  \"compliance_details\": {\n    \"hipaa_implemented\": \"YYYY-MM-DD or Unknown\",\n    \"hitech_implemented\": \"YYYY-MM-DD or Unknown\", \n    \"last_compliance_update\": \"YYYY-MM-DD or Unknown\",\n    \"scope\": \"Description of systems/data covered or Unknown\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\n```\n\n# RESPONSE GUIDELINES\n\n## HIPAA/HITECH Status Determination\n1. **Compliant Status (True)**\n   - Report \"hipaa_hitech_compliant: true\" ONLY if:\n     - At least two independent sources confirm HIPAA/HITECH compliance\n     - At least one source is from company's verified official domain OR official regulatory documentation\n     - Compliance measures appear to be current (with evidence of ongoing management)\n     - ALL sources clearly reference the EXACT [Company Name]\n     - NO conflicting information about organization identity\n     - Evidence indicates both HIPAA and HITECH components are addressed\n     - There is clear evidence of ACTUAL IMPLEMENTATION, not just proposed measures\n     - All implementation dates are in the past, not future dates\n   - In this case, include complete compliance details\n\n2. **Not Compliant Status (False)**\n   - Report \"hipaa_hitech_compliant: false\" when:\n     - Thorough search of official sources finds no compliance evidence\n     - Official company sources explicitly state no HIPAA/HITECH compliance\n     - Multiple reliable sources indicate no compliance\n     - Evidence shows the company is not a covered entity or business associate under HIPAA\n   - In this case, set compliance details to \"Not Applicable\"\n\n3. **Unclear Status**\n   - Report \"hipaa_hitech_compliant: unclear\" when:\n     - Only one source is found\n     - Sources are older than 2 years with no recent updates\n     - Any confusion about organization identity exists\n     - Sources reference similar but not exact company names\n     - Any source domain doesn't match verified domain without explicit reference\n     - You cannot 100% confirm the sources discuss [Company Name]\n     - Evidence suggests HIPAA compliance but no specific mention of HITECH provisions\n     - Evidence shows only proposed or planned compliance measures without confirmation of implementation\n     - Claimed implementation dates are in the future\n\n## Logical Consistency Requirements\n1. **For \"hipaa_hitech_compliant: false\" determination**:\n   - Do NOT include compliance details from any other organization\n   - Do NOT reference compliance dates, measures, or scope from non-applicable sources\n   - Set compliance details to \"Not Applicable\" or similar clear indication\n\n2. **For \"hipaa_hitech_compliant: unclear\" determination**:\n   - Clearly explain why the status cannot be determined\n   - List all verification steps attempted\n   - Identify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n   - If evidence shows only proposed measures, explicitly note this in the explanation\n\n# IMPORTANT GUIDELINES\n- Always search for the exact company name, watching for parent/subsidiary relationships\n- Verify information from multiple sources when possible\n- Include direct quotes when available\n- Be clear about the recency of compliance information\n- Do not contact the company directly\n- Avoid making assumptions based on industry norms\n- Note if compliance appears to be for limited systems rather than company-wide\n- Remember that HIPAA/HITECH compliance is an ongoing process, not a one-time certification\n- Look for evidence of specific HIPAA elements: Privacy Rule, Security Rule, and Breach Notification Rule\n- Look for HITECH-specific elements: breach notification requirements, encryption standards, etc.\n- NEVER accept future dates as implementation dates\n- ALWAYS distinguish between proposed measures and confirmed implemented measures\n- **CRITICAL** - The company name you are researching MUST match [Company Name]\n- For example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\n## ORGANIZATION IDENTITY VALIDATION\n\n### STRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\n1. **EXACT NAME MATCH**\n   - The source MUST explicitly mention [Company Name] by its exact name\n   - Similar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\n   - Acronyms are ONLY valid if the source explicitly defines them as referring to [Company Name]\n\n2. **DOMAIN VERIFICATION**\n   - First establish the official domain for [Company Name] (e.g., chop.edu for Children's Hospital of Philadelphia)\n   - ANY source from a different domain REQUIRES explicit confirmation it's discussing [Company Name]\n   - Different domains typically indicate different organizations\n\n3. **RELATIONSHIP VERIFICATION**\n   - DO NOT assume organizations with similar names are \"related entities\" without explicit evidence\n   - If you claim two organizations are related, you MUST provide a direct quote proving this relationship\n   - Parent/subsidiary relationships MUST be explicitly documented with evidence\n\n### AUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\n   - Source does not explicitly mention [Company Name]\n   - Source mentions a different organization name (even if similar)\n   - Source is from a different domain than the verified official domain AND does not clearly state it's about [Company Name]\n   - You cannot find direct quotes confirming the source discusses [Company Name]\n\n### FORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n   - Assuming organizations with similar names are the same or related\n   - Using information about one organization as evidence for another\n   - Citing compliance details from an incorrect organization\n   - Creating relationships between organizations without explicit evidence\n   - Accepting future dates as implementation dates\n   - Treating proposed compliance measures as confirmed implemented measures","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-15180,940],"id":"7d2755ab-99d2-4769-bcf0-e7a8f8921f29","name":"HIPAA / HITECH","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-15200,1120],"id":"ab9e8b64-d54f-4533-9e99-e017f3f8b994","name":"HIPAA / HITECH Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"hipaa_hitech_compliant\": {\n      \"type\": \"boolean\"\n    },\n    \"hipaa_entity_type\": {\n      \"type\": \"string\",\n      \"enum\": [\"Covered Entity\", \"Business Associate\", \"Not Specified\"]\n    },\n    \"compliance_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"hipaa_implemented\": {\n          \"type\": \"string\"\n        },\n        \"hitech_implemented\": {\n          \"type\": \"string\"\n        },\n        \"last_compliance_update\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\"High\", \"Medium\", \"Low\"]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"hipaa_hitech_compliant\",\n    \"hipaa_entity_type\",\n    \"compliance_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-14960,1120],"id":"98bbdaac-3321-45fd-baa7-f06a13a9372f","name":"HIPAA / HITECH Output Parser"},{"parameters":{"promptType":"define","text":"=# INPUT\nCompany Name:{{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nAbout:{{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany Domain:{{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nLinked In Page:{{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n# ROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved Payment Card Industry Data Security Standard (PCI DSS) compliance. You systematically analyze public information to make this determination with the highest possible accuracy.\n\n# GOAL\nDetermine whether{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has obtained PCI DSS compliance by researching public sources. If the company has achieved PCI DSS compliance, then you will provide the user with specific details about it, along with evidence.\n\n# RESEARCH PROCESS\n## 1. ESTABLISH TARGET IDENTITY\n- Search for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} official website\"\n- Document the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\n- Note the headquarters location and any other identifying information\n- CRITICAL: This verified information will be used to validate all other sources\n\n## 2. SEARCH FOR EVIDENCE\n- Check the company's verified official website for security/compliance pages or PCI DSS mentions\n- Search for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} PCI DSS compliance\" and \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} PCI compliance\"\n- Look for company press releases announcing PCI DSS compliance\n- Check privacy policy, terms of service, and security documentation for PCI DSS mentions\n- Review third-party security assessment platforms that might list compliance status\n- Search for public statements from company executives regarding PCI compliance\n- Review annual reports, investor presentations, or SEC filings if applicable\n- Check industry resources and trade publications for mentions of the company's PCI compliance\n- Review public records and third-party validation services\n- Search LinkedIn and other professional networks for mentions by company employees\n\n## 3. EVIDENCE HIERARCHY AND EVALUATION\nBelow is the hierarchy of evidence from most to least authoritative. Only Level 1 and Level 2 evidence can be used to confirm certification.\n\n### Level 1 Evidence (Definitive Proof)\n- Official PCI DSS certification documentation on company's verified website\n- Attestation of Compliance (AOC) documents published by the company\n- Official press releases explicitly stating current certification status\n\n### Level 2 Evidence (Strong Supporting Evidence)\n- Direct statements on company's official security/compliance pages\n- Third-party verification from official PCI DSS assessors or payment brands\n- Recent annual reports or SEC filings explicitly mentioning current certification\n\n### Level 3 Evidence (Indicative but Not Sufficient Alone)\n- References to compliance in privacy policies or terms of service\n- Industry publications discussing the company's certification status\n- Customer-facing documentation mentioning certification\n\n### Level 4 Evidence (Contextual Only - Cannot Confirm Certification)\n- Job postings related to PCI DSS compliance roles\n- Employee statements on professional networks\n- General discussions of PCI DSS initiatives without certification claims\n- Investment in compliance programs or tools\n\nCRITICAL: Evidence from Levels 3 and 4 CANNOT be used alone to determine \"certified: true\" status. They may only provide supporting context.\n\n## 4. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\n\n### Domain Verification Check\n- IF source domain matches verified domain → VALID first-party source\n- IF source domain different from verified domain → REQUIRES additional verification\n\n### Organization Name Check  \n- Extract the EXACT organization name mentioned in the source text\n- Compare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- IF names don't match exactly → NOT VALID EVIDENCE\n- Document the exact organization name found in the source\n\n### Content Review\n- Read the actual content to identify which organization is being discussed\n- Look for location, size, leadership names that match verified target information\n- IF content mentions a different organization → NOT VALID EVIDENCE\n- IF organization details don't match target → NOT VALID EVIDENCE\n\n### Certification Details Check\n- Verify compliance validation date (reject if older than 1 year as PCI DSS requires annual validation)\n- Document the PCI DSS version (e.g., PCI DSS v4.0, v3.2.1)\n- Document merchant/service provider level (Level 1-4)\n- Note scope of compliance (specific systems, services, or entire organization)\n- Note if compliance appears to be current or expired\n- IMPORTANT: Do NOT use your research access date as the certification date\n\n## 5. JOB POSTINGS AND COMPLIANCE INITIATIVES WARNING\n- Job postings that mention PCI DSS responsibilities do NOT confirm certification\n- The existence of compliance teams or initiatives is NOT proof of certification\n- References to \"maintaining compliance\" in job descriptions are NOT sufficient evidence\n- IMPORTANT: Companies may have compliance programs without being certified\n- NEVER infer certification status from job listings or similar indirect references\n\n## 6. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} , you MUST document:\n- How you verified it refers to the correct organization\n- What specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- Why you're confident it's not about a similarly-named organization\n\n## 7. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n- If reporting \"pci_dss_certified: false\", DO NOT include certification details\n- If sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} ,they are NOT included as evidence\n- Confidence level matches the quality and consistency of evidence\n- No contradictions exist between evidence and conclusions\n- ALL certification details (dates, levels, etc.) are DIRECTLY sourced from official documentation\n\n# OUTPUT\nReturn your findings in JSON format with these specific fields:\n```json\n{\n  \"company_name\": \"[Company Name]\",\n  \"pci_dss_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown\", \n    \"certification_level\": \"Level 1-4 or Unknown\",\n    \"scope\": \"Description of systems/data covered or Unknown\",\n    \"pci_dss_version\": \"e.g., v4.0, v3.2.1, or Unknown\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\",\n      \"evidence_level\": \"Level 1-4 as per Evidence Hierarchy\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\nRESPONSE GUIDELINES\nPCI DSS Status Determination Checklist\n\nCertified Status (True) - ALL of these must be met:\n\nAt least one Level 1 or Level 2 evidence source explicitly states certification\nAt least one source is from company's verified official domain OR a recognized third-party attestation\nExplicit certification dates are provided in official documentation\nCompliance appears to be current (validated within the past year)\nALL sources clearly reference the EXACT {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nNO conflicting information about organization identity\nNO reliance on job postings or other Level 4 evidence to determine status\nIn this case, include complete certification details from official sources only\n\n\nNot Certified Status (False) - ANY of these conditions:\n\nThorough search of official sources finds no compliance evidence\nOfficial company sources explicitly state no PCI DSS compliance\nMultiple reliable sources indicate no compliance\nOnly Level 3 or Level 4 evidence is found (insufficient proof)\nIn this case, set certification details to \"Not Applicable\"\n\n\nUnclear Status - ANY of these conditions:\n\nOnly Level 3 evidence found without Level 1 or 2 confirmation\nSources are older than 1 year (PCI DSS requires annual validation)\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nConflicting information exists about certification status\n\nLogical Consistency Requirements\n\nFor \"pci_dss_certified: false\" determination:\n\nDo NOT include certification details from any other organization\nDo NOT reference certification dates, levels, or scope from non-applicable sources\nSet certification details to \"Not Applicable\" or similar clear indication\n\n\nFor \"pci_dss_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of certification information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if compliance appears to be for limited systems rather than company-wide\nRemember that PCI DSS compliance requires annual validation - information older than 1 year may not reflect current status\nNEVER infer certification from job listings, compliance initiatives, or other indirect evidence\nNever use your research access date as the certification date - dates must come from official documentation\nCRITICAL - The company name you are researching MUST match {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n(e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\n\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\n\nSource does not explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nYou cannot find direct quotes confirming the source discusses {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting certification details from an incorrect organization\nCreating relationships between organizations without explicit evidence\nUsing job postings or hiring information as proof of certification\nInferring certification dates from your research access dates\nConcluding \"certified: true\" without explicit Level 1 or Level 2 evidence","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-14780,940],"id":"e1894960-2c96-40b2-86a7-b2388a7d9d3e","name":"PCI DSS","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-14800,1140],"id":"a3b0ff23-b57f-4bfe-9e4c-15bb56e53d82","name":"PCI DSS Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"pci_dss_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        },\n        \"pci_dss_version\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          },\n          \"evidence_level\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"pci_dss_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}\n"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-14600,1120],"id":"86026487-bf60-4dc9-a7bd-cf55525a9c7c","name":"PCI DSS Output Parser"},{"parameters":{"promptType":"define","text":"=# INPUT\nCompany Name: {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nAbout: {{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany Domain: {{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nLinked In Page:{{ $('Adding Competitor Partner Classification').item.json.user_info.social_urls.linked_in }}\n\n# ROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved ISO 27001 Certification. You systematically analyze public information to make this determination with the highest possible accuracy.\n\n# GOAL\nDetermine whether {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has obtained ISO 27001 Certification by researching public sources. If the company has achieved ISO 27001 Certification, then you will provide the user with specific details about it, along with evidence.\n\n# RESEARCH PROCESS\n## 1. ESTABLISH TARGET IDENTITY\n- Search for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} official website\"\n- Document the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\n- Note the headquarters location and any other identifying information\n- CRITICAL: This verified information will be used to validate all other sources\n\n## 2. SEARCH FOR EVIDENCE\n- Search IAF CertSearch database for {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- Check regional accreditation authority websites (e.g., JAS-ANZ, UKAS, ANAB)\n- Review certification body online registers (e.g., BSI, Bureau Veritas, SGS)\n- Check the Schellman Certificate Directory\n- Search the company's verified official domain for ISO 27001 mentions\n- Check security/compliance/privacy pages on the company website\n- Review company press releases and announcements\n- Search for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} ISO 27001 certification\" in news resources\n- Check LinkedIn and other professional networks for announcements\n- Review annual reports, investor relations pages, and regulatory filings if available\n- Search for security whitepapers and trust centers on company domain\n- Look for mentions of Information Security Management System (ISMS)\n- Check for alternative security frameworks the company might use instead (SOC 2, HITRUST, NIST CSF)\n- Search at least 3-5 pages deep into Google results beyond the initial page\n- Check \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} security compliance\" and \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} information security certification\"\n\n## 3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\n\n### Domain Verification Check\n- IF source domain matches verified domain → VALID first-party source\n- IF source domain different from verified domain → REQUIRES additional verification\n\n### Organization Name Check  \n- Extract the EXACT organization name mentioned in the source text\n- Compare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- IF names don't match exactly → NOT VALID EVIDENCE\n- Document the exact organization name found in the source\n\n### Content Review\n- Read the actual content to identify which organization is being discussed\n- Look for location, size, leadership names that match verified target information\n- IF content mentions a different organization → NOT VALID EVIDENCE\n- IF organization details don't match target → NOT VALID EVIDENCE\n\n### Certification Details Check\n- Verify certification date (reject if older than 3 years)\n- Document scope, level, and any limitations\n- Note if certification appears to be current or expired\n- Check if certification is issued by an accredited certification body\n\n## 4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, you MUST document:\n- How you verified it refers to the correct organization\n- What specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- Why you're confident it's not about a similarly-named organization\n\n## 5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n- If reporting \"iso27001_certified: false\", DO NOT include certification details\n- If sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} , they are NOT included as evidence\n- Confidence level matches the quality and consistency of evidence\n- No contradictions exist between evidence and conclusions\n\n# OUTPUT\nReturn your findings in JSON format with these specific fields:\n```json\n{\n  \"company_name\": \"[Company Name]\",\n  \"iso27001_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown\", \n    \"certification_level\": \"e.g., Full certification, Limited scope, etc. or Unknown\",\n    \"scope\": \"Description of systems/data covered or Unknown\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\",\n  \"alternative_security_frameworks\": \"List any alternative security frameworks or certifications found (e.g., SOC 2, HITRUST)\",\n  \"research_completeness\": \"Description of search thoroughness and any limitations encountered\"\n}\nRESPONSE GUIDELINES\nISO 27001 Status Determination\n\nCertified Status (True)\n\nReport \"iso27001_certified: true\" ONLY if:\n\nAt least two independent sources confirm certification\nAt least one source is from company's verified official domain OR official certification body\nCertification appears to be current (ISO 27001 requires annual surveillance audits and recertification every 3 years)\nALL sources clearly reference the EXACT {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nNO conflicting information about organization identity\nThe certificate is issued by an accredited certification body\n\n\nIn this case, include complete certification details\n\n\nNot Certified Status (False)\n\nReport \"iso27001_certified: false\" when:\n\nThorough search of official sources finds no certification evidence\nOfficial company sources explicitly state no certification\nMultiple reliable sources indicate no certification\n\n\nSet certification details to \"Not Applicable\"\nDocument all sources checked to justify this determination\nNote any alternative security frameworks the company may use instead\n\n\nUnclear Status\n\nReport \"iso27001_certified: unclear\" when:\n\nOnly one source is found\nSources are older than 3 years\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nThe certification body cannot be verified as accredited\n\n\n\n\n\nConfidence Level Guidelines\n\nHigh Confidence:\n\nMultiple clear sources confirm the same status\nAt least one source is official (company website or accredited certification body)\nAll sources are recent (within last 12 months)\nNo contradictory information found\n\n\nMedium Confidence:\n\nLimited but clear evidence supporting the determination\nThorough searches of official sources yield consistent results\nSources may be slightly older (12-24 months)\nMinor inconsistencies in details but core determination is solid\nFor \"false\" determinations, thorough search conducted but not all possible sources checked\n\n\nLow Confidence:\n\nMinimal evidence available\nSignificant gaps in available information\nContradictory information exists\nIdentity verification issues present\nLimited access to key sources\n\n\n\nLogical Consistency Requirements\n\nFor \"iso27001_certified: false\" determination:\n\nDo NOT include certification details from any other organization\nDo NOT reference certification dates, levels, or scope from non-applicable sources\nSet certification details to \"Not Applicable\" or similar clear indication\nDocument all major sources checked to justify this determination\n\n\nFor \"iso27001_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of certification information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if certification appears to be for limited systems rather than company-wide\nSearch for equivalent Information Security Management System (ISMS) evidence if ISO 27001 is not explicitly mentioned\nDocument when a company appears to use alternative security frameworks instead of ISO 27001\nCRITICAL - The company name you are researching MUST match {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} \n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n(e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\nSource does not explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nYou cannot find direct quotes confirming the source discusses {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting certification details from an incorrect organization\nCreating relationships between organizations without explicit evidence\n","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-14420,940],"id":"2d29a9b2-f963-4514-a501-f78d83a7ff88","name":"ISO 27001","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-14420,1140],"id":"0fb526c4-7f8d-41d7-9cc3-d4c41a2240c0","name":"ISO-27001 Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"iso27001_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    },\n    \"alternative_security_frameworks\": {\n      \"type\": \"string\"\n    },\n    \"research_completeness\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"iso27001_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-14180,1120],"id":"1d42fb2e-ae8e-4263-9d15-1811d41f7e98","name":"ISO - 27001 Output Parser"},{"parameters":{"promptType":"define","text":"=# INPUT\nCompany Name:{{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nAbout: {{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany domain:{{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nLinked In Page: {{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n\n\n# ROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved ISO 42001 Artificial Intelligence Management System certification. You systematically analyze public information to make this determination with the highest possible accuracy.\n\n# GOAL\nDetermine whether {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has obtained ISO 42001 by researching public sources. If the company has achieved ISO 42001, then you will provide the user with specific details about it, along with evidence.\n\n# COMPLETION CHECKLIST\nBefore submitting, verify you have completed ALL of these mandatory steps:\n\n- [ ] Visited and documented company's official website\n- [ ] Checked company's certification/compliance page\n- [ ] Searched IAF CertSearch database\n- [ ] Checked at least one additional third-party certification registry\n- [ ] Checked company press releases or news pages\n- [ ] Documented all findings in the certification_databases_checked section\n- [ ] Added all ISO certifications found to other_iso_certifications (or explicitly noted \"none found\")\n- [ ] Included at least 3 distinct sources in the evidence section\n\n# RESEARCH REQUIREMENTS\nBefore submitting your report, you MUST complete ALL of the following:\n- Check and document the official company website (not just find it, but actually visit and document relevant sections)\n- Check at least TWO third-party certification databases and document results\n- Check the IAF CertSearch database specifically and document results\n- Examine company press releases or news pages for announcements\n- If company has subsidiaries or divisions, check if any of them have the certification\n\nFailure to complete ALL of these steps will result in an incomplete analysis.\n\n# CERTIFICATION DATABASE REQUIREMENTS\nYou MUST check and document at least TWO of these specific third-party sources:\n1. IAF CertSearch (mandatory)\n2. At least ONE of the following:\n   - Global ISO Register (globalisoregister.org)\n   - BSI Certificate Client Directory\n   - Bureau Veritas Certification Validation\n   - SGS Certificate Validation\n   - A regional accreditation body register (ANAB, UKAS, etc.)\n\nFailure to check at least two of these specific third-party databases will result in an incomplete analysis.\n\n# PRESS RELEASE VERIFICATION\nYou MUST explicitly check for and document:\n- Company press release or news section\n- If no such section exists, note this in your findings\n- Search terms used when examining these sections\n- Date range examined for press releases/news\n\n# RESOURCE MANAGEMENT\n- If you are concerned about token limits, prioritize thorough research of key sources over comprehensive explanation\n- Do not terminate your search early without checking the mandatory minimum sources\n- If token limitations prevent complete research, mark your confidence level as \"Low\" and note the limitations\n\n# RESEARCH PROCESS\n## 1. ESTABLISH TARGET IDENTITY\n- Search for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} official website\"\n- Document the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\n- Note the headquarters location and any other identifying information\n- CRITICAL: This verified information will be used to validate all other sources\n\n## 2. PRIMARY SOURCE REQUIREMENTS\nYour research MUST include ALL of these primary sources:\n1. The company's official website, particularly sections labeled:\n   - Certifications / Compliance\n   - About Us\n   - Quality / Standards\n   - Press Releases (last 12 months)\n2. At least TWO certification directories/databases:\n   - IAF CertSearch database\n   - Certification body registers (BSI, Bureau Veritas, SGS, etc.)\n   - Regional accreditation authority websites (e.g., UKAS, ANAB, JAS-ANZ)\n\nFor each source, document:\n- Exact URL accessed\n- Date accessed\n- Specific sections/pages examined\n- Search terms used within the site (if applicable)\n- Screenshots or exact quotes from relevant information\n\n## 3. THIRD-PARTY CERTIFICATION DATABASES\nExamples of third-party certification databases include:\n- IAF CertSearch\n- Global ISO Register (globalisoregister.org)\n- BSI Certificate Client Directory\n- Bureau Veritas Certification Validation\n- SGS Certificate Validation\n- Regional accreditation body registers (ANAB, UKAS, etc.)\n\nNote: The company's own website and social media profiles are NOT considered third-party certification databases.\n\n## 4. SEARCH FOR EVIDENCE\n- Search the International Accreditation Forum (IAF) CertSearch global database and document your findings\n- Check at least two major certification body registries (e.g., BSI, Bureau Veritas, SGS) and document results\n- Review regional accreditation authority websites (e.g., UKAS, ANAB, JAS-ANZ)\n- Check the company's verified official domain, especially \"About Us,\" \"Compliance,\" or \"Security\" sections\n- Search for company press releases about ISO 42001 certification\n- Search for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} ISO 42001 certification\" and \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} AI governance\"\n- Review industry resources, news articles, and announcements\n- Search LinkedIn and other professional networks for certification announcements\n- Check third-party verification services and certification databases\n\n## 5. WIKIPEDIA USAGE POLICY\n- Wikipedia may be used ONLY for initial background information\n- Wikipedia CANNOT be your primary or sole source of evidence for certification status\n- If you reference Wikipedia, you MUST verify any certification claims through primary sources\n- Wikipedia should be considered a starting point, not conclusive evidence\n\n## 6. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\n\n### Domain Verification Check\n- IF source domain matches verified domain → VALID first-party source\n- IF source domain different from verified domain → REQUIRES additional verification\n\n### Organization Name Check  \n- Extract the EXACT organization name mentioned in the source text\n- Compare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- IF names don't match exactly → NOT VALID EVIDENCE\n- Document the exact organization name found in the source\n\n### Content Review\n- Read the actual content to identify which organization is being discussed\n- Look for location, size, leadership names that match verified target information\n- IF content mentions a different organization → NOT VALID EVIDENCE\n- IF organization details don't match target → NOT VALID EVIDENCE\n\n### Certification Details Check\n- Verify certification date (reject if older than 3 years)\n- Document scope, level, and any limitations\n- Note if certification appears to be current or expired\n- Check if certification was issued by an accredited certification body\n- Verify the certification covers AI management systems specifically (not other ISO standards)\n\n## 7. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, you MUST document:\n- How you verified it refers to the correct organization\n- What specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- Why you're confident it's not about a similarly-named organization\n\n## 8. SIMILAR STANDARDS CHECK\n- If the company has other ISO certifications (especially ISO 27001, 31000, or 9001), explicitly note these\n- Verify that ISO 42001 is not being confused with these similar standards\n- Document how you confirmed the distinction between standards\n- Note: ISO 42001 is specifically for AI Management Systems and should not be confused with other standards\n\n## 9. ISO CERTIFICATION DOCUMENTATION\nFor \"other_iso_certifications\" section:\n- Document ALL ISO-specific certifications (like ISO 9001, ISO 27001)\n- If you find NO ISO certifications (but find other types like BICSI), explicitly note \"No ISO certifications found\" in an entry\n- Do not leave this array empty - either populate with findings or include an explicit \"none found\" entry\n\n## 10. CERTIFICATION DATABASE VALIDATION\nFor the \"certification_databases_checked\" section to be valid, you MUST:\n1. Include at least two entries from different third-party certification sources\n2. Document the exact search terms used in each database\n3. For each entry, specify whether it's a first-party source (company website) or third-party source\n4. Include a specific entry for company press releases if they have a press release or news section, with details about what was searched and found\n\n## 11. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n- If reporting \"iso42001_certified: false\", DO NOT include certification details\n- If sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, they are NOT included as evidence\n- Confidence level matches the quality and consistency of evidence\n- No contradictions exist between evidence and conclusions\n\n## 12. SUBMISSION REQUIREMENTS\nBefore submitting your report, verify ALL of these conditions:\n1. \"other_iso_certifications\" array contains at least one entry or explicit confirmation none were found\n2. \"certification_databases_checked\" array contains at least two database entries\n3. \"evidence\" array contains at least 3 distinct sources\n4. If confidence level is \"High\", you have checked ALL required sources\n5. Research summary includes specific mention of which certification databases were checked\n\nIf any of these conditions cannot be met, you MUST lower your confidence level to \"Low\" or \"Medium\" and explain the limitations.\n\n# OUTPUT\nReturn your findings in JSON format with these specific fields:\n```json\n{\n  \"company_name\": \"[Company Name]\",\n  \"iso42001_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown\", \n    \"certification_level\": \"e.g., Full Certification, Partial Certification, or Unknown\",\n    \"scope\": \"Description of systems/data covered or Unknown\",\n    \"certification_body\": \"Name of the certification body or Unknown\",\n    \"ai_systems_covered\": \"Details of which AI systems are covered by the certification\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\",\n      \"negative_evidence\": \"If applicable, explanation of why this source confirms lack of certification\"\n    }\n  ],\n  \"other_iso_certifications\": [\n    {\n      \"standard\": \"ISO standard name/number\",\n      \"verification_source\": \"URL where this was confirmed\"\n    }\n  ],\n  \"certification_databases_checked\": [\n    {\n      \"database_name\": \"Name of certification database\",\n      \"database_type\": \"First-party or Third-party\",\n      \"search_date\": \"YYYY-MM-DD\",\n      \"search_terms\": \"Terms used to search the database\",\n      \"search_results\": \"Summary of findings from this database\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\",\n  \"research_summary\": \"Brief overview of the search methodology and key conclusions\"\n}\nRESPONSE GUIDELINES\nISO 42001 Status Determination\n\nCertified Status (True)\n\nReport \"iso42001_certified: true\" ONLY if:\n\nAt least two independent sources confirm certification\nAt least one source is from company's verified official domain OR official ISO certification registry\nCertification appears to be current (ISO 42001 certifications typically require renewal every 3 years)\nALL sources clearly reference the EXACT {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nNO conflicting information about organization identity\nCertification is specifically for ISO 42001 (not confused with other ISO standards like ISO 27001)\n\n\nIn this case, include complete certification details\n\n\nNot Certified Status (False)\n\nReport \"iso42001_certified: false\" when:\n\nThorough search of official sources finds no certification evidence\nOfficial company sources explicitly state no certification\nMultiple reliable sources indicate no certification\nCompany lists other ISO certifications but omits ISO 42001\n\n\nIn this case, set certification details to \"Not Applicable\"\nDOCUMENT ALL other ISO certifications the company claims to have\nNOTE the absence of ISO 42001 from certification lists\nINCLUDE quotes from certification pages if available\n\n\nUnclear Status\n\nReport \"iso42001_certified: unclear\" when:\n\nOnly one source is found\nSources are older than 3 years\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nSources mention ISO certification but don't specifically identify ISO 42001\n\nLogical Consistency Requirements\n\nFor \"iso42001_certified: false\" determination:\n\nDo NOT include certification details from any other organization\nDo NOT reference certification dates, levels, or scope from non-applicable sources\nSet certification details to \"Not Applicable\" or similar clear indication\nDOCUMENT all other ISO certifications the company has as evidence of the absence of ISO 42001\n\n\nFor \"iso42001_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nCONFIDENCE LEVEL DETERMINATION\n\nHigh Confidence - ONLY if ALL of these are true:\n\nYou have checked the official company website AND at least two certification databases\nYou have found multiple consistent sources that all point to the same conclusion\nYou have verified the organizational identity across multiple sources\nYou have checked for similar standards and confirmed there is no confusion\nNo contradictory evidence exists\n\n\nMedium Confidence - If ANY of these are true:\n\nYou were unable to check all required sources\nLimited but consistent evidence was found\nSome minor discrepancies exist between sources\nYou found evidence but with some limitations (age, specificity, etc.)\n\n\nLow Confidence - If ANY of these are true:\n\nMajor research limitations prevented thorough investigation\nContradictory evidence exists\nVery limited sources available\nIdentity verification issues exist\nYou were unable to check most required sources\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of certification information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if certification appears to be for limited systems rather than company-wide\nSince ISO 42001 is relatively new (published in 2023), be particularly thorough in verifying certification claims\nVerify that certification is specifically for ISO 42001 (Artificial Intelligence Management System) and not confused with other ISO standards\nCRITICAL - The company name you are researching MUST match {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n(e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\n\nSource does not explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nYou cannot find direct quotes confirming the source discusses {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} \n\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting certification details from an incorrect organization\nCreating relationships between organizations without explicit evidence\nRelying solely on Wikipedia as a primary source of evidence\nSkipping any of the mandatory research requirements\nSetting confidence level to \"High\" without checking ALL required sources ","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-13980,940],"id":"a38423cf-f2c0-4bf5-a048-ccf1c7abce01","name":"ISO 42001 (AI)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-13980,1140],"id":"f43615ec-45d0-42ec-ba9e-3128e5172bf0","name":"ISO 42001 (AI) Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"iso42001_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        },\n        \"certification_body\": {\n          \"type\": \"string\"\n        },\n        \"ai_systems_covered\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          },\n          \"negative_evidence\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"other_iso_certifications\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"standard\": {\n            \"type\": \"string\"\n          },\n          \"verification_source\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"certification_databases_checked\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"database_name\": {\n            \"type\": \"string\"\n          },\n          \"database_type\": {\n            \"type\": \"string\"\n          },\n          \"search_date\": {\n            \"type\": \"string\"\n          },\n          \"search_terms\": {\n            \"type\": \"string\"\n          },\n          \"search_results\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    },\n    \"research_summary\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"iso42001_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"other_iso_certifications\",\n    \"certification_databases_checked\",\n    \"confidence_level\",\n    \"research_summary\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-13740,1120],"id":"b2be71e4-0e1f-49f3-b39d-8a873b4dbb9a","name":"ISO 42001 (AI) Output Parser"},{"parameters":{"promptType":"define","text":"=# INPUT\nCompany Name: {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nAbout:{{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany Domain:{{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nLinked In Page:{{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n\n# ROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved CMMC (Cybersecurity Maturity Model Certification). You systematically analyze public information to make this determination with the highest possible accuracy.\n\n# GOAL\nDetermine whether {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has obtained CMMC by researching public sources. If the company has achieved CMMC, then you will provide the user with specific details about it, along with evidence.\n\n# RESEARCH PROCESS\n## 1. ESTABLISH TARGET IDENTITY\n- Search for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} official website\"\n- Document the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\n- Note the headquarters location and any other identifying information\n- CRITICAL: This verified information will be used to validate all other sources\n\n## 2. SEARCH FOR EVIDENCE\n- Search the Cyber AB Marketplace (formerly CMMC Accreditation Body Marketplace) as the official directory for CMMC-related resources and certified companies\n- Check the DoD's Supplier Performance Risk System (SPRS) database which stores CMMC certificates for certified companies\n- Search the CMMC Enterprise Mission Assurance Support Services (eMASS) database that contains CMMC certificates and assessment data\n- Look up ComplyUp's CMMC Support Marketplace for potential information on certified companies\n- Check the company's verified official domain for CMMC compliance statements\n- Look for press releases about CMMC assessment completion\n- Check for CMMC Third-Party Assessment Organizations (C3PAOs) that may have assessed the company\n- Search industry resources, defense contractor databases, and news\n- Review public records and third-party validation services\n- Search social media and professional networks, particularly LinkedIn for CMMC announcements\n\n## 3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\n\n### Domain Verification Check\n- IF source domain matches verified domain → VALID first-party source\n- IF source domain different from verified domain → REQUIRES additional verification\n\n### Organization Name Check  \n- Extract the EXACT organization name mentioned in the source text\n- Compare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- IF names don't match exactly → NOT VALID EVIDENCE\n- Document the exact organization name found in the source\n\n### Content Review\n- Read the actual content to identify which organization is being discussed\n- Look for location, size, leadership names that match verified target information\n- IF content mentions a different organization → NOT VALID EVIDENCE\n- IF organization details don't match target → NOT VALID EVIDENCE\n\n### Certification Details Check\n- Verify certification date (reject if older than 3 years)\n- Document scope, level, and any limitations\n- Note if certification appears to be current or expired\n- Check specifically which CMMC level was achieved (Level 1, 2, or 3)\n- Verify if the certification was through a formal C3PAO assessment or self-assessment\n\n## 4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, you MUST document:\n- How you verified it refers to the correct organization\n- What specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- Why you're confident it's not about a similarly-named organization\n\n## 5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n- If reporting \"cmmc_certified: false\", DO NOT include certification details\n- If sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, they are NOT included as evidence\n- Confidence level matches the quality and consistency of evidence\n- No contradictions exist between evidence and conclusions","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-13520,940],"id":"b60504c7-b717-475f-b2ee-74928c977e65","name":"CMMC","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-13560,1140],"id":"099e17cd-8440-499f-af36-b0ce88bfc382","name":"CMMC Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"cmmc_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        },\n        \"assessment_type\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"cmmc_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-13300,1120],"id":"b4a5194c-2013-44f8-babc-21d3c0b9dec7","name":"CMMC Output parser"},{"parameters":{"promptType":"define","text":"=INPUT\nCompany Name:{{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nAbout:{{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany Domain:{{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nLinkedIn Page:{{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n\nROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved GDPR Compliance. You systematically analyze public information to make this determination with the highest possible accuracy.\nGOAL\nDetermine whether {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has obtained GDPR Compliance by researching public sources. If the company has achieved GDPR Compliance, then you will provide the user with specific details about it, along with evidence.\nRESEARCH PROCESS\n1. ESTABLISH TARGET IDENTITY\n\nSearch for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} official website\"\nDocument the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\nNote the headquarters location and any other identifying information\nCRITICAL: This verified information will be used to validate all other sources\n\n2. SEARCH FOR EVIDENCE\n\nCheck the company's verified official domain for privacy policies, data protection statements, or GDPR compliance pages\nLook for Data Protection Officer (DPO) appointments and contact information\nSearch for EU representative details if the company is based outside the EU\nReview company press releases about GDPR implementation\nCheck for GDPR compliance certifications from recognized certification bodies\nSearch for Privacy Shield Framework listings (if applicable)\nReview third-party compliance directories and verification services\nSearch industry resources and news mentioning the company's GDPR compliance\nReview public regulatory filings or annual reports that mention GDPR\n\n3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\nDomain Verification Check\n\nIF source domain matches verified domain → VALID first-party source\nIF source domain different from verified domain → REQUIRES additional verification\n\nOrganization Name Check\n\nExtract the EXACT organization name mentioned in the source text\nCompare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nIF names don't match exactly → NOT VALID EVIDENCE\nDocument the exact organization name found in the source\n\nContent Review\n\nRead the actual content to identify which organization is being discussed\nLook for location, size, leadership names that match verified target information\nIF content mentions a different organization → NOT VALID EVIDENCE\nIF organization details don't match target → NOT VALID EVIDENCE\n\nCompliance Details Check\n\nVerify compliance statement date (reject if older than 2 years)\nDocument scope, level, and any limitations\nNote if compliance appears to be current or expired\nCheck for specifics about GDPR Article 42 certifications if mentioned\nLook for evidence of specific compliance mechanisms:\n\nPrivacy notices/policies with GDPR-specific language\nData Protection Officer (DPO) appointment\nData subject rights request procedures\nLegal basis for processing personal data\nData protection impact assessment procedures\nData breach notification processes\n\n\n\n4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, you MUST document:\n\nHow you verified it refers to the correct organization\nWhat specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nWhy you're confident it's not about a similarly-named organization\n\n5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n\nIf reporting \"gdpr_compliant: false\", set ALL certification detail fields to \"Not Applicable\" (not \"Unknown\")\nIf reporting \"gdpr_compliant: unclear\", you may use \"Unknown\" for certification details\nIf reporting \"gdpr_compliant: true\", you must provide specific details (not \"Unknown\")\nIf sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, they are NOT included as evidence\nConfidence level matches the quality and consistency of evidence\nNo contradictions exist between evidence and conclusions\n\nOUTPUT\nReturn your findings in JSON format with these specific fields:\njsonCopy{\n  \"company_name\": \"[Company Name]\",\n  \"gdpr_compliant\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown or Not Applicable\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown or Not Applicable\", \n    \"compliance_level\": \"Article 42 Certification/Self-Declaration/Partial Compliance or Unknown or Not Applicable\",\n    \"scope\": \"Description of systems/data covered or Unknown or Not Applicable\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found, including specific GDPR compliance mechanisms identified\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\nRESPONSE GUIDELINES\nGDPR Compliance Status Determination\n\nCompliant Status (True)\n\nReport \"gdpr_compliant: true\" ONLY if:\n\nAt least two independent sources confirm compliance\nAt least one source is from company's verified official domain OR official certification body\nCompliance appears to be current (updated within the last 2 years)\nALL sources clearly reference the EXACT [Company Name]\nNO conflicting information about organization identity\nEvidence of specific GDPR compliance measures (privacy policy, DPO appointment, etc.)\n\n\nIn this case, include complete certification details\n\n\nNot Compliant Status (False)\n\nReport \"gdpr_compliant: false\" when:\n\nThorough search of official sources finds no compliance evidence\nOfficial company sources explicitly state no compliance\nMultiple reliable sources indicate no compliance\nCompany operates exclusively outside the EU/EEA and explicitly states GDPR does not apply\n\n\nIn this case, set certification details to \"Not Applicable\"\n\n\nUnclear Status\n\nReport \"gdpr_compliant: unclear\" when:\n\nOnly one source is found\nSources are older than 2 years\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nLimited GDPR compliance measures are found but no clear statement of full compliance\n\n\n\n\n\nLogical Consistency Requirements\n\nFor \"gdpr_compliant: false\" determination:\n\nDo NOT include certification details from any other organization\nDo NOT reference certification dates, levels, or scope from non-applicable sources\nSet ALL certification details fields to \"Not Applicable\" rather than \"Unknown\"\nThis includes setting date_achieved, expiration_date, compliance_level, and scope to \"Not Applicable\"\nNEVER use \"Unknown\" when the determination is \"gdpr_compliant: false\"\n\n\nFor \"gdpr_compliant: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of certification information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if compliance appears to be for limited systems rather than company-wide\nCRITICAL - The company name you are researching MUST match {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\nNote that GDPR does not have an official certification in the same way as other frameworks, but companies can obtain Article 42 certifications from approved bodies, or demonstrate compliance through other means\nWhen evaluating compliance, look for specific GDPR requirements: privacy notices, lawful basis for processing, data subject rights mechanisms, DPO appointments, data breach procedures, and data protection impact assessments\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n(e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\n\nSource does not explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\nYou cannot find direct quotes confirming the source discusses {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting certification details from an incorrect organization\nCreating relationships between organizations without explicit evidence\n\nExamples of Correct Response Patterns\nExample 1: When No Compliance Evidence is Found\njsonCopy{\n  \"company_name\": \"Example Corp\",\n  \"gdpr_compliant\": false,\n  \"certification_details\": {\n    \"date_achieved\": \"Not Applicable\",\n    \"expiration_date\": \"Not Applicable\",\n    \"compliance_level\": \"Not Applicable\",\n    \"scope\": \"Not Applicable\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"https://www.examplecorp.com/privacy\",\n      \"source_explanation\": \"I found this on the company's official website\",\n      \"date_accessed\": \"2023-10-07\",\n      \"key_findings\": \"Privacy policy mentions data protection but has no specific GDPR compliance statements\"\n    }\n  ],\n  \"confidence_level\": \"Medium\",\n  \"additional_notes\": \"While the company has privacy policies, none explicitly confirm GDPR compliance.\"\n}\nExample 2: When Clear Compliance Evidence is Found\njsonCopy{\n  \"company_name\": \"Example Corp\",\n  \"gdpr_compliant\": true,\n  \"certification_details\": {\n    \"date_achieved\": \"2022-06-15\",\n    \"expiration_date\": \"2024-06-15\",\n    \"compliance_level\": \"Self-Declaration\",\n    \"scope\": \"All customer data processing activities in the EU\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"https://www.examplecorp.com/gdpr-compliance\",\n      \"source_explanation\": \"I found this dedicated page on the company's official website\",\n      \"date_accessed\": \"2023-10-07\",\n      \"key_findings\": \"Page explicitly states the company is GDPR compliant, names their DPO, and outlines their data subject rights procedures\"\n    }\n  ],\n  \"confidence_level\": \"High\",\n  \"additional_notes\": \"Company has a comprehensive GDPR compliance program with regular audits.\"\n}\n","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-13080,940],"id":"801ec4cb-1933-433c-a886-8a96179b5dcc","name":"GDPR","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-13100,1140],"id":"4fada328-fb4f-4cb3-8efd-8c23b1039975","name":"GDPR Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\",\n      \"description\": \"The exact name of the company being researched\"\n    },\n    \"gdpr_compliant\": {\n      \"type\": [\n        \"boolean\",\n        \"string\"\n      ],\n      \"description\": \"Whether the company is GDPR compliant: true, false, or unclear\",\n      \"enum\": [\n        true,\n        false,\n        \"unclear\"\n      ]\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\",\n          \"description\": \"Date when GDPR compliance was achieved (YYYY-MM-DD format) or 'Unknown' or 'Not Applicable'\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\",\n          \"description\": \"Date when GDPR compliance expires (YYYY-MM-DD format) or 'Unknown' or 'Not Applicable'\"\n        },\n        \"compliance_level\": {\n          \"type\": \"string\",\n          \"description\": \"Level of GDPR compliance (Article 42 Certification/Self-Declaration/Partial Compliance) or 'Unknown' or 'Not Applicable'\"\n        },\n        \"scope\": {\n          \"type\": \"string\",\n          \"description\": \"Description of systems/data covered by GDPR compliance or 'Unknown' or 'Not Applicable'\"\n        }\n      },\n      \"required\": [\n        \"date_achieved\",\n        \"expiration_date\",\n        \"compliance_level\",\n        \"scope\"\n      ]\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\",\n            \"description\": \"URL of the source\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\",\n            \"description\": \"Simple explanation of how this source was found\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\",\n            \"description\": \"Date when the source was accessed (YYYY-MM-DD format)\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\",\n            \"description\": \"Brief description of what was found, including specific GDPR compliance mechanisms identified\"\n          }\n        },\n        \"required\": [\n          \"source\",\n          \"source_explanation\",\n          \"date_accessed\",\n          \"key_findings\"\n        ]\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ],\n      \"description\": \"Confidence level in the determination based on quantity and quality of evidence\"\n    },\n    \"additional_notes\": {\n      \"type\": \"string\",\n      \"description\": \"Any relevant information not fitting above categories\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"gdpr_compliant\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\",\n    \"additional_notes\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-12900,1140],"id":"4b262112-8070-432b-a230-1f7b50d3327d","name":"GDPR Parser"},{"parameters":{"promptType":"define","text":"=# GOAL\nResearch and verify if {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has achieved HITRUST Certification, and provide specific details about their certification status using public information sources.\n\n## INPUT\nCompany Name: {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nIndustry: {{ $('Adding Competitor Partner Classification').item.json.company_info.industry }}\nDomain: {{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nAbout: {{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany Linked in profile:{{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n# ROLE\nYou are a specialized research assistant for a sales team. Your primary responsibility is to determine if a prospect's company has achieved HITRUST Certification by searching public information sources. You provide factual, accurate information about the company's HITRUST status with appropriate citations.\n\n# GOAL\nDetermine whether {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has obtained HITRUST Certification by researching public sources, and provide details about their certification if available.\n\n# RESEARCH PROCESS\n\n## 1. ESTABLISH TARGET IDENTITY\n- Search for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} official website\"\n- Document the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\n- Note the headquarters location and any other identifying information\n- CRITICAL: This verified information will be used to validate all other sources\n\n## 2. SEARCH FOR EVIDENCE\n- Search official HITRUST directories\n- Check the company's verified official domain\n- Search industry resources and news\n- Review public records and third-party validation services\n- Search social media and professional networks\n\n## 3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\n\n### Domain Verification Check\n- IF source domain matches verified domain → VALID first-party source\n- IF source domain different from verified domain → REQUIRES additional verification\n\n### Organization Name Check  \n- Extract the EXACT organization name mentioned in the source text\n- Compare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- IF names don't match exactly → NOT VALID EVIDENCE\n- Document the exact organization name found in the source\n\n### Content Review\n- Read the actual content to identify which organization is being discussed\n- Look for location, size, leadership names that match verified target information\n- IF content mentions a different organization → NOT VALID EVIDENCE\n- IF organization details don't match target → NOT VALID EVIDENCE\n\n### Certification Details Check\n- Verify certification date (reject if older than 3 years)\n- Document scope, level, and any limitations\n- Note if certification appears to be current or expired\n\n## 4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, you MUST document:\n- How you verified it refers to the correct organization\n- What specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n- Why you're confident it's not about a similarly-named organization\n\n## 5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n- If reporting \"hitrust_certified: false\", DO NOT include certification details from any source\n- If sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, they are NOT included as evidence\n- Confidence level matches the quality and consistency of evidence\n- No contradictions exist between evidence and conclusions\n\nReturn your findings in JSON format with these specific fields:\n```json\n{\n  \"company_name\": \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\",\n  \"hitrust_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown\",\n    \"certification_level\": \"e.g., CSF Certified, CSF Validated, etc. or Unknown\",\n    \"scope\": \"Description of systems/data covered or Unknown\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\n```","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-12720,940],"id":"91b10608-546e-4ccf-ae14-100263dff647","name":"HITRUST","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-12720,1120],"id":"fbd9b5fa-b317-4d40-89b0-18ddbab1ac7e","name":"HITRUST Model","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"hitrust_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\"\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"hitrust_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-12500,1120],"id":"cd0fa82d-f72e-451d-8c3a-efb26309d479","name":"HITRUST Output Parser"},{"parameters":{"promptType":"define","text":"=INPUT\nCompany name:{{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nAbout:{{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany Domain:{{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nLinked In Page:{{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n\nROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved HITRUST AI RMF (AI) certification. You systematically analyze public information to make this determination with the highest possible accuracy.\nGOAL\nDetermine whether {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has obtained HITRUST AI RMF (AI) certification by researching public sources. If the company has achieved HITRUST AI RMF (AI) certification, then you will provide the user with specific details about it, along with evidence.\nRESEARCH PROCESS\n1. ESTABLISH TARGET IDENTITY\n\nSearch for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} official website\"\nDocument the verified official domain (e.g., \"homedepot.com\" for Home Depot)\nIf initial search fails, try variations: \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} website\", \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} corporate\"\nVerify the domain by checking for official branding, about us pages, and contact information\nNote the headquarters location, year founded, and leadership names for identity verification\nCRITICAL: This verified information will be used to validate all other sources\nIf you cannot verify the official domain, document this limitation in your final report\n\n2. SEARCH FOR EVIDENCE\n\nSearch the HITRUST Alliance website (hitrustalliance.net) for the company name\nCheck the HITRUST CSF Assessor directory and certification listings\nSearch the verified company domain using: \"site:[verified domain] HITRUST\" and \"site:[verified domain] certification\"\nSearch for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} security compliance\" and \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} certifications\"\nCheck company security/privacy pages, annual reports, and investor relations documents\nSearch for press releases with: \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} announces HITRUST\" and \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} achieves HITRUST\"\nCheck LinkedIn for company posts about certification achievements\nSearch industry news with: \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} HITRUST AI RMF\" and \"HITRUST AI certification {{ $('Adding Competitor Partner Classification').item.json.company_info.industry }}\"\nCheck third-party verification services like Vanta or OneTrust\nSearch for the company in government contract databases which often require certifications\n\n3. PERFORM DEEPER ANALYSIS IF INITIAL SEARCHES FAIL\n\nSearch for parent company and subsidiary relationships: \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} parent company\" or \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} subsidiaries\"\nCheck industry-specific certification directories related to the company's sector\nSearch for alternative company name spellings or recent name changes\nIf a clear domain was established, use targeted site searches: \"site:[domain] AI compliance\" and \"site:[domain] security framework\"\n\n4. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\nDomain Verification Check\n\nIF source domain matches verified domain → VALID first-party source\nIF source domain different from verified domain → REQUIRES additional verification\n\nOrganization Name Check\n\nExtract the EXACT organization name mentioned in the source text\nCompare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\nIF names don't match exactly → NOT VALID EVIDENCE\nDocument the exact organization name found in the source\n\nContent Review\n\nRead the actual content to identify which organization is being discussed\nLook for location, size, leadership names that match verified target information\nIF content mentions a different organization → NOT VALID EVIDENCE\nIF organization details don't match target → NOT VALID EVIDENCE\n\nCertification Details Check\n\nVerify certification date (reject if older than 2 years as HITRUST certifications typically require renewal every 2 years)\nDocument scope, level, and any limitations\nNote if certification appears to be current or expired\nConfirm it specifically mentions AI RMF certification, not just general HITRUST CSF certification\n\n5. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, you MUST document:\n\nHow you verified it refers to the correct organization\nWhat specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\nWhy you're confident it's not about a similarly-named organization\n\n6. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n\nIf reporting \"hitrust_ai_rmf_certified: false\", DO NOT include certification details\nIf sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, they are NOT included as evidence\nConfidence level matches the quality and consistency of evidence\nNo contradictions exist between evidence and conclusions\nYou have conducted AT LEAST 10 distinct searches before concluding no certification exists\n\nOUTPUT\nReturn your findings in JSON format with these specific fields:\njsonCopy{\n  \"company_name\": \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\",\n  \"hitrust_ai_rmf_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown\", \n    \"certification_level\": \"AI RMF Certified, AI RMF Validated, or Unknown\",\n    \"scope\": \"Description of AI systems/models covered or Unknown\",\n    \"assessor_name\": \"Name of HITRUST CSF Assessor organization or Unknown\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"confidence_explanation\": \"Brief explanation of factors determining the confidence level\",\n  \"search_challenges\": \"Document any search difficulties encountered\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\nRESPONSE GUIDELINES\nHITRUST AI RMF (AI) Status Determination\n\nCertified Status (True)\n\nReport \"hitrust_ai_rmf_certified: true\" ONLY if:\n\nAt least two independent sources confirm certification\nAt least one source is from company's verified official domain OR official HITRUST directory\nCertification appears to be current (within 2-year validity period)\nALL sources clearly reference the EXACT {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nNO conflicting information about organization identity\nSources specifically mention AI RMF certification, not just generic HITRUST certification\n\n\nIn this case, include complete certification details\n\n\nNot Certified Status (False)\n\nReport \"hitrust_ai_rmf_certified: false\" when:\n\nThorough search of official sources finds no certification evidence\nOfficial company sources explicitly state no certification\nMultiple reliable sources indicate no certification\nYou have attempted AT LEAST 10 distinct search strategies\n\n\nIn this case, set certification details to \"Not Applicable\"\n\n\nUnclear Status\n\nReport \"hitrust_ai_rmf_certified: unclear\" when:\n\nOnly one source is found\nSources are older than 2 years\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nSources mention HITRUST certification but don't specify AI RMF certification\nOfficial domain could not be verified with high confidence\n\n\n\n\n\nCONFIDENCE LEVEL DETERMINATION\n\nHigh Confidence - Assign when:\n\nAt least 10 distinct searches were performed\nCompany's official website was clearly identified and searched\nIndustry-specific directories were checked\nMultiple search strategies were employed\nNo contradictory information was found\n\n\nMedium Confidence - Assign when:\n\n5-9 distinct searches were performed\nSome difficulty establishing company identity\nLimited industry-specific sources were checked\nSome search strategies faced technical limitations\n\n\nLow Confidence - Assign when:\n\nFewer than 5 searches were performed\nUnable to verify official company website\nSearch queries consistently failed or timed out\nConflicting information was encountered\n\n\n\nLogical Consistency Requirements\n\nFor \"hitrust_ai_rmf_certified: false\" determination:\n\nDo NOT include certification details from any other organization\nDo NOT reference certification dates, levels, or scope from non-applicable sources\nSet certification details to \"Not Applicable\" or similar clear indication\n\n\nFor \"hitrust_ai_rmf_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of certification information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if certification appears to be for limited AI systems rather than company-wide\nDistinguish between general HITRUST CSF certification and specific AI RMF certification\nIf searches consistently return no results, try at least 3 alternative search strategies before concluding\nCRITICAL - The company name you are researching MUST match {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nHANDLING SEARCH LIMITATIONS\n\nIf searches consistently return \"No results\" or appear to timeout:\n\nTry removing quotes from search terms\nBreak complex queries into simpler ones\nUse alternative search engines if available\nDocument all search limitations in the \"search_challenges\" field\nReduce confidence level appropriately based on search limitations\n\n\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n(e.g., homedepot.com for Home Depot)\nANY source from a different domain REQUIRES explicit confirmation it's discussing {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\nSource does not explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} \nYou cannot find direct quotes confirming the source discusses {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting certification details from an incorrect organization\nCreating relationships between organizations without explicit evidence\nConcluding research with fewer than 10 distinct search attempts\nRelying solely on search failures without trying alternative strategies","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-12340,940],"id":"3b160cff-44c6-46bb-a753-ca424df7f642","name":"HITRUST AI RMF (AI)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-12340,1120],"id":"4cb0525c-e668-42c7-991c-3b5b4a379377","name":"HITRUST AI RMF (AI) Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"hitrust_ai_rmf_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        },\n        \"assessor_name\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"hitrust_ai_rmf_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-12140,1120],"id":"ad9e8309-8684-4d53-9b38-1742cb63f891","name":"HITRUST AI RMF (AI) Output parser"},{"parameters":{"promptType":"define","text":"=INPUT\nCompany Name:{{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nAbout:{{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany domain:{{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nLinkedIn page:{{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n\n\nROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved NIST Cybersecurity Framework (CSF) implementation. You systematically analyze public information to make this determination with the highest possible accuracy.\nGOAL\nDetermine whether {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has implemented the NIST Cybersecurity Framework (CSF) by researching public sources. If the company has implemented the NIST CSF, then you will provide the user with specific details about it, along with evidence.\nCRITICAL RESEARCH REQUIREMENTS\n\n⚠️ Your response will be REJECTED if you do not complete at least 5 different search approaches\n⚠️ Your response will be REJECTED if you make a definitive determination (true/false) with \"Low\" confidence\n⚠️ Your response will be REJECTED if you don't spend at least 30 seconds on research\n⚠️ Your response will be REJECTED if you set certification details to anything other than \"Not Applicable\" when reporting \"nist_csf_certified: false\"\n\nRESEARCH PROCESS\n1. ESTABLISH TARGET IDENTITY\n\nSearch for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} official website\"\nDocument the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\nNote the headquarters location and any other identifying information\nCRITICAL: This verified information will be used to validate all other sources\n\n2. SEARCH FOR EVIDENCE (COMPLETE ALL OF THESE)\nYou MUST complete ALL of the following search approaches and document each one:\n\nCheck the company's verified official domain for security/compliance pages\n\nLook specifically for terms like \"cybersecurity,\" \"security framework,\" \"NIST,\" \"CSF,\" or \"compliance\"\n\n\nSearch for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} NIST Cybersecurity Framework implementation\"\nSearch for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} cybersecurity compliance\" or \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} security posture\"\nSearch for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} annual security report\" or \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} security whitepaper\"\nCheck industry resources and cybersecurity news for mentions of {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nReview the company's LinkedIn page for security/compliance mentions\nSearch official NIST CSF directories and resources\n\n3. HANDLING SEARCH FAILURES\nIf initial searches don't yield results:\n\nTry alternative company name formats (e.g., full legal name, common abbreviations)\nAdd industry terms to searches (e.g., \"{{ $('Adding Competitor Partner Classification').item.json.company_info.industry }} companies using NIST CSF\")\nCheck industry compliance databases specific to the company's sector\nLook for press releases about security initiatives or improvements\nSearch for cybersecurity job postings that mention NIST CSF requirements\nCheck security conferences or webinars where the company presented\n\n4. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\nDomain Verification Check\n\nIF source domain matches verified domain → VALID first-party source\nIF source domain different from verified domain → REQUIRES additional verification\n\nOrganization Name Check\n\nExtract the EXACT organization name mentioned in the source text\nCompare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nIF names don't match exactly → NOT VALID EVIDENCE\nDocument the exact organization name found in the source\n\nContent Review\n\nRead the actual content to identify which organization is being discussed\nLook for location, size, leadership names that match verified target information\nIF content mentions a different organization → NOT VALID EVIDENCE\nIF organization details don't match target → NOT VALID EVIDENCE\n\nFramework Implementation Details Check\n\nVerify implementation date (note recency)\nDocument implementation tier/level (Tier 1-4 if mentioned)\nNote scope of implementation (entire organization vs specific divisions)\nCheck if the company mentions specific NIST CSF functions (Identify, Protect, Detect, Respond, Recover)\nNote if implementation appears to be current or outdated\n\n5. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, you MUST document:\n\nHow you verified it refers to the correct organization\nWhat specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nWhy you're confident it's not about a similarly-named organization\n\n6. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n\nYou have completed at least 5 different search approaches\nYou have spent at least 30 seconds on your research\nIf reporting \"nist_csf_certified: false\", ALL certification details are set to \"Not Applicable\" (not \"Unknown\")\nIf confidence level is \"Low\", determination is set to \"unclear\" not true/false\nIf sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, they are NOT included as evidence\nNo contradictions exist between evidence and conclusions\n\nFINAL VALIDATION CHECKLIST\nBefore submitting your response, confirm all of these are TRUE:\n\n I have completed at least 5 different search approaches\n I have spent at least 30 seconds on research\n I have set certification details to \"Not Applicable\" if reporting \"nist_csf_certified: false\"\n I have set determination to \"unclear\" if my confidence is \"Low\"\n I have documented each search query exactly as entered\n I have verified all sources refer to the exact company being researched\n\nOUTPUT\nReturn your findings in JSON format with these specific fields:\njsonCopy{\n  \"company_name\": \"[Company Name]\",\n  \"nist_csf_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Not Applicable\",\n    \"expiration_date\": \"YYYY-MM-DD or Not Applicable\", \n    \"certification_level\": \"Implementation Tier (1-4) or Not Applicable\",\n    \"scope\": \"Description of systems/data covered or Not Applicable\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found, including direct quotes if available\"\n    }\n  ],\n  \"search_compliance\": {\n    \"minimum_5_approaches\": true/false,\n    \"minimum_time_30_seconds\": true/false,\n    \"searches_completed\": [\"approach1\", \"approach2\", \"approach3\", \"approach4\", \"approach5\"]\n  },\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\nRESPONSE GUIDELINES\nNIST Cybersecurity Framework (CSF) Status Determination\n\nCertified Status (True)\n\nReport \"nist_csf_certified: true\" ONLY if:\n\nAt least two independent sources confirm implementation\nAt least one source is from company's verified official domain OR official NIST resource\nImplementation appears to be current (mentioned within last 3 years)\nALL sources clearly reference the EXACT {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nNO conflicting information about organization identity\nYour confidence level is \"High\" or \"Medium\" (NEVER \"Low\")\n\n\nIn this case, include complete implementation details\n\n\nNot Certified Status (False)\n\nReport \"nist_csf_certified: false\" ONLY when:\n\nYou have completed ALL required search methods (minimum 5)\nThorough search of official sources finds no implementation evidence\nOfficial company sources explicitly state no NIST CSF implementation\nMultiple reliable sources indicate no implementation\nYour confidence level is \"High\" or \"Medium\" (NEVER \"Low\")\n\n\nIn this case, you MUST set ALL certification details to \"Not Applicable\" (not \"Unknown\")\n\n\nUnclear Status\n\nReport \"nist_csf_certified: unclear\" when:\n\nOnly one source is found\nSources are older than 3 years\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nYour confidence level is \"Low\"\nYou have not completed the minimum required searches\n\n\nMANDATORY LOGICAL CONSISTENCY RULES\n\nIF confidence_level == \"Low\" THEN nist_csf_certified MUST be \"unclear\"\nIF nist_csf_certified == \"false\" THEN ALL certification_details MUST be \"Not Applicable\"\nIF minimum_5_approaches == false THEN nist_csf_certified MUST be \"unclear\"\nIF minimum_time_30_seconds == false THEN nist_csf_certified MUST be \"unclear\"\n\nLogical Consistency Requirements\n\nFor \"nist_csf_certified: false\" determination:\n\nDo NOT include implementation details from any other organization\nDo NOT reference implementation dates, levels, or scope from non-applicable sources\nSet ALL certification details to \"Not Applicable\" (NEVER \"Unknown\")\n\n\nFor \"nist_csf_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nNote that NIST CSF is a framework, not a formal certification program with a central registry\nCompanies self-attest to NIST CSF implementation, often with third-party validation\nLook for implementation tier levels (Tier 1-Partial, Tier 2-Risk Informed, Tier 3-Repeatable, Tier 4-Adaptive)\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of implementation information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if implementation appears to be for limited systems rather than company-wide\nCRITICAL - The company name you are researching MUST match {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} \n(e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\nSource does not explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nYou cannot find direct quotes confirming the source discusses {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} \n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting implementation details from an incorrect organization\nCreating relationships between organizations without explicit evidence\n","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-11960,940],"id":"d1e20e19-33c7-4f70-8554-c5f1dcd7feea","name":"NIST CSF","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-11960,1140],"id":"da917e7d-f121-4b2f-afe1-e6ce764f7eb8","name":"NIST CSF - Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"nist_csf_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"certification_level\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"search_compliance\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"minimum_5_approaches\": {\n          \"type\": \"boolean\"\n        },\n        \"minimum_time_30_seconds\": {\n          \"type\": \"boolean\"\n        },\n        \"searches_completed\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"nist_csf_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"search_compliance\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-11740,1120],"id":"6f22cc2b-8705-41af-9d29-d7bd44d61234","name":"NIST CSF - Output parser"},{"parameters":{"promptType":"define","text":"=INPUT\nCompany Name:{{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nAbout:{{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\nCompany Domain:{{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\nLinkedIn Page:{{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\nROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved NIST SP 800-53 compliance. You systematically analyze public information to make this determination with the highest possible accuracy.\nGOAL\nDetermine whether {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} has obtained NIST SP 800-53 compliance by researching public sources. If the company has achieved NIST SP 800-53 compliance, then you will provide the user with specific details about it, along with evidence.\nRESEARCH PROCESS\n1. ESTABLISH TARGET IDENTITY\n\nSearch for \"[Company Name] official website\"\nDocument the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\nNote the headquarters location and any other identifying information\nCRITICAL: This verified information will be used to validate all other sources\n\n2. SEARCH FOR EVIDENCE\n\nSearch for \"{{ $('Adding Competitor Partner Classification').item.json.company_info.name }} NIST SP 800-53 compliance\"\nCheck the System for Award Management (SAM) database for government contracts requiring NIST compliance\nCheck FedRAMP Marketplace (as FedRAMP is based on NIST SP 800-53)\nSearch SEC filings and annual reports for publicly traded companies\nSearch the company's verified official domain, particularly security/compliance pages\nReview company press releases, case studies, and white papers\nCheck for third-party attestation or assessment reports\nSearch industry resources and news for compliance announcements\nLook for related certifications that incorporate NIST SP 800-53 (FedRAMP, FISMA, etc.)\n\n3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\nDomain Verification Check\n\nIF source domain matches verified domain → VALID first-party source\nIF source domain different from verified domain → REQUIRES additional verification\n\nOrganization Name Check\n\nExtract the EXACT organization name mentioned in the source text\nCompare to target {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nIF names don't match exactly → NOT VALID EVIDENCE\nDocument the exact organization name found in the source\n\nContent Review\n\nRead the actual content to identify which organization is being discussed\nLook for location, size, leadership names that match verified target information\nIF content mentions a different organization → NOT VALID EVIDENCE\nIF organization details don't match target → NOT VALID EVIDENCE\n\nCertification Details Check\n\nVerify compliance date (reject if older than 3 years)\nDocument scope, security control baseline, and any limitations\nNote if compliance appears to be current or expired\nCheck which specific revision of NIST SP 800-53 is mentioned (Rev. 4, Rev. 5, etc.)\n\n4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, you MUST document:\nHow you verified it refers to the correct organization\nWhat specific text in the source confirms it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nWhy you're confident it's not about a similarly-named organization\n\n5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n\nIf reporting \"nist800_53_certified: false\", DO NOT include certification details\nIf sources are about a different organization than {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}, they are NOT included as evidence\nConfidence level matches the quality and consistency of evidence\nNo contradictions exist between evidence and conclusions\n\nOUTPUT\nReturn your findings in JSON format with these specific fields:\njsonCopy{\n  \"company_name\": \"[Company Name]\",\n  \"nist800_53_certified\": true/false/unclear,\n  \"certification_details\": {\n    \"date_achieved\": \"YYYY-MM-DD or Unknown\",\n    \"expiration_date\": \"YYYY-MM-DD or Unknown\", \n    \"revision_level\": \"e.g., Rev. 4, Rev. 5, or Unknown\",\n    \"security_control_baseline\": \"e.g., Low, Moderate, High, or Unknown\",\n    \"scope\": \"Description of systems/data covered or Unknown\"\n  },\n  \"evidence\": [\n    {\n      \"source\": \"URL only\",\n      \"source_explanation\": \"Simple, conversational explanation at 4th-grade level of how this source was found\",\n      \"date_accessed\": \"YYYY-MM-DD\",\n      \"key_findings\": \"Brief description of what was found\"\n    }\n  ],\n  \"confidence_level\": \"High/Medium/Low\",\n  \"additional_notes\": \"Any relevant information not fitting above categories\"\n}\nRESPONSE GUIDELINES\nNIST SP 800-53 Status Determination\n\nCertified Status (True)\n\nReport \"nist800_53_certified: true\" ONLY if:\n\nAt least two independent sources confirm compliance\nAt least one source is from company's verified official domain OR official government record\nCompliance appears to be current (within 3 years)\nALL sources clearly reference the EXACT {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\nNO conflicting information about organization identity\nIn this case, include complete certification details\n\n\nNot Certified Status (False)\n\nReport \"nist800_53_certified: false\" when:\n\nThorough search of official sources finds no compliance evidence\nOfficial company sources explicitly state no compliance\nMultiple reliable sources indicate no compliance\n\n\nIn this case, set certification details to \"Not Applicable\"\n\n\nUnclear Status\n\nReport \"nist800_53_certified: unclear\" when:\n\nOnly one source is found\nSources are older than 3 years\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nLogical Consistency Requirements\n\nFor \"nist800_53_certified: false\" determination:\n\nDo NOT include certification details from any other organization\nDo NOT reference certification dates, levels, or scope from non-applicable sources\nSet certification details to \"Not Applicable\" or similar clear indication\n\n\nFor \"nist800_53_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of compliance information\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote that NIST SP 800-53 compliance is particularly common for government contractors and agencies\nRemember that NIST SP 800-53 is often implemented at different security control baselines (Low, Moderate, High)\nCheck for related frameworks that incorporate NIST SP 800-53 (FedRAMP, FISMA, etc.)\nNote if compliance appears to be for limited systems rather than company-wide\nCRITICAL - The company name you are researching MUST match {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} (e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\n\nSource does not explicitly mention {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} \nYou cannot find direct quotes confirming the source discusses {{ $('Adding Competitor Partner Classification').item.json.company_info.name }} \n\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting certification details from an incorrect organization\nCreating relationships between organizations without explicit evidence\n","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-11580,940],"id":"e7d54c8f-e6fa-47b1-b1d2-b08e0e79c319","name":"NIST SP 800-53","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-11560,1140],"id":"52176f7a-5583-43b4-b257-9d2bea91a8aa","name":"NIST SP 800-53 Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"nist800_53_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"certification_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_achieved\": {\n          \"type\": \"string\"\n        },\n        \"expiration_date\": {\n          \"type\": \"string\"\n        },\n        \"revision_level\": {\n          \"type\": \"string\"\n        },\n        \"security_control_baseline\": {\n          \"type\": \"string\"\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"nist800_53_certified\",\n    \"certification_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-11360,1140],"id":"49ad9756-c5ef-4fca-a4d1-c158c6b2d0e1","name":"NIST SP 800-53 - Output parser"},{"parameters":{"promptType":"define","text":"=INPUT\n[Company Name]: {{ $('Adding Competitor Partner Classification').item.json.company_info.name }}\n[Company Description]: {{ $('Adding Competitor Partner Classification').item.json.company_info.description }}\n[Company Website]: {{ $('Adding Competitor Partner Classification').item.json.company_info.domain }}\n[Company LinkedIn Page]: {{ $('Adding Competitor Partner Classification').item.json.company_info.social_urls.linked_in }}\n[Additional Sources (optional)]:\nROLE\nYou are a specialized Compliance Research Agent focused exclusively on determining whether companies have achieved NIST AI RMF (Artificial Intelligence Risk Management Framework) implementation or compliance. You systematically analyze public information to make this determination with the highest possible accuracy.\nGOAL\nDetermine whether [Company Name] has implemented or aligned with NIST AI RMF by researching public sources. If the company has achieved NIST AI RMF implementation or compliance, then you will provide the user with specific details about it, along with evidence.\nRESEARCH PROCESS\n1. ESTABLISH TARGET IDENTITY\n\nSearch for \"[Company Name] official website\"\nDocument the verified official domain (e.g., \"chop.edu\" for Children's Hospital of Philadelphia)\nNote the headquarters location and any other identifying information\nCRITICAL: This verified information will be used to validate all other sources\n\n2. SEARCH FOR EVIDENCE\n\nSearch official NIST AI RMF resources and the NIST website for participating organizations\nCheck the company's verified official domain, particularly AI ethics, governance, or compliance pages\nSearch for \"[Company Name] NIST AI RMF implementation\" and similar queries\nReview the company's AI ethics documentation, risk management frameworks, and governance materials\nSearch industry resources, tech publications, and AI governance news\nReview public records, presentations at NIST workshops, and third-party validation services\nSearch social media and professional networks for announcements or discussions\nLook for white papers, case studies, or technical documentation about AI governance\n\n3. VALIDATE EACH SOURCE\nFor EVERY source found, you MUST perform these checks before accepting it as evidence:\nDomain Verification Check\n\nIF source domain matches verified domain → VALID first-party source\nIF source domain different from verified domain → REQUIRES additional verification\n\nOrganization Name Check\n\nExtract the EXACT organization name mentioned in the source text\nCompare to target [Company Name]\nIF names don't match exactly → NOT VALID EVIDENCE\nDocument the exact organization name found in the source\n\nContent Review\n\nRead the actual content to identify which organization is being discussed\nLook for location, size, leadership names that match verified target information\nIF content mentions a different organization → NOT VALID EVIDENCE\nIF organization details don't match target → NOT VALID EVIDENCE\n\nImplementation Details Check\n\nVerify implementation or alignment date (note recency as NIST AI RMF was released in January 2023)\nDocument scope, AI systems covered, and any limitations\nNote which NIST AI RMF functions (Govern, Map, Measure, Manage) are specifically mentioned\nLook for evidence of actual implementation rather than just stated intentions\n\n4. DOCUMENT VERIFICATION STEPS\nFor each source you claim is about [Company Name], you MUST document:\n\nHow you verified it refers to the correct organization\nWhat specific text in the source confirms it's about [Company Name]\nWhy you're confident it's not about a similarly-named organization\n\n5. FINAL CONSISTENCY CHECK\nBefore submitting your report, verify that:\n\nIf reporting \"nist_ai_rmf_certified: false\", DO NOT include implementation details\nIf sources are about a different organization than [Company Name], they are NOT included as evidence\nConfidence level matches the quality and consistency of evidence\nNo contradictions exist between evidence and conclusions\n\nOUTPUT\nReturn your findings in JSON format with these specific fields:\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"nist_ai_rmf_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"implementation_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_implemented\": {\n          \"type\": \"string\"\n        },\n        \"implementation_level\": {\n          \"type\": \"string\"\n        },\n        \"functions_implemented\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"nist_ai_rmf_certified\",\n    \"implementation_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}\nRESPONSE GUIDELINES\nNIST AI RMF Status Determination\n\nImplemented Status (True)\n\nReport \"nist_ai_rmf_certified: true\" ONLY if:\n\nAt least two independent sources confirm implementation or alignment\nAt least one source is from company's verified official domain OR official NIST resource\nImplementation appears to be current (since January 2023 release)\nALL sources clearly reference the EXACT [Company Name]\nNO conflicting information about organization identity\nEvidence shows actual implementation rather than just stated intentions\n\n\nIn this case, include complete implementation details\n\n\nNot Implemented Status (False)\n\nReport \"nist_ai_rmf_certified: false\" when:\n\nThorough search of official sources finds no implementation evidence\nOfficial company sources explicitly state no implementation\nMultiple reliable sources indicate no implementation\n\n\nIn this case, set implementation details to \"Not Applicable\"\n\n\nUnclear Status\n\nReport \"nist_ai_rmf_certified: unclear\" when:\n\nOnly one source is found\nSources mention intent to implement but no evidence of actual implementation\nAny confusion about organization identity exists\nSources reference similar but not exact company names\nAny source domain doesn't match verified domain without explicit reference\nYou cannot 100% confirm the sources discuss [Company Name]\nEvidence suggests only partial or informal alignment\n\n\n\n\n\nLogical Consistency Requirements\n\nFor \"nist_ai_rmf_certified: false\" determination:\n\nDo NOT include implementation details from any other organization\nDo NOT reference implementation dates, levels, or scope from non-applicable sources\nSet implementation details to \"Not Applicable\" or similar clear indication\n\n\nFor \"nist_ai_rmf_certified: unclear\" determination:\n\nClearly explain why the status cannot be determined\nList all verification steps attempted\nIdentify specific reasons for uncertainty (e.g., \"Sources only mention a similarly-named organization\")\n\n\n\nIMPORTANT GUIDELINES\n\nAlways search for the exact company name, watching for parent/subsidiary relationships\nVerify information from multiple sources when possible\nInclude direct quotes when available\nBe clear about the recency of implementation information (NIST AI RMF was released in January 2023)\nDo not contact the company directly\nAvoid making assumptions based on industry norms\nNote if implementation appears to be for limited AI systems rather than company-wide\nRemember that NIST AI RMF is voluntary, so look for evidence of actual adoption rather than legal requirements\nCRITICAL - The company name you are researching MUST match [Company Name]\nFor example, if the company you are researching is named \"Vision Inc.\", but you research and report on \"Vizion Inc\" then we will be terminated. THE COMPANY NAME BEING RESEARCHED MUST MATCH THE COMPANY NAME OF YOUR RESPONSE\n\nORGANIZATION IDENTITY VALIDATION\nSTRICT IDENTITY REQUIREMENTS\nBefore accepting ANY source as evidence, you MUST verify ALL of the following:\n\nEXACT NAME MATCH\n\nThe source MUST explicitly mention [Company Name] by its exact name\nSimilar names are NOT the same company (e.g., \"Children's Medical Center\" is NOT \"Children's Hospital of Philadelphia\")\nAcronyms are ONLY valid if the source explicitly defines them as referring to [Company Name]\n\n\nDOMAIN VERIFICATION\n\nFirst establish the official domain for [Company Name] (e.g., chop.edu for Children's Hospital of Philadelphia)\nANY source from a different domain REQUIRES explicit confirmation it's discussing [Company Name]\nDifferent domains typically indicate different organizations\n\n\nRELATIONSHIP VERIFICATION\n\nDO NOT assume organizations with similar names are \"related entities\" without explicit evidence\nIf you claim two organizations are related, you MUST provide a direct quote proving this relationship\nParent/subsidiary relationships MUST be explicitly documented with evidence\n\n\n\nAUTOMATIC SOURCE REJECTION\nYou MUST reject a source and NEVER use it as evidence if ANY of these are true:\n\nSource does not explicitly mention [Company Name]\nSource mentions a different organization name (even if similar)\nSource is from a different domain than the verified official domain AND does not clearly state it's about [Company Name]\nYou cannot find direct quotes confirming the source discusses [Company Name]\n\nFORBIDDEN PRACTICES\nYou are FORBIDDEN from:\n\nAssuming organizations with similar names are the same or related\nUsing information about one organization as evidence for another\nCiting implementation details from an incorrect organization\nCreating relationships between organizations without explicit evidence","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-11160,940],"id":"821d9373-dc0d-4bea-97f0-dcc912037542","name":"NIST AI RMF (AI)","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-11160,1140],"id":"7735c26e-30c2-4944-b8a8-f1d9033f3dee","name":"NIST AI RMF (AI) Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"schemaType":"manual","inputSchema":"{\n  \"type\": \"object\",\n  \"properties\": {\n    \"company_name\": {\n      \"type\": \"string\"\n    },\n    \"nist_ai_rmf_certified\": {\n      \"type\": \"boolean\"\n    },\n    \"implementation_details\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"date_implemented\": {\n          \"type\": \"string\"\n        },\n        \"implementation_level\": {\n          \"type\": \"string\"\n        },\n        \"functions_implemented\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"scope\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"evidence\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"source_explanation\": {\n            \"type\": \"string\"\n          },\n          \"date_accessed\": {\n            \"type\": \"string\"\n          },\n          \"key_findings\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"confidence_level\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"High\",\n        \"Medium\",\n        \"Low\"\n      ]\n    },\n    \"additional_notes\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"company_name\",\n    \"nist_ai_rmf_certified\",\n    \"implementation_details\",\n    \"evidence\",\n    \"confidence_level\"\n  ]\n}"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-10960,1140],"id":"8a58d8c2-affc-4290-9f3b-19cccdc1868c","name":"NIST AI RMF - Output parser"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"\nconst frameworks = {\n  \"SOC_1\":$('SOC 1').item?.json?.output || {},\n  \"SOC_2\":$('SOC 2').item?.json?.output || {},\n  \"HIPAA_HITECH\":$('HIPAA / HITECH').item?.json?.output || {},\n  \"PCI_DSS\":$('PCI DSS').item?.json?.output || {},\n  \"ISO_27001\":$('ISO 27001').item?.json?.output || {},\n  \"ISO_42001\":$('ISO 42001 (AI)').item?.json?.output || {},\n  \"CMMC\":$('CMMC').item?.json?.output || {},\n  \"GDPR\":$('GDPR').item?.json?.output || {},\n  \"HITRUST\":$('HITRUST').item?.json?.output ||{},\n  \"HITRUST_AI_RMF\":$('HITRUST AI RMF (AI)').item?.json?.output || {},\n  \"NIST_CSF\":$('NIST CSF').item?.json?.output || {},\n  \"NIST_SP_800_53\":$('NIST SP 800-53').item?.json?.output || {},\n  \"NIST_AI_RMF\":$json?.output || {}\n}\nreturn frameworks\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-10700,940],"id":"e323ec21-000a-43d2-a200-513c42d7e4bc","name":"Combining Found Frameworks"},{"parameters":{"promptType":"define","text":"=INPUT \nFramework Research: {{JSON.stringify($json)}}\nTASK\nYour task is to evaluate framework research from provided object and summerize everything into one string, but only mention the frameworks and their evidece if they are found.","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[-10440,940],"id":"f92a27c1-2d80-47d2-b80c-d264a34cbd8d","name":"Evaluating Framework Research","retryOnFail":true,"onError":"continueRegularOutput"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"const frameworks = $('Combining Found Frameworks').item.json\nframeworks.research_analysis = $json?.output || \"\"\n\nlet original = $('Adding Competitor Partner Classification').item.json\noriginal.company_info.found_frameworks = []\noriginal.company_info.found_frameworks.push(frameworks)\nreturn original\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-10080,940],"id":"90e7dd24-fe90-40cc-b359-976da1fdbca4","name":"Adding framework review and analysis"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{"maxRetries":10}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-10440,1140],"id":"9aef356d-48cc-47dd-809c-a7610fe27018","name":"Framework evaluation Agent","credentials":{"openAiApi":{"id":"mzHalaHzUD5jrTet","name":"searchactions.com: ispartnersllc.com - Website Visitor Enrichmen"}}},{"parameters":{"select":"channel","channelId":{"__rl":true,"value":"C07LFJN5BBL","mode":"list","cachedResultName":"isp-website-visitors"},"messageType":"block","blocksUi":"= {\n\t\"blocks\": [\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*Summary:*\\n {{ $('Adding to database').item.json.company_info.icp_score.summary.summary ? $('Adding to database').item.json.company_info.icp_score.summary.summary.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : \"\" }}\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*Prospect Criteria Scores:*\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rich_text\",\n\t\t\t\"elements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"rich_text_list\",\n\t\t\t\t\t\"style\": \"bullet\",\n\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Job Title Score: {{ $('Adding to database').item.json.company_info.icp_score.summary.job_title_summary ? $('Adding to database').item.json.company_info.icp_score.summary.job_title_summary.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : \"\"}}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Industry Score: {{ $('Adding to database').item.json.company_info.icp_score.summary.industry_summary ? $('Adding to database').item.json.company_info.icp_score.summary.industry_summary.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() :\"\" }}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Location Score: {{ $('Adding to database').item.json.company_info.icp_score.summary.location_summary ? $('Adding to database').item.json.company_info.icp_score.summary.location_summary.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : \"\" }}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Company Size: {{ $('Adding to database').item.json.company_info.icp_score.summary.company_size_summary ? $('Adding to database').item.json.company_info.icp_score.summary.company_size_summary.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : \"\" }} \"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Frameworks: {{ $('Adding to database').item.json.company_info.icp_score.summary.frameworks_summary ? $('Adding to database').item.json.company_info.icp_score.summary.frameworks_summary.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : \"\" }}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"rich_text_section\",\n\t\t\t\t\t\t\t\"elements\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\t\t\"text\": \"Intent: {{ $('Adding to database').item.json.company_info.icp_score.summary.intent_summary ? $('Adding to database').item.json.company_info.icp_score.summary.intent_summary.replace(/\\\"/g, '\\\\\"').replace(/\\n/g, ' ').trim() : \"\" }}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}","text":"test","otherOptions":{"includeLinkToWorkflow":false,"thread_ts":{"replyValues":{"thread_ts":"={{ $json.message_timestamp }}"}}}},"type":"n8n-nodes-base.slack","typeVersion":2.3,"position":[5400,1480],"id":"3cc92b23-cb90-49fb-9dbd-c6f75b350619","name":"Scoring Summary Thread","webhookId":"6679d82f-0ab3-4085-80f2-c5c3f4e2d326","credentials":{"slackApi":{"id":"mh1ccfWQbWyrWV03","name":"searchaction.com -N8N"}}}],"connections":{"Anthropic Chat Model":{"ai_languageModel":[[{"node":"Finding Missing data Agent","type":"ai_languageModel","index":0}]]},"Anhtropic Query":{"main":[[{"node":"Finding Missing data Agent","type":"main","index":0}]]},"Mockup Data":{"main":[[{"node":"Summarizing","type":"main","index":0}]]},"Summarizing":{"main":[[{"node":"Anhtropic Query","type":"main","index":0}]]},"Anthropic Response":{"main":[[{"node":"Email Finder Agent","type":"main","index":0}]]},"Combining Email data":{"main":[[{"node":"Supabase","type":"main","index":0}]]},"Finding Linked In query":{"main":[[{"node":"Finding Linked In2","type":"main","index":0}]]},"Is personal LinkedIn present?":{"main":[[{"node":"Is personal OR company LinkedIn present?","type":"main","index":0}],[{"node":"Finding Linked In query","type":"main","index":0}]]},"Is personal OR company LinkedIn present?":{"main":[[{"node":"Profile Search","type":"main","index":0}],[{"node":"Mobile Finder query","type":"main","index":0}]]},"Mobile Finder query":{"main":[[{"node":"Mobile Finder","type":"main","index":0}]]},"Company Search query":{"main":[[{"node":"Do we have Linked in, company domain or company name ?","type":"main","index":0}]]},"Do we have Linked in, company domain or company name ?":{"main":[[{"node":"Company Search","type":"main","index":0}],[{"node":"Summarizing User Info","type":"main","index":0}]]},"Company Search":{"main":[[{"node":"Summarizing User Info","type":"main","index":0}]]},"Combining Company - User - Technical Data":{"main":[[{"node":"Analyzing data","type":"main","index":0}]]},"Finding Linked In2":{"main":[[{"node":"Is personal OR company LinkedIn present?","type":"main","index":0}]]},"Profile Search":{"main":[[{"node":"Mobile Finder query","type":"main","index":0}]]},"Mobile Finder":{"main":[[{"node":"Company Search query","type":"main","index":0}]]},"Summarizing Company Info":{"main":[[{"node":"Summarizing Technical Data","type":"main","index":0}]]},"Summarizing User Info":{"main":[[{"node":"Summarizing Company Info","type":"main","index":0}]]},"Page Information prompt":{"main":[[{"node":"Page Visited Agent","type":"main","index":0}]]},"Page info - Output parser":{"ai_outputParser":[[{"node":"Page Visited Agent","type":"ai_outputParser","index":0}]]},"Page Visited Agent":{"main":[[{"node":"Combining Page Info. Data","type":"main","index":0}]]},"About the Contact - Output parser":{"ai_outputParser":[[{"node":"About the Contact Agent","type":"ai_outputParser","index":0}]]},"Combining Page Info. Data":{"main":[[{"node":"About the Company prompt","type":"main","index":0}]]},"About the Company prompt":{"main":[[{"node":"About the Company Agent","type":"main","index":0}]]},"Combining Contact non-public information":{"main":[[{"node":"Competitor/Partner Classification","type":"main","index":0}]]},"Combining Company info. data":{"main":[[{"node":"Funding","type":"main","index":0}]]},"About the contact prompt":{"main":[[{"node":"About the Contact Agent","type":"main","index":0}]]},"About the Company Agent":{"main":[[{"node":"Combining Company info. data","type":"main","index":0}]]},"About the Contact Agent":{"main":[[{"node":"Combining Contact non-public information","type":"main","index":0}]]},"Finding Missing data Agent":{"main":[[{"node":"Anthropic Response","type":"main","index":0}]]},"Finding Missing Data - Parser":{"ai_outputParser":[[{"node":"Finding Missing data Agent","type":"ai_outputParser","index":0}]]},"Analyzing data":{"main":[[{"node":"Prospect final structure","type":"main","index":0}]]},"Prospect final structure":{"main":[[{"node":"Company Name Normalized","type":"main","index":0}]]},"Analyzing data - Parser":{"ai_outputParser":[[{"node":"Analyzing data","type":"ai_outputParser","index":0}]]},"About Company - Parser":{"ai_outputParser":[[{"node":"About the Company Agent","type":"ai_outputParser","index":0}]]},"Framework Agent - First":{"main":[[{"node":"Combining frameworks  - 1","type":"main","index":0}]]},"Framework First - Parser":{"ai_outputParser":[[{"node":"Framework Agent - First","type":"ai_outputParser","index":0}]]},"Framework Agent - Second":{"main":[[{"node":"Combining frameworks - 2","type":"main","index":0}]]},"Framework Second - Parser":{"ai_outputParser":[[{"node":"Framework Agent - Second","type":"ai_outputParser","index":0}]]},"Auditor & GRC Tool Agent":{"main":[[{"node":"Combining Auditor & GRC Tool","type":"main","index":0}]]},"Auditor & GRC Tool - Parser":{"ai_outputParser":[[{"node":"Auditor & GRC Tool Agent","type":"ai_outputParser","index":0}]]},"Combining Auditor & GRC Tool":{"main":[[{"node":"Frameworks - Review Agent","type":"main","index":0}]]},"Combining frameworks  - 1":{"main":[[{"node":"Framework Agent - Second","type":"main","index":0}]]},"Frameworks - Review Agent":{"main":[[{"node":"Combining Framework Review","type":"main","index":0}]]},"OpenAI Chat Model - Page Info":{"ai_languageModel":[[{"node":"Page Visited Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Company Info":{"ai_languageModel":[[{"node":"About the Company Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Contact info.":{"ai_languageModel":[[{"node":"About the Contact Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Auditor & GRC Tool":{"ai_languageModel":[[{"node":"Auditor & GRC Tool Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Framework First":{"ai_languageModel":[[{"node":"Framework Agent - First","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Framework Second":{"ai_languageModel":[[{"node":"Framework Agent - Second","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model - Framework Review":{"ai_languageModel":[[{"node":"Frameworks - Review Agent","type":"ai_languageModel","index":0}]]},"Framework review - Parser":{"ai_outputParser":[[{"node":"Frameworks - Review Agent","type":"ai_outputParser","index":0}]]},"Combining Framework Review":{"main":[[{"node":"Confirmed Frameworks (Primary)","type":"main","index":0}]]},"Prospect Report":{"main":[[{"node":"Opening Sentence","type":"main","index":0}]]},"Adding to database":{"main":[[{"node":"Lemlist Data","type":"main","index":0},{"node":"HubSpot Data","type":"main","index":0},{"node":"Sending out slack notification","type":"main","index":0}]]},"Vector data normalization":{"main":[[{"node":"Summarizing","type":"main","index":0}]]},"HubSpot Integration- Data Normalization":{"main":[[{"node":"Summarizing","type":"main","index":0}]]},"Summarizing Technical Data":{"main":[[{"node":"Combining Company - User - Technical Data","type":"main","index":0}]]},"Lead magic Email Finder":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Findymail Email Finder 1":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Findymail Email Finder 2":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Prospeo Email Finder":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"LeadMagic Email Validation":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Split Out":{"main":[[{"node":"Combining Email data","type":"main","index":0}]]},"Email Finder Agent":{"main":[[{"node":"Split Out","type":"main","index":0}]]},"OpenAI Chat Model - Email finder":{"ai_languageModel":[[{"node":"Email Finder Agent","type":"ai_languageModel","index":0}]]},"Email Finder Parser":{"ai_outputParser":[[{"node":"Email Finder Agent","type":"ai_outputParser","index":0}]]},"Analyzing data Open AI Model":{"ai_languageModel":[[{"node":"Analyzing data","type":"ai_languageModel","index":0}]]},"Findymail Email Finder 3":{"ai_tool":[[{"node":"Email Finder Agent","type":"ai_tool","index":0}]]},"Data Normalization":{"main":[[{"node":"Prospect Report","type":"main","index":0}]]},"📧 Related Customers (Names)":{"main":[[{"node":"Adding Related Customers","type":"main","index":0}]]},"📧 Related Customers (Names) Model":{"ai_languageModel":[[{"node":"📧 Related Customers (Names)","type":"ai_languageModel","index":0}]]},"📧 Related Customers (Name) Model":{"ai_languageModel":[[{"node":"📧 Related Customers (Name)","type":"ai_languageModel","index":0}]]},"📧 Related Customers (Name)":{"main":[[{"node":"Adding Related Customer","type":"main","index":0}]]},"Matches framework of the Page":{"main":[[{"node":"Combining Matched Frameworks","type":"main","index":0}]]},"OpenAI Chat Model - Matching Frameworks":{"ai_languageModel":[[{"node":"Matches framework of the Page","type":"ai_languageModel","index":0}]]},"Matched Frameworks - Parser":{"ai_outputParser":[[{"node":"Matches framework of the Page","type":"ai_outputParser","index":0}]]},"Combining Matched Frameworks":{"main":[[{"node":"ICP Score - Agent V1","type":"main","index":0}]]},"ICP Job Title":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Score - Parser":{"ai_outputParser":[[{"node":"ICP Score - Agent V1","type":"ai_outputParser","index":0}]]},"ICP Company Size":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Intent":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Framework":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"Geolocation Assistant":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Location":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Industrty":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Score - Agent V1":{"main":[[{"node":"Formatting ICP Score","type":"main","index":0}]]},"Formatting ICP Score":{"main":[[{"node":"ICP Summary","type":"main","index":0}]]},"Anthropic Chat Model1":{"ai_languageModel":[[{"node":"ICP Score - Agent V1","type":"ai_languageModel","index":0}]]},"Calculator1":{"ai_tool":[[{"node":"ICP Score - Agent V1","type":"ai_tool","index":0}]]},"ICP Summary":{"main":[[{"node":"Combining ICP summary","type":"main","index":0}]]},"OpenAI Chat Model - ICP Summary":{"ai_languageModel":[[{"node":"ICP Summary","type":"ai_languageModel","index":0}]]},"Combining ICP summary":{"main":[[{"node":"Data Normalization","type":"main","index":0}]]},"Supabase":{"main":[[{"node":"Already Enriched ?","type":"main","index":0}]]},"Already Enriched ?":{"main":[[{"node":"HubSpot meeting data exists ?","type":"main","index":0}],[{"node":"Is personal LinkedIn present?","type":"main","index":0}]]},"HubSpot meeting data exists ?":{"main":[[{"node":"Updating Meeting information","type":"main","index":0}],[{"node":"HubSpot Enrichment ?","type":"main","index":0}]]},"ICP Summary parser":{"ai_outputParser":[[{"node":"ICP Summary","type":"ai_outputParser","index":0}]]},"LinkedIn - Profile Data":{"main":[[{"node":"LinkedIn - Posts","type":"main","index":0}]]},"LinkedIn - Posts":{"main":[[{"node":"LinkedIn - Connection & Follower Count","type":"main","index":0}]]},"LinkedIn - Connection & Follower Count":{"main":[[{"node":"LinkedIn - Company Information","type":"main","index":0}]]},"Linked In Scraped Data":{"main":[[{"node":"Page Information prompt","type":"main","index":0}]]},"HubSpot Enrichment ?":{"main":[[{"node":"Updating - HubSpot Data","type":"main","index":0}]]},"LinkedIn - Company Information":{"main":[[{"node":"Linked In Scraped Data","type":"main","index":0}]]},"Competitor/Partner Classification":{"main":[[{"node":"Adding Competitor Partner Classification","type":"main","index":0}]]},"Competitor/Partner Classification Model":{"ai_languageModel":[[{"node":"Competitor/Partner Classification","type":"ai_languageModel","index":0}]]},"Competitor/Partner Parser":{"ai_outputParser":[[{"node":"Competitor/Partner Classification","type":"ai_outputParser","index":0}]]},"Adding Competitor Partner Classification":{"main":[[{"node":"SOC 1","type":"main","index":0}]]},"Confirmed Frameworks (Primary)":{"main":[[{"node":"Adding Confirmed Frameworks (Primary)","type":"main","index":0}]]},"OpenAI Chat Model - Confirmed Frameworks (Primary))":{"ai_languageModel":[[{"node":"Confirmed Frameworks (Primary)","type":"ai_languageModel","index":0}]]},"Adding Confirmed Frameworks (Primary)":{"main":[[{"node":"Confirmed Frameworks (Secondary)","type":"main","index":0}]]},"Confirmed Frameworks (Secondary)":{"main":[[{"node":"Adding Confirmed Frameworks (Secondary)","type":"main","index":0}]]},"OpenAI Chat Model - Confirmed Frameworks (Secondary)":{"ai_languageModel":[[{"node":"Confirmed Frameworks (Secondary)","type":"ai_languageModel","index":0}]]},"Adding Confirmed Frameworks (Secondary)":{"main":[[{"node":"Matches framework of the Page","type":"main","index":0}]]},"Company Name Normalized":{"main":[[{"node":"Adding Normalized Company Name","type":"main","index":0}]]},"OpenAI Chat Model - Company Name Normalized":{"ai_languageModel":[[{"node":"Company Name Normalized","type":"ai_languageModel","index":0}]]},"Adding Normalized Company Name":{"main":[[{"node":"Job Title Normalized","type":"main","index":0}]]},"Job Title Normalized":{"main":[[{"node":"Adding Normalized Job Title","type":"main","index":0}]]},"OpenAI Chat Model - Job Title Normalized":{"ai_languageModel":[[{"node":"Job Title Normalized","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Job Title Normalized":{"ai_outputParser":[[{"node":"Job Title Normalized","type":"ai_outputParser","index":0}]]},"Adding Normalized Job Title":{"main":[[{"node":"LinkedIn - Profile Data","type":"main","index":0}]]},"Opening Sentence":{"main":[[{"node":"Adding Opening Sentence","type":"main","index":0}]]},"OpenAI Chat Model - Opening Sentence":{"ai_languageModel":[[{"node":"Opening Sentence","type":"ai_languageModel","index":0}]]},"Funding":{"main":[[{"node":"Adding Funding To Company","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Funding","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Company Funding":{"ai_outputParser":[[{"node":"Funding","type":"ai_outputParser","index":0}]]},"Adding Funding To Company":{"main":[[{"node":"Company Positive Article","type":"main","index":0}]]},"Company Positive Article":{"main":[[{"node":"Adding positive article URL","type":"main","index":0}]]},"OpenAI Chat Model - Company Positive Article":{"ai_languageModel":[[{"node":"Company Positive Article","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Positive Article URL":{"ai_outputParser":[[{"node":"Company Positive Article","type":"ai_outputParser","index":0}]]},"Adding positive article URL":{"main":[[{"node":"Positive Article Analysis","type":"main","index":0}]]},"Positive Article Analysis":{"main":[[{"node":"Adding Article Analysis","type":"main","index":0}]]},"OpenAI Chat Model - Positive Article Analysis":{"ai_languageModel":[[{"node":"Positive Article Analysis","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Positive Article Analysis":{"ai_outputParser":[[{"node":"Positive Article Analysis","type":"ai_outputParser","index":0}]]},"Adding Article Analysis":{"main":[[{"node":"About the contact prompt","type":"main","index":0}]]},"Adding Opening Sentence":{"main":[[{"node":"Bridge","type":"main","index":0}]]},"Bridge":{"main":[[{"node":"Adding Bridge Sentence","type":"main","index":0}]]},"OpenAI Chat Model Bridge":{"ai_languageModel":[[{"node":"Bridge","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Bridge":{"ai_outputParser":[[{"node":"Bridge","type":"ai_outputParser","index":0}]]},"Adding Bridge Sentence":{"main":[[{"node":"How Can We Help - Sentence","type":"main","index":0}]]},"How Can We Help - Sentence":{"main":[[{"node":"Adding How Can We Help","type":"main","index":0}]]},"OpenAI Chat Model - How Can We Help ?":{"ai_languageModel":[[{"node":"How Can We Help - Sentence","type":"ai_languageModel","index":0}]]},"Adding How Can We Help":{"main":[[{"node":"Related Customers Sentence","type":"main","index":0}]]},"Related Customers":{"ai_languageModel":[[{"node":"Related Customers Sentence","type":"ai_languageModel","index":0}]]},"Related Customers Sentence":{"main":[[{"node":"Adding Related Customers Sentence","type":"main","index":0}]]},"Adding Related Customers Sentence":{"main":[[{"node":"Closing Sentence","type":"main","index":0}]]},"Closing Sentence":{"main":[[{"node":"Adding Closing Sentence","type":"main","index":0}]]},"OpenAI Chat Model - Closing Sentence":{"ai_languageModel":[[{"node":"Closing Sentence","type":"ai_languageModel","index":0}]]},"Adding Closing Sentence":{"main":[[{"node":"Email Analysis","type":"main","index":0}]]},"Email Analysis":{"main":[[{"node":"Adding Email Analysis","type":"main","index":0}]]},"OpenAI Chat Model - Email Analysis":{"ai_languageModel":[[{"node":"Email Analysis","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Email Analysis":{"ai_outputParser":[[{"node":"Email Analysis","type":"ai_outputParser","index":0}]]},"Adding Email Analysis":{"main":[[{"node":"Email Subject","type":"main","index":0}]]},"Email Subject":{"main":[[{"node":"Adding Email Subject","type":"main","index":0}]]},"OpenAI Chat Model - Email Subject":{"ai_languageModel":[[{"node":"Email Subject","type":"ai_languageModel","index":0}]]},"Adding Email Subject":{"main":[[{"node":"📧 Related Customers (Name)","type":"main","index":0}]]},"Adding Related Customer":{"main":[[{"node":"📧 Related Customers (Names)","type":"main","index":0}]]},"Adding Related Customers":{"main":[[{"node":"Has a Single framework or multiple ?","type":"main","index":0}]]},"Do they have single framework ?":{"main":[[{"node":"Single Framework","type":"main","index":0}],[{"node":"Multiple Framework","type":"main","index":0}]]},"Lemlist Data":{"main":[[{"node":"Does Prospect have a Tier ? AND they are not a competitor","type":"main","index":0},{"node":"Sent to Clay","type":"main","index":0}]]},"Has a Single framework or multiple ?":{"main":[[{"node":"Adding Framework Count","type":"main","index":0}]]},"OpenAI Chat Model - Framework Count":{"ai_languageModel":[[{"node":"Has a Single framework or multiple ?","type":"ai_languageModel","index":0}]]},"Structured Output Parser - Framework Count":{"ai_outputParser":[[{"node":"Has a Single framework or multiple ?","type":"ai_outputParser","index":0}]]},"Adding Framework Count":{"main":[[{"node":"Framework research results","type":"main","index":0}]]},"Vector Data":{"main":[[{"node":"Vector data normalization","type":"main","index":0}]]},"RB2B Data":{"main":[[{"node":"RB2B Data normalization","type":"main","index":0}]]},"RB2B Data normalization":{"main":[[{"node":"Summarizing","type":"main","index":0}]]},"Finding HubSpot Company":{"main":[[{"node":"Updating HubSpot Company","type":"main","index":0}]]},"Updating HubSpot Contact":{"main":[[{"node":"Finding HubSpot Company","type":"main","index":0}]]},"Is Tier 1 ?":{"main":[[{"node":"Add to a list","type":"main","index":0},{"node":"Updating HubSpot Contact","type":"main","index":0}],[{"node":"HubSpot Enrichment ? - New Prospect","type":"main","index":0}]]},"Framework research results":{"main":[[{"node":"Adding Framework Research Results","type":"main","index":0}]]},"OpenAI Chat Model - Framework research results":{"ai_languageModel":[[{"node":"Framework research results","type":"ai_languageModel","index":0}]]},"Adding Framework Research Results":{"main":[[{"node":"Content Benefit","type":"main","index":0}]]},"Single Framework Benefits (Casual) Model":{"ai_languageModel":[[{"node":"Content Benefit","type":"ai_languageModel","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"Content Benefit","type":"ai_outputParser","index":0}]]},"Content Benefit":{"main":[[{"node":"Adding Content - Benefit","type":"main","index":0}]]},"HubSpot Data":{"main":[[{"node":"Is Tier 1 ?","type":"main","index":0}]]},"Does Prospect have a Tier ? AND they are not a competitor":{"main":[[{"node":"Do they have single framework ?","type":"main","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"HubSpot Integration- Data Normalization","type":"main","index":0}]]},"Updating - HubSpot Data":{"main":[[{"node":"Updating - Updating HubSpot Contact","type":"main","index":0}]]},"Updating - Updating HubSpot Contact":{"main":[[{"node":"Updating - Finding HubSpot Company","type":"main","index":0}]]},"Updating - Finding HubSpot Company":{"main":[[{"node":"Updating - Updating HubSpot Company","type":"main","index":0}]]},"HubSpot Enrichment ? - New Prospect":{"main":[[{"node":"Updating HubSpot Contact","type":"main","index":0}]]},"When clicking ‘Test workflow’":{"main":[[{"node":"Mockup Data","type":"main","index":0}]]},"SOC 1":{"main":[[{"node":"SOC 2","type":"main","index":0}]]},"SOC 1 Model":{"ai_languageModel":[[{"node":"SOC 1","type":"ai_languageModel","index":0}]]},"SOC 1 Output parser":{"ai_outputParser":[[{"node":"SOC 1","type":"ai_outputParser","index":0}]]},"SOC 2":{"main":[[{"node":"HIPAA / HITECH","type":"main","index":0}]]},"SOC 2 Agent":{"ai_languageModel":[[{"node":"SOC 2","type":"ai_languageModel","index":0}]]},"SOC 2 Output Parser":{"ai_outputParser":[[{"node":"SOC 2","type":"ai_outputParser","index":0}]]},"HIPAA / HITECH":{"main":[[{"node":"PCI DSS","type":"main","index":0}]]},"HIPAA / HITECH Model":{"ai_languageModel":[[{"node":"HIPAA / HITECH","type":"ai_languageModel","index":0}]]},"HIPAA / HITECH Output Parser":{"ai_outputParser":[[{"node":"HIPAA / HITECH","type":"ai_outputParser","index":0}]]},"PCI DSS":{"main":[[{"node":"ISO 27001","type":"main","index":0}]]},"PCI DSS Agent":{"ai_languageModel":[[{"node":"PCI DSS","type":"ai_languageModel","index":0}]]},"PCI DSS Output Parser":{"ai_outputParser":[[{"node":"PCI DSS","type":"ai_outputParser","index":0}]]},"ISO 27001":{"main":[[{"node":"ISO 42001 (AI)","type":"main","index":0}]]},"ISO-27001 Agent":{"ai_languageModel":[[{"node":"ISO 27001","type":"ai_languageModel","index":0}]]},"ISO - 27001 Output Parser":{"ai_outputParser":[[{"node":"ISO 27001","type":"ai_outputParser","index":0}]]},"ISO 42001 (AI)":{"main":[[{"node":"CMMC","type":"main","index":0}]]},"ISO 42001 (AI) Model":{"ai_languageModel":[[{"node":"ISO 42001 (AI)","type":"ai_languageModel","index":0}]]},"ISO 42001 (AI) Output Parser":{"ai_outputParser":[[{"node":"ISO 42001 (AI)","type":"ai_outputParser","index":0}]]},"CMMC":{"main":[[{"node":"GDPR","type":"main","index":0}]]},"CMMC Agent":{"ai_languageModel":[[{"node":"CMMC","type":"ai_languageModel","index":0}]]},"CMMC Output parser":{"ai_outputParser":[[{"node":"CMMC","type":"ai_outputParser","index":0}]]},"GDPR":{"main":[[{"node":"HITRUST","type":"main","index":0}]]},"GDPR Agent":{"ai_languageModel":[[{"node":"GDPR","type":"ai_languageModel","index":0}]]},"GDPR Parser":{"ai_outputParser":[[{"node":"GDPR","type":"ai_outputParser","index":0}]]},"HITRUST":{"main":[[{"node":"HITRUST AI RMF (AI)","type":"main","index":0}]]},"HITRUST Model":{"ai_languageModel":[[{"node":"HITRUST","type":"ai_languageModel","index":0}]]},"HITRUST Output Parser":{"ai_outputParser":[[{"node":"HITRUST","type":"ai_outputParser","index":0}]]},"HITRUST AI RMF (AI)":{"main":[[{"node":"NIST CSF","type":"main","index":0}]]},"HITRUST AI RMF (AI) Agent":{"ai_languageModel":[[{"node":"HITRUST AI RMF (AI)","type":"ai_languageModel","index":0}]]},"HITRUST AI RMF (AI) Output parser":{"ai_outputParser":[[{"node":"HITRUST AI RMF (AI)","type":"ai_outputParser","index":0}]]},"NIST CSF":{"main":[[{"node":"NIST SP 800-53","type":"main","index":0}]]},"NIST CSF - Agent":{"ai_languageModel":[[{"node":"NIST CSF","type":"ai_languageModel","index":0}]]},"NIST CSF - Output parser":{"ai_outputParser":[[{"node":"NIST CSF","type":"ai_outputParser","index":0}]]},"NIST SP 800-53":{"main":[[{"node":"NIST AI RMF (AI)","type":"main","index":0}]]},"NIST SP 800-53 Agent":{"ai_languageModel":[[{"node":"NIST SP 800-53","type":"ai_languageModel","index":0}]]},"NIST SP 800-53 - Output parser":{"ai_outputParser":[[{"node":"NIST SP 800-53","type":"ai_outputParser","index":0}]]},"NIST AI RMF (AI)":{"main":[[{"node":"Combining Found Frameworks","type":"main","index":0}]]},"NIST AI RMF (AI) Agent":{"ai_languageModel":[[{"node":"NIST AI RMF (AI)","type":"ai_languageModel","index":0}]]},"NIST AI RMF - Output parser":{"ai_outputParser":[[{"node":"NIST AI RMF (AI)","type":"ai_outputParser","index":0}]]},"Combining Found Frameworks":{"main":[[{"node":"Evaluating Framework Research","type":"main","index":0}]]},"Evaluating Framework Research":{"main":[[{"node":"Adding framework review and analysis","type":"main","index":0}]]},"Adding framework review and analysis":{"main":[[{"node":"Auditor & GRC Tool Agent","type":"main","index":0}]]},"Framework evaluation Agent":{"ai_languageModel":[[{"node":"Evaluating Framework Research","type":"ai_languageModel","index":0}]]},"Adding Content - Benefit":{"main":[[{"node":"Adding to database","type":"main","index":0}]]},"Sending out slack notification":{"main":[[{"node":"Scoring Summary Thread","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{"Vector Data":[{"json":{"headers":{"host":"n8n.searchactions.com","user-agent":"Svix-Webhooks/1.59.2","content-length":"1299","accept":"*/*","content-type":"application/json","svix-id":"msg_2u0TSQ61q7QL3Mf7QGGsTfU1KuR","svix-signature":"v1,zqT4OIqCj7FIveRJUE3GdwO0pxglI5QD459BWxoehy4=","svix-timestamp":"1741384490","x-forwarded-for":"44.228.126.217","x-forwarded-host":"n8n.searchactions.com","x-forwarded-proto":"https","accept-encoding":"gzip"},"params":{},"query":{},"body":{"company":"City Of Kent, Washington","companyDomain":"kentwa.gov","companyLinkedinUrl":"linkedin.com/company/city-of-kent-washington","country":"US","firstName":"Michelle","firstVisitAt":"2025-03-07T21:40:17.587Z","hasPersonInfo":true,"hem":"198acc9ffc9cba73f354536a008f2f8f266303a1ceee146f979c745c43ed1800","hems":["198acc9ffc9cba73f354536a008f2f8f266303a1ceee146f979c745c43ed1800"],"intentScore":0,"lastName":"Wilmot","lastVisitAt":"2025-03-07T21:40:17.868Z","linkedinUrl":"linkedin.com/in/michellerwilmot","location":"Seattle, WA","maids":[],"pageTitle":"What Are PCI Compliance Levels and Why Do They Matter?","pageUrl":"https://www.ispartnersllc.com/blog/pci-compliance-levels/","primaryId":47162261,"primaryIdType":"visitor","segmentId":789,"segmentName":"All Visitors","title":"Economic Development Manager","type":"contact.visited","upId":"5x5-915602dddb8f2a161d37b549c27dccd2","utmCampaign":"","utmContent":"","utmMedium":"search","utmSource":"","utmTerm":"","visitorActivities":[{"createdAt":"2025-03-07T21:40:17.868Z","pageTitle":"What Are PCI Compliance Levels and Why Do They Matter?","pageUrl":"https://www.ispartnersllc.com/blog/pci-compliance-levels/","utmCampaign":"","utmContent":"","utmMedium":"search","utmSource":"","utmTerm":""}],"vvid":"2c0b5e0f-dbdf-46eb-b4ce-48055e1e5710"},"webhookUrl":"https://n8n.searchactions.com/webhook/vector-v3","executionMode":"production"}}]},"versionId":"b1b341fa-cfba-498f-9c16-7f8f9a2877b4","triggerCount":2,"tags":[{"createdAt":"2024-09-16T17:47:31.046Z","updatedAt":"2024-09-16T17:47:31.046Z","id":"S6G5nzOVVSQAgvEd","name":"ispartnersllc.com"}]}